!function e(t,r,n){function i(o,u){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";r.byteLength=function(e){var t=f(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=f(e),o=n[0],u=n[1],s=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,u)),l=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,s[l++]=255&t);1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,u=r-i;o<u;o+=16383)a.push(l(e,o,o+16383>u?u:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=o.length;u<s;++u)n[u]=o[u],i[o.charCodeAt(u)]=u;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,a,o=[],u=t;u<r;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var t=e>>31;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(i),r.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},r.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},r.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},r.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},r.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},{}],3:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=a,r.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},r.INSPECT_MAX_BYTES=50;function i(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|c(e,t),n=i(r),o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=a.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var o=function(e){if(a.isBuffer(e)){var t=0|l(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||F(e.length)?i(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return u(e),i(e<0?0:0|l(e))}function f(e){for(var t=e.length<0?0:0|l(e.length),r=i(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function c(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(i)return n?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return j(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var a,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function f(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<u;a++)if(f(e,a)===f(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===s)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,h=0;h<s;h++)if(f(e,a+h)!==f(t,h)){c=!1;break}if(c)return a}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(F(u))return o;e[r+o]=u}return o}function _(e,t,r,n){return L(z(t,e.length-r),e,r,n)}function y(e,t,r,n){return L(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r,n){return y(e,t,r,n)}function b(e,t,r,n){return L(M(t),e,r,n)}function w(e,t,r,n){return L(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,u,s,f=e[i],l=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=r)switch(c){case 1:f<128&&(l=f);break;case 2:128==(192&(a=e[i+1]))&&(s=(31&f)<<6|63&a)>127&&(l=s);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(s=(15&f)<<12|(63&a)<<6|63&o)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:a=e[i+1],o=e[i+2],u=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&u)&&(s=(15&f)<<18|(63&a)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}r.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return o(e,t,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},a.allocUnsafe=function(e){return s(e)},a.allocUnsafeSlow=function(e){return s(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(N(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(N(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=c,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,n,i){if(N(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(r>>>=0)-(t>>>=0),s=Math.min(o,u),f=this.slice(n,i),l=e.slice(t,r),c=0;c<s;++c)if(f[c]!==l[c]){o=f[c],u=l[c];break}return o<u?-1:u<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return m(this,e,t,r);case"base64":return b(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=D(e[a]);return i}function V(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function S(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,r,i,a){return t=+t,r>>>=0,a||S(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function C(e,t,r,i,a){return t=+t,r>>>=0,a||S(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=0,o=1,u=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===u&&0!==this[t+a-1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=r-1,o=1,u=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===u&&0!==this[t+a+1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var u=a.isBuffer(e)?e:a.from(e,n),s=u.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=u[o%s]}return this};var B=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function M(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:14}],4:[function(e,t,r){"use strict";var n=e("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var o=r[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}},{"./lib/thunk.js":6}],5:[function(e,t,r){"use strict";var n=e("uniq");function i(e,t,r){var n,i,a=e.length,o=t.arrayArgs.length,u=t.indexArgs.length>0,s=[],f=[],l=0,c=0;for(n=0;n<a;++n)f.push(["i",n,"=0"].join(""));for(i=0;i<o;++i)for(n=0;n<a;++n)c=l,l=e[n],0===n?f.push(["d",i,"s",n,"=t",i,"p",l].join("")):f.push(["d",i,"s",n,"=(t",i,"p",l,"-s",c,"*t",i,"p",c,")"].join(""));for(f.length>0&&s.push("var "+f.join(",")),n=a-1;n>=0;--n)l=e[n],s.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(s.push(r),n=0;n<a;++n){for(c=l,l=e[n],i=0;i<o;++i)s.push(["p",i,"+=d",i,"s",n].join(""));u&&(n>0&&s.push(["index[",c,"]-=s",c].join("")),s.push(["++index[",l,"]"].join(""))),s.push("}")}return s.join("\n")}function a(e,t,r){for(var n=e.body,i=[],a=[],o=0;o<e.args.length;++o){var u=e.args[o];if(!(u.count<=0)){var s=new RegExp(u.name,"g"),f="",l=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o);l=t.offsetArgs[c].array,f="+q"+c;case"array":f="p"+l+f;var h="l"+o,p="a"+l;if(0===t.arrayBlockIndices[l])1===u.count?"generic"===r[l]?u.lvalue?(i.push(["var ",h,"=",p,".get(",f,")"].join("")),n=n.replace(s,h),a.push([p,".set(",f,",",h,")"].join(""))):n=n.replace(s,[p,".get(",f,")"].join("")):n=n.replace(s,[p,"[",f,"]"].join("")):"generic"===r[l]?(i.push(["var ",h,"=",p,".get(",f,")"].join("")),n=n.replace(s,h),u.lvalue&&a.push([p,".set(",f,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",f,"]"].join("")),n=n.replace(s,h),u.lvalue&&a.push([p,"[",f,"]=",h].join("")));else{for(var d=[u.name],g=[f],v=0;v<Math.abs(t.arrayBlockIndices[l]);v++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+l+"b"+v);if(s=new RegExp(d.join(""),"g"),f=g.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(s,[p,"[",f,"]"].join(""))}break;case"scalar":n=n.replace(s,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(s,"index");break;case"shape":n=n.replace(s,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function o(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}t.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,u=new Array(e.arrayArgs.length),s=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)s[f]=t[2*f],u[f]=t[2*f+1];var l=[],c=[],h=[],p=[],d=[];for(f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(h.push(0),p.push(r),l.push(r),c.push(r+e.arrayBlockIndices[f])):(h.push(e.arrayBlockIndices[f]),p.push(e.arrayBlockIndices[f]+r),l.push(0),c.push(e.arrayBlockIndices[f]));for(var g=[],v=0;v<u[f].length;v++)h[f]<=u[f][v]&&u[f][v]<p[f]&&g.push(u[f][v]-h[f]);d.push(g)}var _=["SS"],y=["'use strict'"],m=[];for(v=0;v<r;++v)m.push(["s",v,"=SS[",v,"]"].join(""));for(f=0;f<e.arrayArgs.length;++f){_.push("a"+f),_.push("t"+f),_.push("p"+f);for(v=0;v<r;++v)m.push(["t",f,"p",v,"=t",f,"[",h[f]+v,"]"].join(""));for(v=0;v<Math.abs(e.arrayBlockIndices[f]);++v)m.push(["t",f,"b",v,"=t",f,"[",l[f]+v,"]"].join(""))}for(f=0;f<e.scalarArgs.length;++f)_.push("Y"+f);if(e.shapeArgs.length>0&&m.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(r);for(f=0;f<r;++f)b[f]="0";m.push(["index=[",b.join(","),"]"].join(""))}for(f=0;f<e.offsetArgs.length;++f){var w=e.offsetArgs[f],x=[];for(v=0;v<w.offset.length;++v)0!==w.offset[v]&&(1===w.offset[v]?x.push(["t",w.array,"p",v].join("")):x.push([w.offset[v],"*t",w.array,"p",v].join("")));0===x.length?m.push("q"+f+"=0"):m.push(["q",f,"=",x.join("+")].join(""))}var A=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((m=m.concat(A)).length>0&&y.push("var "+m.join(",")),f=0;f<e.arrayArgs.length;++f)y.push("p"+f+"|=0");e.pre.body.length>3&&y.push(a(e.pre,e,s));var j=a(e.body,e,s),E=function(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}(d);E<r?y.push(function(e,t,r,n){for(var a=t.length,o=r.arrayArgs.length,u=r.blockSize,s=r.indexArgs.length>0,f=[],l=0;l<o;++l)f.push(["var offset",l,"=p",l].join(""));for(l=e;l<a;++l)f.push(["for(var j"+l+"=SS[",t[l],"]|0;j",l,">0;){"].join("")),f.push(["if(j",l,"<",u,"){"].join("")),f.push(["s",t[l],"=j",l].join("")),f.push(["j",l,"=0"].join("")),f.push(["}else{s",t[l],"=",u].join("")),f.push(["j",l,"-=",u,"}"].join("")),s&&f.push(["index[",t[l],"]=j",l].join(""));for(l=0;l<o;++l){for(var c=["offset"+l],h=e;h<a;++h)c.push(["j",h,"*t",l,"p",t[h]].join(""));f.push(["p",l,"=(",c.join("+"),")"].join(""))}for(f.push(i(t,r,n)),l=e;l<a;++l)f.push("}");return f.join("\n")}(E,d[0],e,j)):y.push(i(d[0],e,j)),e.post.body.length>3&&y.push(a(e.post,e,s)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var k=[e.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",E,o(s)].join("");return new Function(["function ",k,"(",_.join(","),"){",y.join("\n"),"} return ",k].join(""))()}},{uniq:55}],6:[function(e,t,r){"use strict";var n=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],u=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],s=[],f=[],l=0;l<e.arrayArgs.length;++l){var c=e.arrayArgs[l];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),u.push("array"+c+".data"),u.push("array"+c+".stride"),u.push("array"+c+".offset|0"),l>0&&(s.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[l]))),f.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[l])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),l=0;l<e.scalarArgs.length;++l)u.push("scalar"+e.scalarArgs[l]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",u.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},{"./compile.js":5}],7:[function(e,t,r){t.exports=e("cwise-compiler")},{"cwise-compiler":4}],8:[function(e,t,r){"use strict";t.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,r,n){var i=0|t[n];if(i<=0)return[];var a,o=new Array(i);if(n===t.length-1)for(a=0;a<i;++a)o[a]=r;else for(a=0;a<i;++a)o[a]=e(t,r,n+1);return o}(e,t,0)}return[]}},{}],9:[function(e,t,r){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],10:[function(e,t,r){var n=e("./identity");t.exports=function(e,t,r,i){var a,o,u,s,f,l,c,h,p,d,g=t[0],v=t[1],_=t[2],y=i[0],m=i[1],b=i[2],w=r[0],x=r[1],A=r[2];if(Math.abs(g-w)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(_-A)<1e-6)return n(e);c=g-w,h=v-x,p=_-A,d=1/Math.sqrt(c*c+h*h+p*p),a=m*(p*=d)-b*(h*=d),o=b*(c*=d)-y*p,u=y*h-m*c,(d=Math.sqrt(a*a+o*o+u*u))?(a*=d=1/d,o*=d,u*=d):(a=0,o=0,u=0);s=h*u-p*o,f=p*a-c*u,l=c*o-h*a,(d=Math.sqrt(s*s+f*f+l*l))?(s*=d=1/d,f*=d,l*=d):(s=0,f=0,l=0);return e[0]=a,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=f,e[6]=h,e[7]=0,e[8]=u,e[9]=l,e[10]=p,e[11]=0,e[12]=-(a*g+o*v+u*_),e[13]=-(s*g+f*v+l*_),e[14]=-(c*g+h*v+p*_),e[15]=1,e}},{"./identity":9}],11:[function(e,t,r){t.exports=function(e,t,r,n,i){var a=1/Math.tan(t/2),o=1/(n-i);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*o,e[15]=0,e}},{}],12:[function(e,t,r){t.exports=function(e,t){t||(t={});var r,n,i=t.attributes?{}:null,a=i&&Object.keys(t.attributes);if(i)for(var o=0;o<a.length;o++)i[a[o]]=[];var u=[],s=[],f=[],l=e.positions,c=e.cells,h=0;for(r=0;r<e.cells.length;r++){var p=c[r];if(3===p.length&&(u.push(l[p[0]]),u.push(l[p[1]]),u.push(l[p[2]]),f.push([0,0]),f.push([1,0]),f.push([0,1]),s.push(h++),s.push(h++),s.push(h++),a))for(n=0;n<a.length;n++){var d=a[n];i[d].push(t.attributes[d][p[0]]),i[d].push(t.attributes[d][p[1]]),i[d].push(t.attributes[d][p[2]])}}var g={positions:u,attributes:i,barycentric:f};return e.cells&&(g.cells=s),g}},{}],13:[function(e,t,r){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),r=[],n=0;n<e.length-1;n++)r.push(e[n],t[n]||"");return r.push(e[n]),r.join("")}},{}],14:[function(e,t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(e,t,r,n,i){var a,o,u=8*i-n-1,s=(1<<u)-1,f=s>>1,l=-7,c=r?i-1:0,h=r?-1:1,p=e[t+c];for(c+=h,a=p&(1<<-l)-1,p>>=-l,l+=u;l>0;a=256*a+e[t+c],c+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+c],c+=h,l-=8);if(0===a)a=1-f;else{if(a===s)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=f}return(p?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,u,s,f=8*a-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+c>=1?h/s:h*Math.pow(2,1-c))*s>=2&&(o++,s/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*s-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&u,p+=d,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;e[r+p]=255&o,p+=d,o/=256,f-=8);e[r+p-d]|=128*g}},{}],15:[function(e,t,r){"use strict";t.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},{}],16:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],17:[function(e,t,r){(function(e){(function(){(function(){var n="Expected a function",i="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",u="[object Array]",s="[object Boolean]",f="[object Date]",l="[object Error]",c="[object Function]",h="[object GeneratorFunction]",p="[object Map]",d="[object Number]",g="[object Object]",v="[object RegExp]",_="[object Set]",y="[object String]",m="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",A="[object Float32Array]",j="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",V="[object Int32Array]",T="[object Uint8Array]",O="[object Uint16Array]",S="[object Uint32Array]",I=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,M=RegExp(D.source),L=RegExp(z.source),N=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,H=RegExp(W.source),G=/^\s+/,Y=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/[()=,{}\[\]\/\s]/,J=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,ie=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,se=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,le="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="[\\ud800-\\udfff]",pe="["+ce+"]",de="["+le+"]",ge="\\d+",ve="[\\u2700-\\u27bf]",_e="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+ce+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",me="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",we="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="[A-Z\\xc0-\\xd6\\xd8-\\xde]",je="(?:"+_e+"|"+ye+")",Ee="(?:"+Ae+"|"+ye+")",ke="(?:"+de+"|"+me+")"+"?",Ve="[\\ufe0e\\ufe0f]?"+ke+("(?:\\u200d(?:"+[be,we,xe].join("|")+")[\\ufe0e\\ufe0f]?"+ke+")*"),Te="(?:"+[ve,we,xe].join("|")+")"+Ve,Oe="(?:"+[be+de+"?",de,we,xe,he].join("|")+")",Se=RegExp("['’]","g"),Ie=RegExp(de,"g"),Ce=RegExp(me+"(?="+me+")|"+Oe+Ve,"g"),Be=RegExp([Ae+"?"+_e+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[pe,Ae,"$"].join("|")+")",Ee+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Ae+je,"$"].join("|")+")",Ae+"?"+je+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Te].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+le+"\\ufe0e\\ufe0f]"),ze=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Le=-1,Ne={};Ne[A]=Ne[j]=Ne[E]=Ne[k]=Ne[V]=Ne[T]=Ne["[object Uint8ClampedArray]"]=Ne[O]=Ne[S]=!0,Ne[o]=Ne[u]=Ne[w]=Ne[s]=Ne[x]=Ne[f]=Ne[l]=Ne[c]=Ne[p]=Ne[d]=Ne[g]=Ne[v]=Ne[_]=Ne[y]=Ne[b]=!1;var Fe={};Fe[o]=Fe[u]=Fe[w]=Fe[x]=Fe[s]=Fe[f]=Fe[A]=Fe[j]=Fe[E]=Fe[k]=Fe[V]=Fe[p]=Fe[d]=Fe[g]=Fe[v]=Fe[_]=Fe[y]=Fe[m]=Fe[T]=Fe["[object Uint8ClampedArray]"]=Fe[O]=Fe[S]=!0,Fe[l]=Fe[c]=Fe[b]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Re=parseFloat,Pe=parseInt,qe="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,He=qe||We||Function("return this")(),Ge="object"==typeof r&&r&&!r.nodeType&&r,Ye=Ge&&"object"==typeof t&&t&&!t.nodeType&&t,$e=Ye&&Ye.exports===Ge,Qe=$e&&qe.process,Ke=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),Ze=Ke&&Ke.isArrayBuffer,Xe=Ke&&Ke.isDate,Je=Ke&&Ke.isMap,et=Ke&&Ke.isRegExp,tt=Ke&&Ke.isSet,rt=Ke&&Ke.isTypedArray;function nt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function it(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function at(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function st(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function ft(e,t){return!!(null==e?0:e.length)&&mt(e,t,0)>-1}function lt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function ct(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function ht(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function pt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function dt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function gt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vt=At("length");function _t(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function yt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function mt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):yt(e,wt,r)}function bt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function wt(e){return e!=e}function xt(e,t){var r=null==e?0:e.length;return r?kt(e,t)/r:NaN}function At(e){return function(t){return null==t?void 0:t[e]}}function jt(e){return function(t){return null==e?void 0:e[t]}}function Et(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function kt(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(r=void 0===r?a:r+a)}return r}function Vt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Tt(e){return e?e.slice(0,Gt(e)+1).replace(G,""):e}function Ot(e){return function(t){return e(t)}}function St(e,t){return ct(t,(function(t){return e[t]}))}function It(e,t){return e.has(t)}function Ct(e,t){for(var r=-1,n=e.length;++r<n&&mt(t,e[r],0)>-1;);return r}function Bt(e,t){for(var r=e.length;r--&&mt(t,e[r],0)>-1;);return r}function Dt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var zt=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Mt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+Ue[e]}function Nt(e){return De.test(e)}function Ft(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Ut(e,t){return function(r){return e(t(r))}}function Rt(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var u=e[r];u!==t&&u!==i||(e[r]=i,o[a++]=r)}return o}function Pt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function qt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Wt(e){return Nt(e)?function(e){var t=Ce.lastIndex=0;for(;Ce.test(e);)++t;return t}(e):vt(e)}function Ht(e){return Nt(e)?function(e){return e.match(Ce)||[]}(e):function(e){return e.split("")}(e)}function Gt(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var Yt=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $t=function e(t){var r,Y=(t=null==t?He:$t.defaults(He.Object(),t,$t.pick(He,Me))).Array,le=t.Date,ce=t.Error,he=t.Function,pe=t.Math,de=t.Object,ge=t.RegExp,ve=t.String,_e=t.TypeError,ye=Y.prototype,me=he.prototype,be=de.prototype,we=t["__core-js_shared__"],xe=me.toString,Ae=be.hasOwnProperty,je=0,Ee=(r=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ke=be.toString,Ve=xe.call(de),Te=He._,Oe=ge("^"+xe.call(Ae).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=$e?t.Buffer:void 0,De=t.Symbol,Ue=t.Uint8Array,qe=Ce?Ce.allocUnsafe:void 0,We=Ut(de.getPrototypeOf,de),Ge=de.create,Ye=be.propertyIsEnumerable,Qe=ye.splice,Ke=De?De.isConcatSpreadable:void 0,vt=De?De.iterator:void 0,jt=De?De.toStringTag:void 0,Qt=function(){try{var e=ea(de,"defineProperty");return e({},"",{}),e}catch(e){}}(),Kt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Zt=le&&le.now!==He.Date.now&&le.now,Xt=t.setTimeout!==He.setTimeout&&t.setTimeout,Jt=pe.ceil,er=pe.floor,tr=de.getOwnPropertySymbols,rr=Ce?Ce.isBuffer:void 0,nr=t.isFinite,ir=ye.join,ar=Ut(de.keys,de),or=pe.max,ur=pe.min,sr=le.now,fr=t.parseInt,lr=pe.random,cr=ye.reverse,hr=ea(t,"DataView"),pr=ea(t,"Map"),dr=ea(t,"Promise"),gr=ea(t,"Set"),vr=ea(t,"WeakMap"),_r=ea(de,"create"),yr=vr&&new vr,mr={},br=Va(hr),wr=Va(pr),xr=Va(dr),Ar=Va(gr),jr=Va(vr),Er=De?De.prototype:void 0,kr=Er?Er.valueOf:void 0,Vr=Er?Er.toString:void 0;function Tr(e){if(Ho(e)&&!Do(e)&&!(e instanceof Cr)){if(e instanceof Ir)return e;if(Ae.call(e,"__wrapped__"))return Ta(e)}return new Ir(e)}var Or=function(){function e(){}return function(t){if(!Wo(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Sr(){}function Ir(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Cr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Br(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Mr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new zr;++t<r;)this.add(e[t])}function Lr(e){var t=this.__data__=new Dr(e);this.size=t.size}function Nr(e,t){var r=Do(e),n=!r&&Bo(e),i=!r&&!n&&No(e),a=!r&&!n&&!i&&Jo(e),o=r||n||i||a,u=o?Vt(e.length,ve):[],s=u.length;for(var f in e)!t&&!Ae.call(e,f)||o&&("length"==f||i&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||ua(f,s))||u.push(f);return u}function Fr(e){var t=e.length;return t?e[Ln(0,t-1)]:void 0}function Ur(e,t){return ja(yi(e),Qr(t,0,e.length))}function Rr(e){return ja(yi(e))}function Pr(e,t,r){(void 0!==r&&!So(e[t],r)||void 0===r&&!(t in e))&&Yr(e,t,r)}function qr(e,t,r){var n=e[t];Ae.call(e,t)&&So(n,r)&&(void 0!==r||t in e)||Yr(e,t,r)}function Wr(e,t){for(var r=e.length;r--;)if(So(e[r][0],t))return r;return-1}function Hr(e,t,r,n){return en(e,(function(e,i,a){t(n,e,r(e),a)})),n}function Gr(e,t){return e&&mi(t,wu(t),e)}function Yr(e,t,r){"__proto__"==t&&Qt?Qt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function $r(e,t){for(var r=-1,n=t.length,i=Y(n),a=null==e;++r<n;)i[r]=a?void 0:vu(e,t[r]);return i}function Qr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function Kr(e,t,r,n,i,a){var u,l=1&t,b=2&t,I=4&t;if(r&&(u=i?r(e,n,i,a):r(e)),void 0!==u)return u;if(!Wo(e))return e;var C=Do(e);if(C){if(u=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return yi(e,u)}else{var B=na(e),D=B==c||B==h;if(No(e))return hi(e,l);if(B==g||B==o||D&&!i){if(u=b||D?{}:aa(e),!l)return b?function(e,t){return mi(e,ra(e),t)}(e,function(e,t){return e&&mi(t,xu(t),e)}(u,e)):function(e,t){return mi(e,ta(e),t)}(e,Gr(u,e))}else{if(!Fe[B])return i?e:{};u=function(e,t,r){var n=e.constructor;switch(t){case w:return pi(e);case s:case f:return new n(+e);case x:return function(e,t){var r=t?pi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case A:case j:case E:case k:case V:case T:case"[object Uint8ClampedArray]":case O:case S:return di(e,r);case p:return new n;case d:case y:return new n(e);case v:return function(e){var t=new e.constructor(e.source,te.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return new n;case m:return i=e,kr?de(kr.call(i)):{}}var i}(e,B,l)}}a||(a=new Lr);var z=a.get(e);if(z)return z;a.set(e,u),Ko(e)?e.forEach((function(n){u.add(Kr(n,t,r,n,e,a))})):Go(e)&&e.forEach((function(n,i){u.set(i,Kr(n,t,r,i,e,a))}));var M=C?void 0:(I?b?Yi:Gi:b?xu:wu)(e);return at(M||e,(function(n,i){M&&(n=e[i=n]),qr(u,i,Kr(n,t,r,i,e,a))})),u}function Zr(e,t,r){var n=r.length;if(null==e)return!n;for(e=de(e);n--;){var i=r[n],a=t[i],o=e[i];if(void 0===o&&!(i in e)||!a(o))return!1}return!0}function Xr(e,t,r){if("function"!=typeof e)throw new _e(n);return ba((function(){e.apply(void 0,r)}),t)}function Jr(e,t,r,n){var i=-1,a=ft,o=!0,u=e.length,s=[],f=t.length;if(!u)return s;r&&(t=ct(t,Ot(r))),n?(a=lt,o=!1):t.length>=200&&(a=It,o=!1,t=new Mr(t));e:for(;++i<u;){var l=e[i],c=null==r?l:r(l);if(l=n||0!==l?l:0,o&&c==c){for(var h=f;h--;)if(t[h]===c)continue e;s.push(l)}else a(t,c,n)||s.push(l)}return s}Tr.templateSettings={escape:N,evaluate:F,interpolate:U,variable:"",imports:{_:Tr}},Tr.prototype=Sr.prototype,Tr.prototype.constructor=Tr,Ir.prototype=Or(Sr.prototype),Ir.prototype.constructor=Ir,Cr.prototype=Or(Sr.prototype),Cr.prototype.constructor=Cr,Br.prototype.clear=function(){this.__data__=_r?_r(null):{},this.size=0},Br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Br.prototype.get=function(e){var t=this.__data__;if(_r){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ae.call(t,e)?t[e]:void 0},Br.prototype.has=function(e){var t=this.__data__;return _r?void 0!==t[e]:Ae.call(t,e)},Br.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_r&&void 0===t?"__lodash_hash_undefined__":t,this},Dr.prototype.clear=function(){this.__data__=[],this.size=0},Dr.prototype.delete=function(e){var t=this.__data__,r=Wr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Qe.call(t,r,1),--this.size,!0)},Dr.prototype.get=function(e){var t=this.__data__,r=Wr(t,e);return r<0?void 0:t[r][1]},Dr.prototype.has=function(e){return Wr(this.__data__,e)>-1},Dr.prototype.set=function(e,t){var r=this.__data__,n=Wr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},zr.prototype.clear=function(){this.size=0,this.__data__={hash:new Br,map:new(pr||Dr),string:new Br}},zr.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},zr.prototype.get=function(e){return Xi(this,e).get(e)},zr.prototype.has=function(e){return Xi(this,e).has(e)},zr.prototype.set=function(e,t){var r=Xi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Mr.prototype.add=Mr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Mr.prototype.has=function(e){return this.__data__.has(e)},Lr.prototype.clear=function(){this.__data__=new Dr,this.size=0},Lr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Lr.prototype.get=function(e){return this.__data__.get(e)},Lr.prototype.has=function(e){return this.__data__.has(e)},Lr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Dr){var n=r.__data__;if(!pr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zr(n)}return r.set(e,t),this.size=r.size,this};var en=xi(fn),tn=xi(ln,!0);function rn(e,t){var r=!0;return en(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function nn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(void 0===u?o==o&&!Xo(o):r(o,u)))var u=o,s=a}return s}function an(e,t){var r=[];return en(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function on(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=oa),i||(i=[]);++a<o;){var u=e[a];t>0&&r(u)?t>1?on(u,t-1,r,n,i):ht(i,u):n||(i[i.length]=u)}return i}var un=Ai(),sn=Ai(!0);function fn(e,t){return e&&un(e,t,wu)}function ln(e,t){return e&&sn(e,t,wu)}function cn(e,t){return st(t,(function(t){return Ro(e[t])}))}function hn(e,t){for(var r=0,n=(t=si(t,e)).length;null!=e&&r<n;)e=e[ka(t[r++])];return r&&r==n?e:void 0}function pn(e,t,r){var n=t(e);return Do(e)?n:ht(n,r(e))}function dn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jt&&jt in de(e)?function(e){var t=Ae.call(e,jt),r=e[jt];try{e[jt]=void 0;var n=!0}catch(e){}var i=ke.call(e);n&&(t?e[jt]=r:delete e[jt]);return i}(e):function(e){return ke.call(e)}(e)}function gn(e,t){return e>t}function vn(e,t){return null!=e&&Ae.call(e,t)}function _n(e,t){return null!=e&&t in de(e)}function yn(e,t,r){for(var n=r?lt:ft,i=e[0].length,a=e.length,o=a,u=Y(a),s=1/0,f=[];o--;){var l=e[o];o&&t&&(l=ct(l,Ot(t))),s=ur(l.length,s),u[o]=!r&&(t||i>=120&&l.length>=120)?new Mr(o&&l):void 0}l=e[0];var c=-1,h=u[0];e:for(;++c<i&&f.length<s;){var p=l[c],d=t?t(p):p;if(p=r||0!==p?p:0,!(h?It(h,d):n(f,d,r))){for(o=a;--o;){var g=u[o];if(!(g?It(g,d):n(e[o],d,r)))continue e}h&&h.push(d),f.push(p)}}return f}function mn(e,t,r){var n=null==(e=va(e,t=si(t,e)))?e:e[ka(Fa(t))];return null==n?void 0:nt(n,e,r)}function bn(e){return Ho(e)&&dn(e)==o}function wn(e,t,r,n,i){return e===t||(null==e||null==t||!Ho(e)&&!Ho(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var c=Do(e),h=Do(t),b=c?u:na(e),A=h?u:na(t),j=(b=b==o?g:b)==g,E=(A=A==o?g:A)==g,k=b==A;if(k&&No(e)){if(!No(t))return!1;c=!0,j=!1}if(k&&!j)return a||(a=new Lr),c||Jo(e)?Wi(e,t,r,n,i,a):function(e,t,r,n,i,a,o){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!a(new Ue(e),new Ue(t)));case s:case f:case d:return So(+e,+t);case l:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var u=Ft;case _:var c=1&n;if(u||(u=Pt),e.size!=t.size&&!c)return!1;var h=o.get(e);if(h)return h==t;n|=2,o.set(e,t);var g=Wi(u(e),u(t),n,i,a,o);return o.delete(e),g;case m:if(kr)return kr.call(e)==kr.call(t)}return!1}(e,t,b,r,n,i,a);if(!(1&r)){var V=j&&Ae.call(e,"__wrapped__"),T=E&&Ae.call(t,"__wrapped__");if(V||T){var O=V?e.value():e,S=T?t.value():t;return a||(a=new Lr),i(O,S,r,n,a)}}if(!k)return!1;return a||(a=new Lr),function(e,t,r,n,i,a){var o=1&r,u=Gi(e),s=u.length,f=Gi(t).length;if(s!=f&&!o)return!1;var l=s;for(;l--;){var c=u[l];if(!(o?c in t:Ae.call(t,c)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var d=!0;a.set(e,t),a.set(t,e);var g=o;for(;++l<s;){c=u[l];var v=e[c],_=t[c];if(n)var y=o?n(_,v,c,t,e,a):n(v,_,c,e,t,a);if(!(void 0===y?v===_||i(v,_,r,n,a):y)){d=!1;break}g||(g="constructor"==c)}if(d&&!g){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,r,n,i,a)}(e,t,r,n,wn,i))}function xn(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=de(e);i--;){var u=r[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=r[i])[0],f=e[s],l=u[1];if(o&&u[2]){if(void 0===f&&!(s in e))return!1}else{var c=new Lr;if(n)var h=n(f,l,s,e,t,c);if(!(void 0===h?wn(l,f,3,n,c):h))return!1}}return!0}function An(e){return!(!Wo(e)||(t=e,Ee&&Ee in t))&&(Ro(e)?Oe:ie).test(Va(e));var t}function jn(e){return"function"==typeof e?e:null==e?Yu:"object"==typeof e?Do(e)?Sn(e[0],e[1]):On(e):rs(e)}function En(e){if(!ha(e))return ar(e);var t=[];for(var r in de(e))Ae.call(e,r)&&"constructor"!=r&&t.push(r);return t}function kn(e){if(!Wo(e))return function(e){var t=[];if(null!=e)for(var r in de(e))t.push(r);return t}(e);var t=ha(e),r=[];for(var n in e)("constructor"!=n||!t&&Ae.call(e,n))&&r.push(n);return r}function Vn(e,t){return e<t}function Tn(e,t){var r=-1,n=Mo(e)?Y(e.length):[];return en(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function On(e){var t=Ji(e);return 1==t.length&&t[0][2]?da(t[0][0],t[0][1]):function(r){return r===e||xn(r,e,t)}}function Sn(e,t){return fa(e)&&pa(t)?da(ka(e),t):function(r){var n=vu(r,e);return void 0===n&&n===t?_u(r,e):wn(t,n,3)}}function In(e,t,r,n,i){e!==t&&un(t,(function(a,o){if(i||(i=new Lr),Wo(a))!function(e,t,r,n,i,a,o){var u=ya(e,r),s=ya(t,r),f=o.get(s);if(f)return void Pr(e,r,f);var l=a?a(u,s,r+"",e,t,o):void 0,c=void 0===l;if(c){var h=Do(s),p=!h&&No(s),d=!h&&!p&&Jo(s);l=s,h||p||d?Do(u)?l=u:Lo(u)?l=yi(u):p?(c=!1,l=hi(s,!0)):d?(c=!1,l=di(s,!0)):l=[]:$o(s)||Bo(s)?(l=u,Bo(u)?l=uu(u):Wo(u)&&!Ro(u)||(l=aa(s))):c=!1}c&&(o.set(s,l),i(l,s,n,a,o),o.delete(s));Pr(e,r,l)}(e,t,o,r,In,n,i);else{var u=n?n(ya(e,o),a,o+"",e,t,i):void 0;void 0===u&&(u=a),Pr(e,o,u)}}),xu)}function Cn(e,t){var r=e.length;if(r)return ua(t+=t<0?r:0,r)?e[t]:void 0}function Bn(e,t,r){t=t.length?ct(t,(function(e){return Do(e)?function(t){return hn(t,1===e.length?e[0]:e)}:e})):[Yu];var n=-1;return t=ct(t,Ot(Zi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Tn(e,(function(e,r,i){return{criteria:ct(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,a=t.criteria,o=i.length,u=r.length;for(;++n<o;){var s=gi(i[n],a[n]);if(s){if(n>=u)return s;var f=r[n];return s*("desc"==f?-1:1)}}return e.index-t.index}(e,t,r)}))}function Dn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],u=hn(e,o);r(u,o)&&Pn(a,si(o,e),u)}return a}function zn(e,t,r,n){var i=n?bt:mt,a=-1,o=t.length,u=e;for(e===t&&(t=yi(t)),r&&(u=ct(e,Ot(r)));++a<o;)for(var s=0,f=t[a],l=r?r(f):f;(s=i(u,l,s,n))>-1;)u!==e&&Qe.call(u,s,1),Qe.call(e,s,1);return e}function Mn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ua(i)?Qe.call(e,i,1):ei(e,i)}}return e}function Ln(e,t){return e+er(lr()*(t-e+1))}function Nn(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=er(t/2))&&(e+=e)}while(t);return r}function Fn(e,t){return wa(ga(e,t,Yu),e+"")}function Un(e){return Fr(Su(e))}function Rn(e,t){var r=Su(e);return ja(r,Qr(t,0,r.length))}function Pn(e,t,r,n){if(!Wo(e))return e;for(var i=-1,a=(t=si(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=ka(t[i]),f=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(f=n?n(l,s,u):void 0)&&(f=Wo(l)?l:ua(t[i+1])?[]:{})}qr(u,s,f),u=u[s]}return e}var qn=yr?function(e,t){return yr.set(e,t),e}:Yu,Wn=Qt?function(e,t){return Qt(e,"toString",{configurable:!0,enumerable:!1,value:Wu(t),writable:!0})}:Yu;function Hn(e){return ja(Su(e))}function Gn(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Y(i);++n<i;)a[n]=e[n+t];return a}function Yn(e,t){var r;return en(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function $n(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!Xo(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Qn(e,t,Yu,r)}function Qn(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=r(t))!=t,u=null===t,s=Xo(t),f=void 0===t;i<a;){var l=er((i+a)/2),c=r(e[l]),h=void 0!==c,p=null===c,d=c==c,g=Xo(c);if(o)var v=n||d;else v=f?d&&(n||h):u?d&&h&&(n||!p):s?d&&h&&!p&&(n||!g):!p&&!g&&(n?c<=t:c<t);v?i=l+1:a=l}return ur(a,4294967294)}function Kn(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],u=t?t(o):o;if(!r||!So(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function Zn(e){return"number"==typeof e?e:Xo(e)?NaN:+e}function Xn(e){if("string"==typeof e)return e;if(Do(e))return ct(e,Xn)+"";if(Xo(e))return Vr?Vr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jn(e,t,r){var n=-1,i=ft,a=e.length,o=!0,u=[],s=u;if(r)o=!1,i=lt;else if(a>=200){var f=t?null:Ni(e);if(f)return Pt(f);o=!1,i=It,s=new Mr}else s=t?[]:u;e:for(;++n<a;){var l=e[n],c=t?t(l):l;if(l=r||0!==l?l:0,o&&c==c){for(var h=s.length;h--;)if(s[h]===c)continue e;t&&s.push(c),u.push(l)}else i(s,c,r)||(s!==u&&s.push(c),u.push(l))}return u}function ei(e,t){return null==(e=va(e,t=si(t,e)))||delete e[ka(Fa(t))]}function ti(e,t,r,n){return Pn(e,t,r(hn(e,t)),n)}function ri(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Gn(e,n?0:a,n?a+1:i):Gn(e,n?a+1:0,n?i:a)}function ni(e,t){var r=e;return r instanceof Cr&&(r=r.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),r)}function ii(e,t,r){var n=e.length;if(n<2)return n?Jn(e[0]):[];for(var i=-1,a=Y(n);++i<n;)for(var o=e[i],u=-1;++u<n;)u!=i&&(a[i]=Jr(a[i]||o,e[u],t,r));return Jn(on(a,1),t,r)}function ai(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var u=n<a?t[n]:void 0;r(o,e[n],u)}return o}function oi(e){return Lo(e)?e:[]}function ui(e){return"function"==typeof e?e:Yu}function si(e,t){return Do(e)?e:fa(e,t)?[e]:Ea(su(e))}var fi=Fn;function li(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Gn(e,t,r)}var ci=Kt||function(e){return He.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function pi(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function di(e,t){var r=t?pi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function gi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=Xo(e),o=void 0!==t,u=null===t,s=t==t,f=Xo(t);if(!u&&!f&&!a&&e>t||a&&o&&s&&!u&&!f||n&&o&&s||!r&&s||!i)return 1;if(!n&&!a&&!f&&e<t||f&&r&&i&&!n&&!a||u&&r&&i||!o&&i||!s)return-1}return 0}function vi(e,t,r,n){for(var i=-1,a=e.length,o=r.length,u=-1,s=t.length,f=or(a-o,0),l=Y(s+f),c=!n;++u<s;)l[u]=t[u];for(;++i<o;)(c||i<a)&&(l[r[i]]=e[i]);for(;f--;)l[u++]=e[i++];return l}function _i(e,t,r,n){for(var i=-1,a=e.length,o=-1,u=r.length,s=-1,f=t.length,l=or(a-u,0),c=Y(l+f),h=!n;++i<l;)c[i]=e[i];for(var p=i;++s<f;)c[p+s]=t[s];for(;++o<u;)(h||i<a)&&(c[p+r[o]]=e[i++]);return c}function yi(e,t){var r=-1,n=e.length;for(t||(t=Y(n));++r<n;)t[r]=e[r];return t}function mi(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var u=t[a],s=n?n(r[u],e[u],u,r,e):void 0;void 0===s&&(s=e[u]),i?Yr(r,u,s):qr(r,u,s)}return r}function bi(e,t){return function(r,n){var i=Do(r)?it:Hr,a=t?t():{};return i(r,e,Zi(n,2),a)}}function wi(e){return Fn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&sa(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=de(t);++n<i;){var u=r[n];u&&e(t,u,n,a)}return t}))}function xi(e,t){return function(r,n){if(null==r)return r;if(!Mo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=de(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Ai(e){return function(t,r,n){for(var i=-1,a=de(t),o=n(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===r(a[s],s,a))break}return t}}function ji(e){return function(t){var r=Nt(t=su(t))?Ht(t):void 0,n=r?r[0]:t.charAt(0),i=r?li(r,1).join(""):t.slice(1);return n[e]()+i}}function Ei(e){return function(t){return pt(Ru(Bu(t).replace(Se,"")),e,"")}}function ki(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Or(e.prototype),n=e.apply(r,t);return Wo(n)?n:r}}function Vi(e){return function(t,r,n){var i=de(t);if(!Mo(t)){var a=Zi(r,3);t=wu(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}function Ti(e){return Hi((function(t){var r=t.length,i=r,a=Ir.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new _e(n);if(a&&!u&&"wrapper"==Qi(o))var u=new Ir([],!0)}for(i=u?i:r;++i<r;){var s=Qi(o=t[i]),f="wrapper"==s?$i(o):void 0;u=f&&la(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[Qi(f[0])].apply(u,f[3]):1==o.length&&la(o)?u[s]():u.thru(o)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Do(n))return u.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Oi(e,t,r,n,i,a,o,u,s,f){var l=128&t,c=1&t,h=2&t,p=24&t,d=512&t,g=h?void 0:ki(e);return function v(){for(var _=arguments.length,y=Y(_),m=_;m--;)y[m]=arguments[m];if(p)var b=Ki(v),w=Dt(y,b);if(n&&(y=vi(y,n,i,p)),a&&(y=_i(y,a,o,p)),_-=w,p&&_<f){var x=Rt(y,b);return Mi(e,t,Oi,v.placeholder,r,y,x,u,s,f-_)}var A=c?r:this,j=h?A[e]:e;return _=y.length,u?y=_a(y,u):d&&_>1&&y.reverse(),l&&s<_&&(y.length=s),this&&this!==He&&this instanceof v&&(j=g||ki(j)),j.apply(A,y)}}function Si(e,t){return function(r,n){return function(e,t,r,n){return fn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Ii(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Xn(r),n=Xn(n)):(r=Zn(r),n=Zn(n)),i=e(r,n)}return i}}function Ci(e){return Hi((function(t){return t=ct(t,Ot(Zi())),Fn((function(r){var n=this;return e(t,(function(e){return nt(e,n,r)}))}))}))}function Bi(e,t){var r=(t=void 0===t?" ":Xn(t)).length;if(r<2)return r?Nn(t,e):t;var n=Nn(t,Jt(e/Wt(t)));return Nt(t)?li(Ht(n),0,e).join(""):n.slice(0,e)}function Di(e){return function(t,r,n){return n&&"number"!=typeof n&&sa(t,r,n)&&(r=n=void 0),t=nu(t),void 0===r?(r=t,t=0):r=nu(r),function(e,t,r,n){for(var i=-1,a=or(Jt((t-e)/(r||1)),0),o=Y(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,r,n=void 0===n?t<r?1:-1:nu(n),e)}}function zi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ou(t),r=ou(r)),e(t,r)}}function Mi(e,t,r,n,i,a,o,u,s,f){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var c=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,u,s,f],h=r.apply(void 0,c);return la(e)&&ma(h,c),h.placeholder=n,xa(h,e,t)}function Li(e){var t=pe[e];return function(e,r){if(e=ou(e),(r=null==r?0:ur(iu(r),292))&&nr(e)){var n=(su(e)+"e").split("e");return+((n=(su(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ni=gr&&1/Pt(new gr([,-0]))[1]==1/0?function(e){return new gr(e)}:Xu;function Fi(e){return function(t){var r=na(t);return r==p?Ft(t):r==_?qt(t):function(e,t){return ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,r,a,o,u,s,f){var l=2&t;if(!l&&"function"!=typeof e)throw new _e(n);var c=a?a.length:0;if(c||(t&=-97,a=o=void 0),s=void 0===s?s:or(iu(s),0),f=void 0===f?f:iu(f),c-=o?o.length:0,64&t){var h=a,p=o;a=o=void 0}var d=l?void 0:$i(e),g=[e,t,r,a,o,h,p,u,s,f];if(d&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<131,u=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!u)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var s=t[3];if(s){var f=e[3];e[3]=f?vi(f,s,t[4]):s,e[4]=f?Rt(e[3],i):t[4]}(s=t[5])&&(f=e[5],e[5]=f?_i(f,s,t[6]):s,e[6]=f?Rt(e[5],i):t[6]);(s=t[7])&&(e[7]=s);128&n&&(e[8]=null==e[8]?t[8]:ur(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(g,d),e=g[0],t=g[1],r=g[2],a=g[3],o=g[4],!(f=g[9]=void 0===g[9]?l?0:e.length:or(g[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,r){var n=ki(e);return function i(){for(var a=arguments.length,o=Y(a),u=a,s=Ki(i);u--;)o[u]=arguments[u];var f=a<3&&o[0]!==s&&o[a-1]!==s?[]:Rt(o,s);if((a-=f.length)<r)return Mi(e,t,Oi,i.placeholder,void 0,o,f,void 0,void 0,r-a);var l=this&&this!==He&&this instanceof i?n:e;return nt(l,this,o)}}(e,t,f):32!=t&&33!=t||o.length?Oi.apply(void 0,g):function(e,t,r,n){var i=1&t,a=ki(e);return function t(){for(var o=-1,u=arguments.length,s=-1,f=n.length,l=Y(f+u),c=this&&this!==He&&this instanceof t?a:e;++s<f;)l[s]=n[s];for(;u--;)l[s++]=arguments[++o];return nt(c,i?r:this,l)}}(e,t,r,a);else var v=function(e,t,r){var n=1&t,i=ki(e);return function t(){var a=this&&this!==He&&this instanceof t?i:e;return a.apply(n?r:this,arguments)}}(e,t,r);return xa((d?qn:ma)(v,g),e,t)}function Ri(e,t,r,n){return void 0===e||So(e,be[r])&&!Ae.call(n,r)?t:e}function Pi(e,t,r,n,i,a){return Wo(e)&&Wo(t)&&(a.set(t,e),In(e,t,void 0,Pi,a),a.delete(t)),e}function qi(e){return $o(e)?void 0:e}function Wi(e,t,r,n,i,a){var o=1&r,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var f=a.get(e),l=a.get(t);if(f&&l)return f==t&&l==e;var c=-1,h=!0,p=2&r?new Mr:void 0;for(a.set(e,t),a.set(t,e);++c<u;){var d=e[c],g=t[c];if(n)var v=o?n(g,d,c,t,e,a):n(d,g,c,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!gt(t,(function(e,t){if(!It(p,t)&&(d===e||i(d,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(d!==g&&!i(d,g,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Hi(e){return wa(ga(e,void 0,Da),e+"")}function Gi(e){return pn(e,wu,ta)}function Yi(e){return pn(e,xu,ra)}var $i=yr?function(e){return yr.get(e)}:Xu;function Qi(e){for(var t=e.name+"",r=mr[t],n=Ae.call(mr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Ki(e){return(Ae.call(Tr,"placeholder")?Tr:e).placeholder}function Zi(){var e=Tr.iteratee||$u;return e=e===$u?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ji(e){for(var t=wu(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,pa(i)]}return t}function ea(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return An(r)?r:void 0}var ta=tr?function(e){return null==e?[]:(e=de(e),st(tr(e),(function(t){return Ye.call(e,t)})))}:as,ra=tr?function(e){for(var t=[];e;)ht(t,ta(e)),e=We(e);return t}:as,na=dn;function ia(e,t,r){for(var n=-1,i=(t=si(t,e)).length,a=!1;++n<i;){var o=ka(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&qo(i)&&ua(o,i)&&(Do(e)||Bo(e))}function aa(e){return"function"!=typeof e.constructor||ha(e)?{}:Or(We(e))}function oa(e){return Do(e)||Bo(e)||!!(Ke&&e&&e[Ke])}function ua(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&oe.test(e))&&e>-1&&e%1==0&&e<t}function sa(e,t,r){if(!Wo(r))return!1;var n=typeof t;return!!("number"==n?Mo(r)&&ua(t,r.length):"string"==n&&t in r)&&So(r[t],e)}function fa(e,t){if(Do(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Xo(e))||(P.test(e)||!R.test(e)||null!=t&&e in de(t))}function la(e){var t=Qi(e),r=Tr[t];if("function"!=typeof r||!(t in Cr.prototype))return!1;if(e===r)return!0;var n=$i(r);return!!n&&e===n[0]}(hr&&na(new hr(new ArrayBuffer(1)))!=x||pr&&na(new pr)!=p||dr&&"[object Promise]"!=na(dr.resolve())||gr&&na(new gr)!=_||vr&&na(new vr)!=b)&&(na=function(e){var t=dn(e),r=t==g?e.constructor:void 0,n=r?Va(r):"";if(n)switch(n){case br:return x;case wr:return p;case xr:return"[object Promise]";case Ar:return _;case jr:return b}return t});var ca=we?Ro:os;function ha(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}function pa(e){return e==e&&!Wo(e)}function da(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in de(r)))}}function ga(e,t,r){return t=or(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=or(n.length-t,0),o=Y(a);++i<a;)o[i]=n[t+i];i=-1;for(var u=Y(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),nt(e,this,u)}}function va(e,t){return t.length<2?e:hn(e,Gn(t,0,-1))}function _a(e,t){for(var r=e.length,n=ur(t.length,r),i=yi(e);n--;){var a=t[n];e[n]=ua(a,r)?i[a]:void 0}return e}function ya(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ma=Aa(qn),ba=Xt||function(e,t){return He.setTimeout(e,t)},wa=Aa(Wn);function xa(e,t,r){var n=t+"";return wa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return at(a,(function(r){var n="_."+r[0];t&r[1]&&!ft(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(K):[]}(n),r)))}function Aa(e){var t=0,r=0;return function(){var n=sr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ja(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var a=Ln(r,i),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}var Ea=function(e){var t=jo(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,(function(e,r,n,i){t.push(n?i.replace(J,"$1"):r||e)})),t}));function ka(e){if("string"==typeof e||Xo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Va(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ta(e){if(e instanceof Cr)return e.clone();var t=new Ir(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Oa=Fn((function(e,t){return Lo(e)?Jr(e,on(t,1,Lo,!0)):[]})),Sa=Fn((function(e,t){var r=Fa(t);return Lo(r)&&(r=void 0),Lo(e)?Jr(e,on(t,1,Lo,!0),Zi(r,2)):[]})),Ia=Fn((function(e,t){var r=Fa(t);return Lo(r)&&(r=void 0),Lo(e)?Jr(e,on(t,1,Lo,!0),void 0,r):[]}));function Ca(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:iu(r);return i<0&&(i=or(n+i,0)),yt(e,Zi(t,3),i)}function Ba(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=iu(r),i=r<0?or(n+i,0):ur(i,n-1)),yt(e,Zi(t,3),i,!0)}function Da(e){return(null==e?0:e.length)?on(e,1):[]}function za(e){return e&&e.length?e[0]:void 0}var Ma=Fn((function(e){var t=ct(e,oi);return t.length&&t[0]===e[0]?yn(t):[]})),La=Fn((function(e){var t=Fa(e),r=ct(e,oi);return t===Fa(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?yn(r,Zi(t,2)):[]})),Na=Fn((function(e){var t=Fa(e),r=ct(e,oi);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?yn(r,void 0,t):[]}));function Fa(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ua=Fn(Ra);function Ra(e,t){return e&&e.length&&t&&t.length?zn(e,t):e}var Pa=Hi((function(e,t){var r=null==e?0:e.length,n=$r(e,t);return Mn(e,ct(t,(function(e){return ua(e,r)?+e:e})).sort(gi)),n}));function qa(e){return null==e?e:cr.call(e)}var Wa=Fn((function(e){return Jn(on(e,1,Lo,!0))})),Ha=Fn((function(e){var t=Fa(e);return Lo(t)&&(t=void 0),Jn(on(e,1,Lo,!0),Zi(t,2))})),Ga=Fn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,Jn(on(e,1,Lo,!0),void 0,t)}));function Ya(e){if(!e||!e.length)return[];var t=0;return e=st(e,(function(e){if(Lo(e))return t=or(e.length,t),!0})),Vt(t,(function(t){return ct(e,At(t))}))}function $a(e,t){if(!e||!e.length)return[];var r=Ya(e);return null==t?r:ct(r,(function(e){return nt(t,void 0,e)}))}var Qa=Fn((function(e,t){return Lo(e)?Jr(e,t):[]})),Ka=Fn((function(e){return ii(st(e,Lo))})),Za=Fn((function(e){var t=Fa(e);return Lo(t)&&(t=void 0),ii(st(e,Lo),Zi(t,2))})),Xa=Fn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,ii(st(e,Lo),void 0,t)})),Ja=Fn(Ya);var eo=Fn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,$a(e,r)}));function to(e){var t=Tr(e);return t.__chain__=!0,t}function ro(e,t){return t(e)}var no=Hi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return $r(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Cr&&ua(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ro,args:[i],thisArg:void 0}),new Ir(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var io=bi((function(e,t,r){Ae.call(e,r)?++e[r]:Yr(e,r,1)}));var ao=Vi(Ca),oo=Vi(Ba);function uo(e,t){return(Do(e)?at:en)(e,Zi(t,3))}function so(e,t){return(Do(e)?ot:tn)(e,Zi(t,3))}var fo=bi((function(e,t,r){Ae.call(e,r)?e[r].push(t):Yr(e,r,[t])}));var lo=Fn((function(e,t,r){var n=-1,i="function"==typeof t,a=Mo(e)?Y(e.length):[];return en(e,(function(e){a[++n]=i?nt(t,e,r):mn(e,t,r)})),a})),co=bi((function(e,t,r){Yr(e,r,t)}));function ho(e,t){return(Do(e)?ct:Tn)(e,Zi(t,3))}var po=bi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var go=Fn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&sa(e,t[0],t[1])?t=[]:r>2&&sa(t[0],t[1],t[2])&&(t=[t[0]]),Bn(e,on(t,1),[])})),vo=Zt||function(){return He.Date.now()};function _o(e,t,r){return t=r?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var r;if("function"!=typeof t)throw new _e(n);return e=iu(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var mo=Fn((function(e,t,r){var n=1;if(r.length){var i=Rt(r,Ki(mo));n|=32}return Ui(e,n,t,r,i)})),bo=Fn((function(e,t,r){var n=3;if(r.length){var i=Rt(r,Ki(bo));n|=32}return Ui(t,n,e,r,i)}));function wo(e,t,r){var i,a,o,u,s,f,l=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new _e(n);function d(t){var r=i,n=a;return i=a=void 0,l=t,u=e.apply(n,r)}function g(e){return l=e,s=ba(_,t),c?d(e):u}function v(e){var r=e-f;return void 0===f||r>=t||r<0||h&&e-l>=o}function _(){var e=vo();if(v(e))return y(e);s=ba(_,function(e){var r=t-(e-f);return h?ur(r,o-(e-l)):r}(e))}function y(e){return s=void 0,p&&i?d(e):(i=a=void 0,u)}function m(){var e=vo(),r=v(e);if(i=arguments,a=this,f=e,r){if(void 0===s)return g(f);if(h)return ci(s),s=ba(_,t),d(f)}return void 0===s&&(s=ba(_,t)),u}return t=ou(t)||0,Wo(r)&&(c=!!r.leading,o=(h="maxWait"in r)?or(ou(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==s&&ci(s),l=0,i=f=a=s=void 0},m.flush=function(){return void 0===s?u:y(vo())},m}var xo=Fn((function(e,t){return Xr(e,1,t)})),Ao=Fn((function(e,t,r){return Xr(e,ou(t)||0,r)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new _e(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(jo.Cache||zr),r}function Eo(e){if("function"!=typeof e)throw new _e(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=zr;var ko=fi((function(e,t){var r=(t=1==t.length&&Do(t[0])?ct(t[0],Ot(Zi())):ct(on(t,1),Ot(Zi()))).length;return Fn((function(n){for(var i=-1,a=ur(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return nt(e,this,n)}))})),Vo=Fn((function(e,t){return Ui(e,32,void 0,t,Rt(t,Ki(Vo)))})),To=Fn((function(e,t){return Ui(e,64,void 0,t,Rt(t,Ki(To)))})),Oo=Hi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function So(e,t){return e===t||e!=e&&t!=t}var Io=zi(gn),Co=zi((function(e,t){return e>=t})),Bo=bn(function(){return arguments}())?bn:function(e){return Ho(e)&&Ae.call(e,"callee")&&!Ye.call(e,"callee")},Do=Y.isArray,zo=Ze?Ot(Ze):function(e){return Ho(e)&&dn(e)==w};function Mo(e){return null!=e&&qo(e.length)&&!Ro(e)}function Lo(e){return Ho(e)&&Mo(e)}var No=rr||os,Fo=Xe?Ot(Xe):function(e){return Ho(e)&&dn(e)==f};function Uo(e){if(!Ho(e))return!1;var t=dn(e);return t==l||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$o(e)}function Ro(e){if(!Wo(e))return!1;var t=dn(e);return t==c||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Po(e){return"number"==typeof e&&e==iu(e)}function qo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Wo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ho(e){return null!=e&&"object"==typeof e}var Go=Je?Ot(Je):function(e){return Ho(e)&&na(e)==p};function Yo(e){return"number"==typeof e||Ho(e)&&dn(e)==d}function $o(e){if(!Ho(e)||dn(e)!=g)return!1;var t=We(e);if(null===t)return!0;var r=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&xe.call(r)==Ve}var Qo=et?Ot(et):function(e){return Ho(e)&&dn(e)==v};var Ko=tt?Ot(tt):function(e){return Ho(e)&&na(e)==_};function Zo(e){return"string"==typeof e||!Do(e)&&Ho(e)&&dn(e)==y}function Xo(e){return"symbol"==typeof e||Ho(e)&&dn(e)==m}var Jo=rt?Ot(rt):function(e){return Ho(e)&&qo(e.length)&&!!Ne[dn(e)]};var eu=zi(Vn),tu=zi((function(e,t){return e<=t}));function ru(e){if(!e)return[];if(Mo(e))return Zo(e)?Ht(e):yi(e);if(vt&&e[vt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[vt]());var t=na(e);return(t==p?Ft:t==_?Pt:Su)(e)}function nu(e){return e?(e=ou(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function iu(e){var t=nu(e),r=t%1;return t==t?r?t-r:t:0}function au(e){return e?Qr(iu(e),0,4294967295):0}function ou(e){if("number"==typeof e)return e;if(Xo(e))return NaN;if(Wo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Wo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Tt(e);var r=ne.test(e);return r||ae.test(e)?Pe(e.slice(2),r?2:8):re.test(e)?NaN:+e}function uu(e){return mi(e,xu(e))}function su(e){return null==e?"":Xn(e)}var fu=wi((function(e,t){if(ha(t)||Mo(t))mi(t,wu(t),e);else for(var r in t)Ae.call(t,r)&&qr(e,r,t[r])})),lu=wi((function(e,t){mi(t,xu(t),e)})),cu=wi((function(e,t,r,n){mi(t,xu(t),e,n)})),hu=wi((function(e,t,r,n){mi(t,wu(t),e,n)})),pu=Hi($r);var du=Fn((function(e,t){e=de(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&sa(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=xu(a),u=-1,s=o.length;++u<s;){var f=o[u],l=e[f];(void 0===l||So(l,be[f])&&!Ae.call(e,f))&&(e[f]=a[f])}return e})),gu=Fn((function(e){return e.push(void 0,Pi),nt(ju,void 0,e)}));function vu(e,t,r){var n=null==e?void 0:hn(e,t);return void 0===n?r:n}function _u(e,t){return null!=e&&ia(e,t,_n)}var yu=Si((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),e[t]=r}),Wu(Yu)),mu=Si((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),Ae.call(e,t)?e[t].push(r):e[t]=[r]}),Zi),bu=Fn(mn);function wu(e){return Mo(e)?Nr(e):En(e)}function xu(e){return Mo(e)?Nr(e,!0):kn(e)}var Au=wi((function(e,t,r){In(e,t,r)})),ju=wi((function(e,t,r,n){In(e,t,r,n)})),Eu=Hi((function(e,t){var r={};if(null==e)return r;var n=!1;t=ct(t,(function(t){return t=si(t,e),n||(n=t.length>1),t})),mi(e,Yi(e),r),n&&(r=Kr(r,7,qi));for(var i=t.length;i--;)ei(r,t[i]);return r}));var ku=Hi((function(e,t){return null==e?{}:function(e,t){return Dn(e,t,(function(t,r){return _u(e,r)}))}(e,t)}));function Vu(e,t){if(null==e)return{};var r=ct(Yi(e),(function(e){return[e]}));return t=Zi(t),Dn(e,r,(function(e,r){return t(e,r[0])}))}var Tu=Fi(wu),Ou=Fi(xu);function Su(e){return null==e?[]:St(e,wu(e))}var Iu=Ei((function(e,t,r){return t=t.toLowerCase(),e+(r?Cu(t):t)}));function Cu(e){return Uu(su(e).toLowerCase())}function Bu(e){return(e=su(e))&&e.replace(ue,zt).replace(Ie,"")}var Du=Ei((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),zu=Ei((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Mu=ji("toLowerCase");var Lu=Ei((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Nu=Ei((function(e,t,r){return e+(r?" ":"")+Uu(t)}));var Fu=Ei((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Uu=ji("toUpperCase");function Ru(e,t,r){return e=su(e),void 0===(t=r?void 0:t)?function(e){return ze.test(e)}(e)?function(e){return e.match(Be)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Pu=Fn((function(e,t){try{return nt(e,void 0,t)}catch(e){return Uo(e)?e:new ce(e)}})),qu=Hi((function(e,t){return at(t,(function(t){t=ka(t),Yr(e,t,mo(e[t],e))})),e}));function Wu(e){return function(){return e}}var Hu=Ti(),Gu=Ti(!0);function Yu(e){return e}function $u(e){return jn("function"==typeof e?e:Kr(e,1))}var Qu=Fn((function(e,t){return function(r){return mn(r,e,t)}})),Ku=Fn((function(e,t){return function(r){return mn(e,r,t)}}));function Zu(e,t,r){var n=wu(t),i=cn(t,n);null!=r||Wo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=cn(t,wu(t)));var a=!(Wo(r)&&"chain"in r&&!r.chain),o=Ro(e);return at(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=yi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,ht([this.value()],arguments))})})),e}function Xu(){}var Ju=Ci(ct),es=Ci(ut),ts=Ci(gt);function rs(e){return fa(e)?At(ka(e)):function(e){return function(t){return hn(t,e)}}(e)}var ns=Di(),is=Di(!0);function as(){return[]}function os(){return!1}var us=Ii((function(e,t){return e+t}),0),ss=Li("ceil"),fs=Ii((function(e,t){return e/t}),1),ls=Li("floor");var cs,hs=Ii((function(e,t){return e*t}),1),ps=Li("round"),ds=Ii((function(e,t){return e-t}),0);return Tr.after=function(e,t){if("function"!=typeof t)throw new _e(n);return e=iu(e),function(){if(--e<1)return t.apply(this,arguments)}},Tr.ary=_o,Tr.assign=fu,Tr.assignIn=lu,Tr.assignInWith=cu,Tr.assignWith=hu,Tr.at=pu,Tr.before=yo,Tr.bind=mo,Tr.bindAll=qu,Tr.bindKey=bo,Tr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Do(e)?e:[e]},Tr.chain=to,Tr.chunk=function(e,t,r){t=(r?sa(e,t,r):void 0===t)?1:or(iu(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var i=0,a=0,o=Y(Jt(n/t));i<n;)o[a++]=Gn(e,i,i+=t);return o},Tr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Tr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Y(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return ht(Do(r)?yi(r):[r],on(t,1))},Tr.cond=function(e){var t=null==e?0:e.length,r=Zi();return e=t?ct(e,(function(e){if("function"!=typeof e[1])throw new _e(n);return[r(e[0]),e[1]]})):[],Fn((function(r){for(var n=-1;++n<t;){var i=e[n];if(nt(i[0],this,r))return nt(i[1],this,r)}}))},Tr.conforms=function(e){return function(e){var t=wu(e);return function(r){return Zr(r,e,t)}}(Kr(e,1))},Tr.constant=Wu,Tr.countBy=io,Tr.create=function(e,t){var r=Or(e);return null==t?r:Gr(r,t)},Tr.curry=function e(t,r,n){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Tr.curryRight=function e(t,r,n){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Tr.debounce=wo,Tr.defaults=du,Tr.defaultsDeep=gu,Tr.defer=xo,Tr.delay=Ao,Tr.difference=Oa,Tr.differenceBy=Sa,Tr.differenceWith=Ia,Tr.drop=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,(t=r||void 0===t?1:iu(t))<0?0:t,n):[]},Tr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,0,(t=n-(t=r||void 0===t?1:iu(t)))<0?0:t):[]},Tr.dropRightWhile=function(e,t){return e&&e.length?ri(e,Zi(t,3),!0,!0):[]},Tr.dropWhile=function(e,t){return e&&e.length?ri(e,Zi(t,3),!0):[]},Tr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&sa(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=iu(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:iu(n))<0&&(n+=i),n=r>n?0:au(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Tr.filter=function(e,t){return(Do(e)?st:an)(e,Zi(t,3))},Tr.flatMap=function(e,t){return on(ho(e,t),1)},Tr.flatMapDeep=function(e,t){return on(ho(e,t),1/0)},Tr.flatMapDepth=function(e,t,r){return r=void 0===r?1:iu(r),on(ho(e,t),r)},Tr.flatten=Da,Tr.flattenDeep=function(e){return(null==e?0:e.length)?on(e,1/0):[]},Tr.flattenDepth=function(e,t){return(null==e?0:e.length)?on(e,t=void 0===t?1:iu(t)):[]},Tr.flip=function(e){return Ui(e,512)},Tr.flow=Hu,Tr.flowRight=Gu,Tr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Tr.functions=function(e){return null==e?[]:cn(e,wu(e))},Tr.functionsIn=function(e){return null==e?[]:cn(e,xu(e))},Tr.groupBy=fo,Tr.initial=function(e){return(null==e?0:e.length)?Gn(e,0,-1):[]},Tr.intersection=Ma,Tr.intersectionBy=La,Tr.intersectionWith=Na,Tr.invert=yu,Tr.invertBy=mu,Tr.invokeMap=lo,Tr.iteratee=$u,Tr.keyBy=co,Tr.keys=wu,Tr.keysIn=xu,Tr.map=ho,Tr.mapKeys=function(e,t){var r={};return t=Zi(t,3),fn(e,(function(e,n,i){Yr(r,t(e,n,i),e)})),r},Tr.mapValues=function(e,t){var r={};return t=Zi(t,3),fn(e,(function(e,n,i){Yr(r,n,t(e,n,i))})),r},Tr.matches=function(e){return On(Kr(e,1))},Tr.matchesProperty=function(e,t){return Sn(e,Kr(t,1))},Tr.memoize=jo,Tr.merge=Au,Tr.mergeWith=ju,Tr.method=Qu,Tr.methodOf=Ku,Tr.mixin=Zu,Tr.negate=Eo,Tr.nthArg=function(e){return e=iu(e),Fn((function(t){return Cn(t,e)}))},Tr.omit=Eu,Tr.omitBy=function(e,t){return Vu(e,Eo(Zi(t)))},Tr.once=function(e){return yo(2,e)},Tr.orderBy=function(e,t,r,n){return null==e?[]:(Do(t)||(t=null==t?[]:[t]),Do(r=n?void 0:r)||(r=null==r?[]:[r]),Bn(e,t,r))},Tr.over=Ju,Tr.overArgs=ko,Tr.overEvery=es,Tr.overSome=ts,Tr.partial=Vo,Tr.partialRight=To,Tr.partition=po,Tr.pick=ku,Tr.pickBy=Vu,Tr.property=rs,Tr.propertyOf=function(e){return function(t){return null==e?void 0:hn(e,t)}},Tr.pull=Ua,Tr.pullAll=Ra,Tr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,Zi(r,2)):e},Tr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,void 0,r):e},Tr.pullAt=Pa,Tr.range=ns,Tr.rangeRight=is,Tr.rearg=Oo,Tr.reject=function(e,t){return(Do(e)?st:an)(e,Eo(Zi(t,3)))},Tr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Zi(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Mn(e,i),r},Tr.rest=function(e,t){if("function"!=typeof e)throw new _e(n);return Fn(e,t=void 0===t?t:iu(t))},Tr.reverse=qa,Tr.sampleSize=function(e,t,r){return t=(r?sa(e,t,r):void 0===t)?1:iu(t),(Do(e)?Ur:Rn)(e,t)},Tr.set=function(e,t,r){return null==e?e:Pn(e,t,r)},Tr.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Pn(e,t,r,n)},Tr.shuffle=function(e){return(Do(e)?Rr:Hn)(e)},Tr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&sa(e,t,r)?(t=0,r=n):(t=null==t?0:iu(t),r=void 0===r?n:iu(r)),Gn(e,t,r)):[]},Tr.sortBy=go,Tr.sortedUniq=function(e){return e&&e.length?Kn(e):[]},Tr.sortedUniqBy=function(e,t){return e&&e.length?Kn(e,Zi(t,2)):[]},Tr.split=function(e,t,r){return r&&"number"!=typeof r&&sa(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=su(e))&&("string"==typeof t||null!=t&&!Qo(t))&&!(t=Xn(t))&&Nt(e)?li(Ht(e),0,r):e.split(t,r):[]},Tr.spread=function(e,t){if("function"!=typeof e)throw new _e(n);return t=null==t?0:or(iu(t),0),Fn((function(r){var n=r[t],i=li(r,0,t);return n&&ht(i,n),nt(e,this,i)}))},Tr.tail=function(e){var t=null==e?0:e.length;return t?Gn(e,1,t):[]},Tr.take=function(e,t,r){return e&&e.length?Gn(e,0,(t=r||void 0===t?1:iu(t))<0?0:t):[]},Tr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,(t=n-(t=r||void 0===t?1:iu(t)))<0?0:t,n):[]},Tr.takeRightWhile=function(e,t){return e&&e.length?ri(e,Zi(t,3),!1,!0):[]},Tr.takeWhile=function(e,t){return e&&e.length?ri(e,Zi(t,3)):[]},Tr.tap=function(e,t){return t(e),e},Tr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new _e(n);return Wo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),wo(e,t,{leading:i,maxWait:t,trailing:a})},Tr.thru=ro,Tr.toArray=ru,Tr.toPairs=Tu,Tr.toPairsIn=Ou,Tr.toPath=function(e){return Do(e)?ct(e,ka):Xo(e)?[e]:yi(Ea(su(e)))},Tr.toPlainObject=uu,Tr.transform=function(e,t,r){var n=Do(e),i=n||No(e)||Jo(e);if(t=Zi(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Wo(e)&&Ro(a)?Or(We(e)):{}}return(i?at:fn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Tr.unary=function(e){return _o(e,1)},Tr.union=Wa,Tr.unionBy=Ha,Tr.unionWith=Ga,Tr.uniq=function(e){return e&&e.length?Jn(e):[]},Tr.uniqBy=function(e,t){return e&&e.length?Jn(e,Zi(t,2)):[]},Tr.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jn(e,void 0,t):[]},Tr.unset=function(e,t){return null==e||ei(e,t)},Tr.unzip=Ya,Tr.unzipWith=$a,Tr.update=function(e,t,r){return null==e?e:ti(e,t,ui(r))},Tr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:ti(e,t,ui(r),n)},Tr.values=Su,Tr.valuesIn=function(e){return null==e?[]:St(e,xu(e))},Tr.without=Qa,Tr.words=Ru,Tr.wrap=function(e,t){return Vo(ui(t),e)},Tr.xor=Ka,Tr.xorBy=Za,Tr.xorWith=Xa,Tr.zip=Ja,Tr.zipObject=function(e,t){return ai(e||[],t||[],qr)},Tr.zipObjectDeep=function(e,t){return ai(e||[],t||[],Pn)},Tr.zipWith=eo,Tr.entries=Tu,Tr.entriesIn=Ou,Tr.extend=lu,Tr.extendWith=cu,Zu(Tr,Tr),Tr.add=us,Tr.attempt=Pu,Tr.camelCase=Iu,Tr.capitalize=Cu,Tr.ceil=ss,Tr.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=ou(r))==r?r:0),void 0!==t&&(t=(t=ou(t))==t?t:0),Qr(ou(e),t,r)},Tr.clone=function(e){return Kr(e,4)},Tr.cloneDeep=function(e){return Kr(e,5)},Tr.cloneDeepWith=function(e,t){return Kr(e,5,t="function"==typeof t?t:void 0)},Tr.cloneWith=function(e,t){return Kr(e,4,t="function"==typeof t?t:void 0)},Tr.conformsTo=function(e,t){return null==t||Zr(e,t,wu(t))},Tr.deburr=Bu,Tr.defaultTo=function(e,t){return null==e||e!=e?t:e},Tr.divide=fs,Tr.endsWith=function(e,t,r){e=su(e),t=Xn(t);var n=e.length,i=r=void 0===r?n:Qr(iu(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Tr.eq=So,Tr.escape=function(e){return(e=su(e))&&L.test(e)?e.replace(z,Mt):e},Tr.escapeRegExp=function(e){return(e=su(e))&&H.test(e)?e.replace(W,"\\$&"):e},Tr.every=function(e,t,r){var n=Do(e)?ut:rn;return r&&sa(e,t,r)&&(t=void 0),n(e,Zi(t,3))},Tr.find=ao,Tr.findIndex=Ca,Tr.findKey=function(e,t){return _t(e,Zi(t,3),fn)},Tr.findLast=oo,Tr.findLastIndex=Ba,Tr.findLastKey=function(e,t){return _t(e,Zi(t,3),ln)},Tr.floor=ls,Tr.forEach=uo,Tr.forEachRight=so,Tr.forIn=function(e,t){return null==e?e:un(e,Zi(t,3),xu)},Tr.forInRight=function(e,t){return null==e?e:sn(e,Zi(t,3),xu)},Tr.forOwn=function(e,t){return e&&fn(e,Zi(t,3))},Tr.forOwnRight=function(e,t){return e&&ln(e,Zi(t,3))},Tr.get=vu,Tr.gt=Io,Tr.gte=Co,Tr.has=function(e,t){return null!=e&&ia(e,t,vn)},Tr.hasIn=_u,Tr.head=za,Tr.identity=Yu,Tr.includes=function(e,t,r,n){e=Mo(e)?e:Su(e),r=r&&!n?iu(r):0;var i=e.length;return r<0&&(r=or(i+r,0)),Zo(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&mt(e,t,r)>-1},Tr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:iu(r);return i<0&&(i=or(n+i,0)),mt(e,t,i)},Tr.inRange=function(e,t,r){return t=nu(t),void 0===r?(r=t,t=0):r=nu(r),function(e,t,r){return e>=ur(t,r)&&e<or(t,r)}(e=ou(e),t,r)},Tr.invoke=bu,Tr.isArguments=Bo,Tr.isArray=Do,Tr.isArrayBuffer=zo,Tr.isArrayLike=Mo,Tr.isArrayLikeObject=Lo,Tr.isBoolean=function(e){return!0===e||!1===e||Ho(e)&&dn(e)==s},Tr.isBuffer=No,Tr.isDate=Fo,Tr.isElement=function(e){return Ho(e)&&1===e.nodeType&&!$o(e)},Tr.isEmpty=function(e){if(null==e)return!0;if(Mo(e)&&(Do(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Jo(e)||Bo(e)))return!e.length;var t=na(e);if(t==p||t==_)return!e.size;if(ha(e))return!En(e).length;for(var r in e)if(Ae.call(e,r))return!1;return!0},Tr.isEqual=function(e,t){return wn(e,t)},Tr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?wn(e,t,void 0,r):!!n},Tr.isError=Uo,Tr.isFinite=function(e){return"number"==typeof e&&nr(e)},Tr.isFunction=Ro,Tr.isInteger=Po,Tr.isLength=qo,Tr.isMap=Go,Tr.isMatch=function(e,t){return e===t||xn(e,t,Ji(t))},Tr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,xn(e,t,Ji(t),r)},Tr.isNaN=function(e){return Yo(e)&&e!=+e},Tr.isNative=function(e){if(ca(e))throw new ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return An(e)},Tr.isNil=function(e){return null==e},Tr.isNull=function(e){return null===e},Tr.isNumber=Yo,Tr.isObject=Wo,Tr.isObjectLike=Ho,Tr.isPlainObject=$o,Tr.isRegExp=Qo,Tr.isSafeInteger=function(e){return Po(e)&&e>=-9007199254740991&&e<=9007199254740991},Tr.isSet=Ko,Tr.isString=Zo,Tr.isSymbol=Xo,Tr.isTypedArray=Jo,Tr.isUndefined=function(e){return void 0===e},Tr.isWeakMap=function(e){return Ho(e)&&na(e)==b},Tr.isWeakSet=function(e){return Ho(e)&&"[object WeakSet]"==dn(e)},Tr.join=function(e,t){return null==e?"":ir.call(e,t)},Tr.kebabCase=Du,Tr.last=Fa,Tr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=iu(r))<0?or(n+i,0):ur(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):yt(e,wt,i,!0)},Tr.lowerCase=zu,Tr.lowerFirst=Mu,Tr.lt=eu,Tr.lte=tu,Tr.max=function(e){return e&&e.length?nn(e,Yu,gn):void 0},Tr.maxBy=function(e,t){return e&&e.length?nn(e,Zi(t,2),gn):void 0},Tr.mean=function(e){return xt(e,Yu)},Tr.meanBy=function(e,t){return xt(e,Zi(t,2))},Tr.min=function(e){return e&&e.length?nn(e,Yu,Vn):void 0},Tr.minBy=function(e,t){return e&&e.length?nn(e,Zi(t,2),Vn):void 0},Tr.stubArray=as,Tr.stubFalse=os,Tr.stubObject=function(){return{}},Tr.stubString=function(){return""},Tr.stubTrue=function(){return!0},Tr.multiply=hs,Tr.nth=function(e,t){return e&&e.length?Cn(e,iu(t)):void 0},Tr.noConflict=function(){return He._===this&&(He._=Te),this},Tr.noop=Xu,Tr.now=vo,Tr.pad=function(e,t,r){e=su(e);var n=(t=iu(t))?Wt(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Bi(er(i),r)+e+Bi(Jt(i),r)},Tr.padEnd=function(e,t,r){e=su(e);var n=(t=iu(t))?Wt(e):0;return t&&n<t?e+Bi(t-n,r):e},Tr.padStart=function(e,t,r){e=su(e);var n=(t=iu(t))?Wt(e):0;return t&&n<t?Bi(t-n,r)+e:e},Tr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),fr(su(e).replace(G,""),t||0)},Tr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&sa(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=nu(e),void 0===t?(t=e,e=0):t=nu(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=lr();return ur(e+i*(t-e+Re("1e-"+((i+"").length-1))),t)}return Ln(e,t)},Tr.reduce=function(e,t,r){var n=Do(e)?pt:Et,i=arguments.length<3;return n(e,Zi(t,4),r,i,en)},Tr.reduceRight=function(e,t,r){var n=Do(e)?dt:Et,i=arguments.length<3;return n(e,Zi(t,4),r,i,tn)},Tr.repeat=function(e,t,r){return t=(r?sa(e,t,r):void 0===t)?1:iu(t),Nn(su(e),t)},Tr.replace=function(){var e=arguments,t=su(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tr.result=function(e,t,r){var n=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var a=null==e?void 0:e[ka(t[n])];void 0===a&&(n=i,a=r),e=Ro(a)?a.call(e):a}return e},Tr.round=ps,Tr.runInContext=e,Tr.sample=function(e){return(Do(e)?Fr:Un)(e)},Tr.size=function(e){if(null==e)return 0;if(Mo(e))return Zo(e)?Wt(e):e.length;var t=na(e);return t==p||t==_?e.size:En(e).length},Tr.snakeCase=Lu,Tr.some=function(e,t,r){var n=Do(e)?gt:Yn;return r&&sa(e,t,r)&&(t=void 0),n(e,Zi(t,3))},Tr.sortedIndex=function(e,t){return $n(e,t)},Tr.sortedIndexBy=function(e,t,r){return Qn(e,t,Zi(r,2))},Tr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=$n(e,t);if(n<r&&So(e[n],t))return n}return-1},Tr.sortedLastIndex=function(e,t){return $n(e,t,!0)},Tr.sortedLastIndexBy=function(e,t,r){return Qn(e,t,Zi(r,2),!0)},Tr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=$n(e,t,!0)-1;if(So(e[r],t))return r}return-1},Tr.startCase=Nu,Tr.startsWith=function(e,t,r){return e=su(e),r=null==r?0:Qr(iu(r),0,e.length),t=Xn(t),e.slice(r,r+t.length)==t},Tr.subtract=ds,Tr.sum=function(e){return e&&e.length?kt(e,Yu):0},Tr.sumBy=function(e,t){return e&&e.length?kt(e,Zi(t,2)):0},Tr.template=function(e,t,r){var n=Tr.templateSettings;r&&sa(e,t,r)&&(t=void 0),e=su(e),t=cu({},t,n,Ri);var i,a,o=cu({},t.imports,n.imports,Ri),u=wu(o),s=St(o,u),f=0,l=t.interpolate||se,c="__p += '",h=ge((t.escape||se).source+"|"+l.source+"|"+(l===U?ee:se).source+"|"+(t.evaluate||se).source+"|$","g"),p="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Le+"]")+"\n";e.replace(h,(function(t,r,n,o,u,s){return n||(n=o),c+=e.slice(f,s).replace(fe,Lt),r&&(i=!0,c+="' +\n__e("+r+") +\n'"),u&&(a=!0,c+="';\n"+u+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=s+t.length,t})),c+="';\n";var d=Ae.call(t,"variable")&&t.variable;if(d){if(X.test(d))throw new ce("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(a?c.replace(I,""):c).replace(C,"$1").replace(B,"$1;"),c="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var g=Pu((function(){return he(u,p+"return "+c).apply(void 0,s)}));if(g.source=c,Uo(g))throw g;return g},Tr.times=function(e,t){if((e=iu(e))<1||e>9007199254740991)return[];var r=4294967295,n=ur(e,4294967295);e-=4294967295;for(var i=Vt(n,t=Zi(t));++r<e;)t(r);return i},Tr.toFinite=nu,Tr.toInteger=iu,Tr.toLength=au,Tr.toLower=function(e){return su(e).toLowerCase()},Tr.toNumber=ou,Tr.toSafeInteger=function(e){return e?Qr(iu(e),-9007199254740991,9007199254740991):0===e?e:0},Tr.toString=su,Tr.toUpper=function(e){return su(e).toUpperCase()},Tr.trim=function(e,t,r){if((e=su(e))&&(r||void 0===t))return Tt(e);if(!e||!(t=Xn(t)))return e;var n=Ht(e),i=Ht(t);return li(n,Ct(n,i),Bt(n,i)+1).join("")},Tr.trimEnd=function(e,t,r){if((e=su(e))&&(r||void 0===t))return e.slice(0,Gt(e)+1);if(!e||!(t=Xn(t)))return e;var n=Ht(e);return li(n,0,Bt(n,Ht(t))+1).join("")},Tr.trimStart=function(e,t,r){if((e=su(e))&&(r||void 0===t))return e.replace(G,"");if(!e||!(t=Xn(t)))return e;var n=Ht(e);return li(n,Ct(n,Ht(t))).join("")},Tr.truncate=function(e,t){var r=30,n="...";if(Wo(t)){var i="separator"in t?t.separator:i;r="length"in t?iu(t.length):r,n="omission"in t?Xn(t.omission):n}var a=(e=su(e)).length;if(Nt(e)){var o=Ht(e);a=o.length}if(r>=a)return e;var u=r-Wt(n);if(u<1)return n;var s=o?li(o,0,u).join(""):e.slice(0,u);if(void 0===i)return s+n;if(o&&(u+=s.length-u),Qo(i)){if(e.slice(u).search(i)){var f,l=s;for(i.global||(i=ge(i.source,su(te.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var c=f.index;s=s.slice(0,void 0===c?u:c)}}else if(e.indexOf(Xn(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+n},Tr.unescape=function(e){return(e=su(e))&&M.test(e)?e.replace(D,Yt):e},Tr.uniqueId=function(e){var t=++je;return su(e)+t},Tr.upperCase=Fu,Tr.upperFirst=Uu,Tr.each=uo,Tr.eachRight=so,Tr.first=za,Zu(Tr,(cs={},fn(Tr,(function(e,t){Ae.call(Tr.prototype,t)||(cs[t]=e)})),cs),{chain:!1}),Tr.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Tr[e].placeholder=Tr})),at(["drop","take"],(function(e,t){Cr.prototype[e]=function(r){r=void 0===r?1:or(iu(r),0);var n=this.__filtered__&&!t?new Cr(this):this.clone();return n.__filtered__?n.__takeCount__=ur(r,n.__takeCount__):n.__views__.push({size:ur(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Cr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Cr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),at(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Cr.prototype[e]=function(){return this[r](1).value()[0]}})),at(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Cr.prototype[e]=function(){return this.__filtered__?new Cr(this):this[r](1)}})),Cr.prototype.compact=function(){return this.filter(Yu)},Cr.prototype.find=function(e){return this.filter(e).head()},Cr.prototype.findLast=function(e){return this.reverse().find(e)},Cr.prototype.invokeMap=Fn((function(e,t){return"function"==typeof e?new Cr(this):this.map((function(r){return mn(r,e,t)}))})),Cr.prototype.reject=function(e){return this.filter(Eo(Zi(e)))},Cr.prototype.slice=function(e,t){e=iu(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Cr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=iu(t))<0?r.dropRight(-t):r.take(t-e)),r)},Cr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Cr.prototype.toArray=function(){return this.take(4294967295)},fn(Cr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Tr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Tr.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,u=t instanceof Cr,s=o[0],f=u||Do(t),l=function(e){var t=i.apply(Tr,ht([e],o));return n&&c?t[0]:t};f&&r&&"function"==typeof s&&1!=s.length&&(u=f=!1);var c=this.__chain__,h=!!this.__actions__.length,p=a&&!c,d=u&&!h;if(!a&&f){t=d?t:new Cr(this);var g=e.apply(t,o);return g.__actions__.push({func:ro,args:[l],thisArg:void 0}),new Ir(g,c)}return p&&d?e.apply(this,o):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Tr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Do(i)?i:[],e)}return this[r]((function(r){return t.apply(Do(r)?r:[],e)}))}})),fn(Cr.prototype,(function(e,t){var r=Tr[t];if(r){var n=r.name+"";Ae.call(mr,n)||(mr[n]=[]),mr[n].push({name:t,func:r})}})),mr[Oi(void 0,2).name]=[{name:"wrapper",func:void 0}],Cr.prototype.clone=function(){var e=new Cr(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Cr.prototype.reverse=function(){if(this.__filtered__){var e=new Cr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Cr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Do(e),n=t<0,i=r?e.length:0,a=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ur(t,e+o);break;case"takeRight":e=or(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,f=n?u:o-1,l=this.__iteratees__,c=l.length,h=0,p=ur(s,this.__takeCount__);if(!r||!n&&i==s&&p==s)return ni(e,this.__actions__);var d=[];e:for(;s--&&h<p;){for(var g=-1,v=e[f+=t];++g<c;){var _=l[g],y=_.iteratee,m=_.type,b=y(v);if(2==m)v=b;else if(!b){if(1==m)continue e;break e}}d[h++]=v}return d},Tr.prototype.at=no,Tr.prototype.chain=function(){return to(this)},Tr.prototype.commit=function(){return new Ir(this.value(),this.__chain__)},Tr.prototype.next=function(){void 0===this.__values__&&(this.__values__=ru(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tr.prototype.plant=function(e){for(var t,r=this;r instanceof Sr;){var n=Ta(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Tr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Cr){var t=e;return this.__actions__.length&&(t=new Cr(this)),(t=t.reverse()).__actions__.push({func:ro,args:[qa],thisArg:void 0}),new Ir(t,this.__chain__)}return this.thru(qa)},Tr.prototype.toJSON=Tr.prototype.valueOf=Tr.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Tr.prototype.first=Tr.prototype.head,vt&&(Tr.prototype[vt]=function(){return this}),Tr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(He._=$t,define((function(){return $t}))):Ye?((Ye.exports=$t)._=$t,Ge._=$t):He._=$t}).call(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,r){"use strict";t.exports=function(e,t){t||(t=e,e=window);var r=0,i=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},u=!1;function s(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==o.alt,o.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==o.shift,o.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==o.control,o.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==o.meta,o.meta=!!e.metaKey),t}function f(e,u){var f=n.x(u),l=n.y(u);"buttons"in u&&(e=0|u.buttons),(e!==r||f!==i||l!==a||s(u))&&(r=0|e,i=f||0,a=l||0,t&&t(r,i,a,o))}function l(e){f(0,e)}function c(){(r||i||a||o.shift||o.alt||o.meta||o.control)&&(i=a=0,r=0,o.shift=o.alt=o.control=o.meta=!1,t&&t(0,0,0,o))}function h(e){s(e)&&t&&t(r,i,a,o)}function p(e){0===n.buttons(e)?f(0,e):f(r,e)}function d(e){f(r|n.buttons(e),e)}function g(e){f(r&~n.buttons(e),e)}function v(){u||(u=!0,e.addEventListener("mousemove",p),e.addEventListener("mousedown",d),e.addEventListener("mouseup",g),e.addEventListener("mouseleave",l),e.addEventListener("mouseenter",l),e.addEventListener("mouseout",l),e.addEventListener("mouseover",l),e.addEventListener("blur",c),e.addEventListener("keyup",h),e.addEventListener("keydown",h),e.addEventListener("keypress",h),e!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}v();var _={element:e};return Object.defineProperties(_,{enabled:{get:function(){return u},set:function(t){t?v():function(){if(!u)return;u=!1,e.removeEventListener("mousemove",p),e.removeEventListener("mousedown",d),e.removeEventListener("mouseup",g),e.removeEventListener("mouseleave",l),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseout",l),e.removeEventListener("mouseover",l),e.removeEventListener("blur",c),e.removeEventListener("keyup",h),e.removeEventListener("keydown",h),e.removeEventListener("keypress",h),e!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h))}()},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),_};var n=e("mouse-event")},{"mouse-event":19}],19:[function(e,t,r){"use strict";function n(e){return e.target||e.srcElement||window}r.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},r.element=n,r.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=n(e).getBoundingClientRect();return e.clientX-t.left}return 0},r.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=n(e).getBoundingClientRect();return e.clientY-t.top}return 0}},{}],20:[function(e,t,r){"use strict";var n=e("to-px");t.exports=function(e,t,r){"function"==typeof e&&(r=!!t,t=e,e=window);var i=n("ex",e),a=function(e){r&&e.preventDefault();var n=e.deltaX||0,a=e.deltaY||0,o=e.deltaZ||0,u=1;switch(e.deltaMode){case 1:u=i;break;case 2:u=window.innerHeight}if(a*=u,o*=u,(n*=u)||a||o)return t(n,a,o,e)};return e.addEventListener("wheel",a),a}},{"to-px":53}],21:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("ndarray"),a=e("typedarray-pool"),o=e("./lib/fft-matrix.js");t.exports=function(e,t,r){var u,s,f=t.shape,l=f.length,c=1,h=new Array(l),p=0;for(u=l-1;u>=0;--u)if(h[u]=c,c*=f[u],p=Math.max(p,o.scratchMemory(f[u])),t.shape[u]!==r.shape[u])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var d,g=4*c+p;d="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?a.mallocDouble(g):a.mallocFloat(g);var v,_,y,m,b=i(d,f.slice(0),h,0),w=i(d,f.slice(0),h.slice(0),c),x=i(d,f.slice(0),h.slice(0),2*c),A=i(d,f.slice(0),h.slice(0),3*c),j=4*c;for(n.assign(b,t),n.assign(w,r),u=l-1;u>=0&&(o(e,c/f[u],f[u],d,b.offset,w.offset,j),0!==u);--u){for(_=1,y=x.stride,m=A.stride,s=u-1;s<l;++s)m[s]=y[s]=_,_*=f[s];for(s=u-2;s>=0;--s)m[s]=y[s]=_,_*=f[s];n.assign(x,b),n.assign(A,w),v=b,b=x,x=v,v=w,w=A,A=v}n.assign(t,b),n.assign(r,w),a.free(d)}},{"./lib/fft-matrix.js":22,ndarray:26,"ndarray-ops":25,"typedarray-pool":54}],22:[function(e,t,r){var n=e("bit-twiddle");function i(e,t,r,i,a,o){var u,s,f,l,c,h,p,d,g,v,_,y,m,b,w,x,A,j,E,k,V,T,O,S;for(e|=0,t|=0,a|=0,o|=0,u=r|=0,s=n.log2(u),j=0;j<t;++j){for(p=u>>1,c=0,f=0;f<u-1;f++){for(f<c&&(m=i[a+f],i[a+f]=i[a+c],i[a+c]=m,m=i[o+f],i[o+f]=i[o+c],i[o+c]=m),h=p;h<=c;)c-=h,h>>=1;c+=h}for(_=-1,y=0,v=1,d=0;d<s;d++){for(g=v,v<<=1,x=1,A=0,c=0;c<g;c++){for(f=c;f<u;f+=v)E=i[a+(l=f+g)],k=i[o+l],V=i[a+f],T=i[o+f],b=(O=x*(E+k))-k*(x+A),w=O+(S=E*(A-x)),i[a+l]=V-b,i[o+l]=T-w,i[a+f]+=b,i[o+f]+=w;S=x*(y-_),x=(O=_*(x+A))-A*(_+y),A=O+S}y=Math.sqrt((1-_)/2),e<0&&(y=-y),_=Math.sqrt((1+_)/2)}if(e<0){var I=1/u;for(f=0;f<u;f++)i[a+f]*=I,i[o+f]*=I}a+=r,o+=r}}t.exports=function(e,t,r,a,o,u,s){e|=0,t|=0,r|=0,o|=0,u|=0,n.isPow2(r)?i(e,t,r,a,o,u):function(e,t,r,a,o,u,s){e|=0,t|=0,r|=0,o|=0,u|=0,s|=0;var f,l,c,h,p,d,g,v,_,y=n.nextPow2(2*r+1),m=s,b=m+r,w=b+r,x=w+y,A=x+y,j=A+y,E=-e*Math.PI/r;for(_=0;_<r;++_)l=E*(_*_%(2*r)),h=Math.cos(l),p=Math.sin(l),a[A+(y-_)]=a[A+_]=a[m+_]=h,a[j+(y-_)]=a[j+_]=a[b+_]=p;for(_=r;_<=y-r;++_)a[A+_]=0;for(_=r;_<=y-r;++_)a[j+_]=0;i(1,1,y,a,A,j),E=e<0?1/r:1;for(f=0;f<t;++f){for(_=0;_<r;++_)l=a[o+_],c=a[u+_],h=a[m+_],p=-a[b+_],d=h*(l+c),g=l*(p-h),v=c*(h+p),a[w+_]=d-v,a[x+_]=d+g;for(_=r;_<y;++_)a[w+_]=0;for(_=r;_<y;++_)a[x+_]=0;for(i(1,1,y,a,w,x),_=0;_<y;++_)l=a[w+_],c=a[x+_],h=a[A+_],p=a[j+_],d=h*(l+c),g=l*(p-h),v=c*(h+p),a[w+_]=d-v,a[x+_]=d+g;for(i(-1,1,y,a,w,x),_=0;_<r;++_)l=a[w+_],c=a[x+_],h=a[m+_],p=-a[b+_],d=h*(l+c),g=l*(p-h),v=c*(h+p),a[o+_]=E*(d-v),a[u+_]=E*(d+g);o+=r,u+=r}}(e,t,r,a,o,u,s)},t.exports.scratchMemory=function(e){return n.isPow2(e)?0:2*e+4*n.nextPow2(2*e+1)}},{"bit-twiddle":2}],23:[function(e,t,r){"use strict";t.exports=function(e,t,r,u,s){void 0===u&&(u=1);void 0===s&&(s=0);var f=1!==u,l=0!==s,c=a(e),h=a(t),p=a(r);!function(e,t,r){var n=i(e),a=i(t),o=i(r);if(n[0]!==a[0]||n[1]!==o[1]||a[1]!==o[0])throw new Error("Mismatched array shapes for matrix product")}(e,t,r);var d=[c,h,p,f,l].join(":"),g=o[d];g||(g=o[d]=n(c,h,p,f,l));return g(e,t,r,u,s)};var n=e("./lib/planner.js");function i(e){return Array.isArray(e)?[e.length,e[0].length]:e.shape}function a(e){if(Array.isArray(e)){if(Array.isArray(e))return["r","native"]}else if(e.shape&&2===e.shape.length)return e.order[0]?["r",e.dtype]:["c",e.dtype];throw new Error("Unrecognized data type")}var o={}},{"./lib/planner.js":24}],24:[function(e,t,r){"use strict";t.exports=function(e,t,r,s,f){var l=["gemm",e[0],e[1],"a",t[0],t[1],"b",r[0],r[1],s?"alpha":"",f?"beta":""].join(""),c=["function ",l,"(o,a,b,A,B){","var ",n("o",e),n("a",t),n("b",r),"i,j,k;"];"r"===t[0]&&"c"===r[0]?c.push.apply(c,function(e,t,r,n,s){var f=[],l="r"===e[0]?[1,0]:[0,1],c=[1,0],h=[0,1],p=["i","j"];f.push.apply(f,i(l,"o",e)),l[1]?(f.push("for(j=0;j<od1;++j){"),f.push("for(i=0;i<od0;++i){")):(f.push("for(i=0;i<od0;++i){"),f.push("for(j=0;j<od1;++j){"));f.push.apply(f,i(c,"a",t,"i")),f.push.apply(f,i(h,"b",r,void 0,"j")),f.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(c,"a",t,"i","k"),"*",u(h,"b",r,"k","j"),";"),f.push.apply(f,a(c,"a",t,0,"k")),f.push.apply(f,a(h,"b",r,0,"k")),f.push("}"),n&&f.push("r*=A;");s&&f.push("r+=B*",u(l,"o",e,"i","j"),";");return f.push.apply(f,o(l,"o",e,"i","j","r")),f.push.apply(f,a(l,"o",e,0,p[1])),f.push("}"),f.push.apply(f,a(l,"o",e,1,p[0])),f.push("}"),f}(e,t,r,s,f)):c.push.apply(c,function(e,t,r,n,s){var f=[],l=["od0","od1","ad1"],c=[1,0],h=[1,0],p=[0,1];f.push.apply(f,function(e,t){var r,n=[],s="r"===e[0]?[1,0]:[0,1];t&&n.push("if(B!==1.0){");n.push.apply(n,i(s,"o",e)),s[0]?(n.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),r=["i","j"]):(n.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),r=["j","i"]);t?n.push.apply(n,o(s,"o",e,"i","j","B*"+u(s,"o",e,"i","j"))):n.push.apply(n,o(s,"o",e,"i","j","0"));n.push.apply(n,a(s,"o",e,0,r[1])),n.push("}"),n.push.apply(n,a(s,"o",e,1,r[0])),n.push("}"),t&&n.push("}");return n}(e,s));for(var d=0;d<3;++d)f.push("for(var i",d,"=",l[d],";i",d,">0;){","var w",d,"=",32,";","if(i",d,"<",32,"){","w",d,"=i",d,";","i",d,"=0;","}else{","i",d,"-=",32,";","}");f.push.apply(f,i(c,"o",e,"i0","i1","w1")),f.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),f.push.apply(f,i(h,"a",t,"(i0+i)","i2")),f.push.apply(f,i(p,"b",r,"i2","(i1+j)")),f.push("for(k=0;k<w2;++k){"),f.push("r+=",u(h,"a",t,"(i0+i)","(i2+k)"),"*",u(p,"b",r,"(i2+k)","(i1+j)"),";"),f.push.apply(f,a(h,"a",t,0,"(i2+k)")),f.push.apply(f,a(p,"b",r,0,"(i2+k)")),f.push("}");var g="r";n&&(g="A*r");return f.push.apply(f,o(c,"o",e,"(i0+i)","(i1+j)",g+"+"+u(c,"o",e,"(i0+i)","(i1+j)"))),f.push.apply(f,a(c,"o",e,0,"(i1+j)")),f.push("}"),f.push.apply(f,a(c,"o",e,1,"(i0+i)")),f.push("}}}}"),f}(e,t,r,s,f));return c.push("}return ",l),new Function(c.join(""))()};function n(e,t){return"native"===t[1]?[e,"d0=",e,".length,",e,"d1=",e,"[0].length,"].join(""):[e,"d0=",e,".shape[0],",e,"d1=",e,".shape[1],",e,"s0=",e,".stride[0],",e,"s1=",e,".stride[1],",e,"o=",e,".offset,",e,"d=",e,".data,"].join("")}function i(e,t,r,n,i,a){var o=[];return"native"===r[1]?e[0]&&(n?o.push("var ",t,"p=",t,"[",n,"];"):o.push("var ",t,"p=",t,"[0];")):n&&i?a?o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",a,",",t,"p=",t,"o+",n,"*",t,"s0+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0+",i,"*",t,"s1;"):n?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0;"):i?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",t,"d",e[0],",",t,"p=",t,"o;"),o}function a(e,t,r,n,i){var a=[];return"native"===r[1]?e[0]&&1===n&&a.push(t,"p=",t,"[",i,"+1]"):a.push(t,"p+=",t,"t",n,";"),a}function o(e,t,r,n,i,a){var o=[];return"native"===r[1]?e[0]?o.push(t,"p[",i,"]=",a,";"):o.push(t,"[",n,"][",i,"]=",a,";"):"generic"===r[1]?o.push(t,"d.set(",t,"p,",a,");"):o.push(t,"d[",t,"p]=",a,";"),o}function u(e,t,r,n,i){var a=[];return"native"===r[1]?e[0]?a.push(t,"p[",i,"]"):a.push(t,"[",n,"][",i,"]"):"generic"===r[1]?a.push(t,"d.get(",t,"p)"):a.push(t,"d[",t,"p]"),a.join("")}},{}],25:[function(e,t,r){"use strict";var n=e("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function o(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return n({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}(e))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in s){var t=s[e];r[e]=o({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in f){var t=f[e];r[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<l.length;++e){var t=l[e];r[t]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var c=["max","min","atan2","pow"];!function(){for(var e=0;e<c.length;++e){var t=c[e];r[t]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];r[t+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":4}],26:[function(e,t,r){var n=e("iota-array"),i=e("is-buffer"),a="undefined"!=typeof Float64Array;function o(e,t){return e[0]-t[0]}function u(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(o);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function s(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t){a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",a)(f[e][0])}a=["'use strict'"];var o=n(t),s=o.map((function(e){return"i"+e})),l="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),c=o.map((function(e){return"b"+e})).join(","),h=o.map((function(e){return"c"+e})).join(",");a.push("function "+r+"(a,"+c+","+h+",d){this.data=a","this.shape=["+c+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+s.join(",")+",v){"),i?a.push("return this.data.set("+l+",v)}"):a.push("return this.data["+l+"]=v}"),a.push("proto.get=function "+r+"_get("+s.join(",")+"){"),i?a.push("return this.data.get("+l+")}"):a.push("return this.data["+l+"]}"),a.push("proto.index=function "+r+"_index(",s.join(),"){return "+l+"}"),a.push("proto.hi=function "+r+"_hi("+s.join(",")+"){return new "+r+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var p=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),d=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));a.push("proto.lo=function "+r+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+s.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),_=new Array(t);for(g=0;g<t;++g)v[g]="a[i"+g+"]",_[g]="b[i"+g+"]";a.push("proto.transpose=function "+r+"_transpose("+s+"){"+s.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+_.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+s+"){var a=[],b=[],c=this.offset");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(f[e],u)}var f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(e,t,r,n){if(void 0===e)return(0,f.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var o=t.length;if(void 0===r){r=new Array(o);for(var u=o-1,l=1;u>=0;--u)r[u]=l,l*=t[u]}if(void 0===n){n=0;for(u=0;u<o;++u)r[u]<0&&(n-=(t[u]-1)*r[u])}for(var c=function(e){if(i(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),h=f[c];h.length<=o+1;)h.push(s(c,h.length-1));return(0,h[o+1])(e,t,r,n)}},{"iota-array":15,"is-buffer":16}],27:[function(e,t,r){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},{}],28:[function(e,t,r){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},{}],29:[function(e,t,r){"use strict";t.exports={ValueError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},ConfigError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},NotImplementedError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e}}},{}],30:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,i){var a=t-1,o=t+n-1,u=e-1,s=e+r-1;return 0!==t&&0!==e?i.selection.get(u,a)-i.selection.get(s,a)-i.selection.get(u,o)+i.selection.get(s,o):0===t&&0===e?i.selection.get(e+r-1,t+n-1):0===t?-i.selection.get(u,t+n-1)+i.selection.get(e+r-1,t+n-1):-i.selection.get(s,a)+i.selection.get(s,o)}},{}],31:[function(e,t,r){"use strict";var n=e("./area-sum");t.exports=function(e,t,r,i,a){return n(e,t,r,i,a)/(r*i)}},{"./area-sum":30}],32:[function(e,t,r){(function(r){(function(){"use strict";var n=e("path"),i=e("./read"),a=n.join(n.resolve(r),"../../data");function o(e){return i(n.join(a,e))}var u={};Object.defineProperty(u,"digit",{get:function(){return o("five.png")}}),Object.defineProperty(u,"five",{get:function(){return o("five.png")}}),Object.defineProperty(u,"node",{get:function(){return o("nodejs.png")}}),Object.defineProperty(u,"lena",{get:function(){return o("lenna.png")}}),Object.defineProperty(u,"lenna",{get:function(){return o("lenna.png")}}),Object.defineProperty(u,"moon",{get:function(){return o("moon.jpg")}}),t.exports=u}).call(this)}).call(this,"/node_modules/numjs/src/images")},{"./read":36,path:49}],33:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports=function(e){return new n(e.selection.step(null,-1))}},{"../ndarray":46}],34:[function(e,t,r){"use strict";t.exports={data:e("./data"),read:e("./read"),save:e("./save"),resize:e("./resize"),sat:e("./sat"),ssat:e("./ssat"),sobel:e("./sobel"),scharr:e("./scharr"),areaSum:e("./area-sum"),areaValue:e("./area-value"),rgb2gray:e("./rgb2gray"),flip:e("./flip")}},{"./area-sum":30,"./area-value":31,"./data":32,"./flip":33,"./read":36,"./resize":37,"./rgb2gray":38,"./sat":39,"./save":40,"./scharr":41,"./sobel":42,"./ssat":43}],35:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("cwise/lib/wrapper")({args:["array","array","array"],pre:{body:"{this_isgray=!0}",args:[],thisVars:["this_isgray"],localVars:[]},body:{body:"{_inline_40_arg0_===_inline_40_arg1_&&_inline_40_arg1_===_inline_40_arg2_||(this_isgray=!1)}",args:[{name:"_inline_40_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_40_arg1_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_40_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_isgray"],localVars:[]},post:{body:"{return this_isgray}",args:[],thisVars:["this_isgray"],localVars:[]},debug:!1,funcName:"doCheckIsGrayscaleCwise",blockSize:64});t.exports=function(e){e instanceof n&&(e=e.selection);var t=e.shape;return 1!==t.length&&(2===t.length||3===t.length&&1===t[2]||3===t.length&&(3===t[2]||4===t[2])&&i(e.pick(null,null,0),e.pick(null,null,1),e.pick(null,null,2)))}},{"../ndarray":46,"cwise/lib/wrapper":7}],36:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("../ndarray"),a=e("../errors"),o=e("./is-grayscale");t.exports=function(e){if(e instanceof HTMLCanvasElement)return function(e){var t=e.getContext("2d").getImageData(0,0,e.width,e.height),r=[e.width,e.height,4],a=[4,4*e.width,1],u=n(new Uint8Array(t.data),r,a,0).transpose(1,0);o(u)&&(u=u.pick(null,null,0));return new i(u)}(e);if(e instanceof HTMLImageElement)return function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var r=t.getContext("2d");r.drawImage(e,0,0);var a=r.getImageData(0,0,e.width,e.height),u=[e.width,e.height,4],s=[4,4*e.width,1],f=n(new Uint8Array(a.data),u,s,0).transpose(1,0);o(f)&&(f=f.pick(null,null,0));return new i(f)}(e);throw new a.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},{"../errors":29,"../ndarray":46,"./is-grayscale":35,ndarray:26}],37:[function(e,t,r){"use strict";var n=e("./utils"),i=e("ndarray"),a=e("../ndarray");t.exports=function(e,t,r){var o=e.shape,u=o[0],s=o[1],f=o[2]||1,l=document.createElement("canvas");l.height=u,l.width=s;var c=l.getContext("2d"),h=c.createImageData(s,u),p=n.setRawData(e.selection,h.data);if(p)throw p;var d=u/t,g=s/r,v=Math.min(d,g),_=t*v,y=r*v,m=(u-v*t)/2,b=(s-v*r)/2;c.putImageData(h,0,0),c.drawImage(l,b,m,y,_,0,0,r,t);var w=c.getImageData(0,0,r,t),x=[0|r,0|t,4],A=[4,4*r|0,1],j=i(new Uint8Array(w.data),x,A,0).transpose(1,0);return(2===o.length||3===o.length&&1===f)&&(j=j.pick(null,null,0)),new a(j)}},{"../ndarray":46,"./utils":44,ndarray:26}],38:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("../utils"),a=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_37_arg0_=4899*_inline_37_arg1_+9617*_inline_37_arg2_+1868*_inline_37_arg3_+8192>>14}",args:[{name:"_inline_37_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_37_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"rgb2grayCwise",blockSize:64});t.exports=function(e){e instanceof n||(e=new n(e));var t=e.shape,r=t[0],o=t[1];if(1===(t[2]||1))return e;var u=[r,o],s=new n(new Uint8Array(i.shapeSize(u)),u),f=e.selection.pick(null,null,0),l=e.selection.pick(null,null,1),c=e.selection.pick(null,null,2);return a(s.selection,f,l,c),s}},{"../ndarray":46,"../utils":47,"cwise/lib/wrapper":7}],39:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("./rgb2gray"),a=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_25_arg0_=0!==_inline_25_arg2_[0]&&0!==_inline_25_arg2_[1]?_inline_25_arg1_+_inline_25_arg4_+_inline_25_arg5_-_inline_25_arg3_:0===_inline_25_arg2_[0]&&0===_inline_25_arg2_[1]?_inline_25_arg1_:0===_inline_25_arg2_[0]?_inline_25_arg1_+_inline_25_arg5_:_inline_25_arg1_+_inline_25_arg4_}",args:[{name:"_inline_25_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_25_arg1_",lvalue:!1,rvalue:!0,count:4},{name:"_inline_25_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_25_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_25_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_25_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=i(e),r=t.shape,o=r[0],u=r[1],s=new n(new Uint32Array(o*u),[o,u]);return a(s.selection,t.selection),s}},{"../ndarray":46,"./rgb2gray":38,"cwise/lib/wrapper":7}],40:[function(e,t,r){"use strict";var n=e("./utils"),i=e("../errors");t.exports=function(e,t){var r=e.shape,a=r[0],o=r[1];if(!(t instanceof HTMLCanvasElement))throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var u=document.createElement("canvas");u.height=a,u.width=o;var s=u.getContext("2d"),f=s.createImageData(o,a),l=n.setRawData(e.selection,f.data);if(l)throw l;s.putImageData(f,0,0),s.drawImage(u,o,a),t.getContext("2d").drawImage(u,0,0,o,a,0,0,t.width,t.height)}},{"../errors":29,"./utils":44}],41:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("../ndarray"),a=e("../utils"),o=e("./rgb2gray"),u=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_34_q=3*_inline_34_arg2_+10*_inline_34_arg3_+3*_inline_34_arg4_-3*_inline_34_arg7_-10*_inline_34_arg8_-3*_inline_34_arg9_,_inline_34_s=3*_inline_34_arg2_-3*_inline_34_arg4_+10*_inline_34_arg5_-10*_inline_34_arg6_+3*_inline_34_arg7_-3*_inline_34_arg9_;_inline_34_arg0_=Math.sqrt(_inline_34_s*_inline_34_s+_inline_34_q*_inline_34_q)}",args:[{name:"_inline_34_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_34_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_34_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_34_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_34_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_34_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_34_q","_inline_34_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,s=r[0],f=r[1],l=new i(new Float32Array(a.shapeSize(r)),r);return u(l.selection,t.selection),n.assigns(l.selection.pick(0,null),0),n.assigns(l.selection.pick(null,0),0),n.assigns(l.selection.pick(s-1,null),0),n.assigns(l.selection.pick(null,f-1),0),l.divide(16*Math.sqrt(2),!1)}},{"../ndarray":46,"../utils":47,"./rgb2gray":38,"cwise/lib/wrapper":7,"ndarray-ops":25}],42:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("../ndarray"),a=e("../utils"),o=e("./rgb2gray"),u=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_31_q=_inline_31_arg2_+2*_inline_31_arg3_+_inline_31_arg4_-_inline_31_arg7_-2*_inline_31_arg8_-_inline_31_arg9_,_inline_31_s=_inline_31_arg2_-_inline_31_arg4_+2*_inline_31_arg5_-2*_inline_31_arg6_+_inline_31_arg7_-_inline_31_arg9_;_inline_31_arg0_=Math.sqrt(_inline_31_s*_inline_31_s+_inline_31_q*_inline_31_q)}",args:[{name:"_inline_31_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_31_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_31_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_31_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_31_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_31_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_31_q","_inline_31_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,s=r[0],f=r[1],l=new i(new Float32Array(a.shapeSize(r)),r);return u(l.selection,t.selection),n.assigns(l.selection.pick(0,null),0),n.assigns(l.selection.pick(null,0),0),n.assigns(l.selection.pick(s-1,null),0),n.assigns(l.selection.pick(null,f-1),0),l.divide(4*Math.sqrt(2),!1)}},{"../ndarray":46,"../utils":47,"./rgb2gray":38,"cwise/lib/wrapper":7,"ndarray-ops":25}],43:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("./rgb2gray"),a=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_28_arg0_=0!==_inline_28_arg2_[0]&&0!==_inline_28_arg2_[1]?_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg4_+_inline_28_arg5_-_inline_28_arg3_:0===_inline_28_arg2_[0]&&0===_inline_28_arg2_[1]?_inline_28_arg1_*_inline_28_arg1_:0===_inline_28_arg2_[0]?_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg5_:_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg4_}",args:[{name:"_inline_28_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_28_arg1_",lvalue:!1,rvalue:!0,count:8},{name:"_inline_28_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_28_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_28_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_28_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=i(e),r=t.shape,o=r[0],u=r[1],s=new n(new Uint32Array(o*u),[o,u]);return a(s.selection,t.selection),s}},{"../ndarray":46,"./rgb2gray":38,"cwise/lib/wrapper":7}],44:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports.getRawData=function(e){var t,r;e instanceof n&&(e=e.selection);var i=0,a=e.shape,o=a[0],u=a[1],s=a[2]||1,f=new Uint8Array(o*u*s);if(3===e.shape.length)if(3===s)for(t=0;t<o;++t)for(r=0;r<u;++r)f[i++]=e.get(t,r,0),f[i++]=e.get(t,r,1),f[i++]=e.get(t,r,2);else if(4===s)for(t=0;t<o;++t)for(r=0;r<u;++r)f[i++]=e.get(t,r,0),f[i++]=e.get(t,r,1),f[i++]=e.get(t,r,2),f[i++]=e.get(t,r,3);else{if(1!==s)return new Error("Incompatible array shape");for(t=0;t<o;++t)for(r=0;r<u;++r)f[i++]=e.get(t,r,0)}else{if(2!==e.shape.length)return new Error("Invalid image");for(t=0;t<o;++t)for(r=0;r<u;++r)f[i++]=e.get(t,r)}return f},t.exports.setRawData=function(e,t){var r,n,i,a=0,o=e.shape[0],u=e.shape[1],s=e.shape[2]||1;if(3===e.shape.length)if(3===s)for(r=0;r<o;++r)for(n=0;n<u;++n)t[a++]=e.get(r,n,0),t[a++]=e.get(r,n,1),t[a++]=e.get(r,n,2),t[a++]=255;else if(4===s)for(r=0;r<o;++r)for(n=0;n<u;++n)t[a++]=e.get(r,n,0),t[a++]=e.get(r,n,1),t[a++]=e.get(r,n,2),t[a++]=e.get(r,n,3);else{if(1!==s)return new Error("Incompatible array shape");for(r=0;r<o;++r)for(n=0;n<u;++n)i=e.get(r,n,0),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}else{if(2!==e.shape.length)return new Error("Invalid image");for(r=0;r<o;++r)for(n=0;n<u;++n)i=e.get(r,n),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}}},{"../ndarray":46}],45:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("ndarray-ops"),a=e("ndarray-fft"),o=e("./config"),u=e("./dtypes"),s=e("./ndarray"),f=e("./utils"),l=e("./errors");function c(e,t){return s.new(e).mod(t)}function h(e,t){return s.new(e).transpose(t)}function p(e,t,r,n){if(1===arguments.length)return p(0,e,1,void 0);if(2===arguments.length&&f.isNumber(t))return p(e,t,1,void 0);if(2===arguments.length)return p(0,e,1,t);if(3===arguments.length&&!f.isNumber(r))return p(e,t,1,r);for(var i=[],a=0;e<t;)i[a++]=e,e+=r;return s.new(i,n)}function d(e,t){f.isNumber(e)&&e>=0&&(e=[e]);var r=f.shapeSize(e),n=f.getType(t),a=new s(new n(r),e);return"array"===a.dtype&&i.assigns(a.selection,0),a}function g(e,t){f.isNumber(e)&&e>=0&&(e=[e]);var r=f.shapeSize(e),n=f.getType(t),a=new s(new n(r),e);return i.assigns(a.selection,1),a}var v=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg0_=_inline_1_arg0_<-30?0:_inline_1_arg0_>30?1:1/(1+Math.exp(-1*_inline_1_arg1_*_inline_1_arg0_))}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!0,count:4},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"sigmoidCwise",blockSize:64});var _=e("cwise/lib/wrapper")({args:["array","scalar","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_4_arg0_=Math.min(Math.max(_inline_4_arg1_,_inline_4_arg0_),_inline_4_arg2_)}",args:[{name:"_inline_4_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_4_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"clipCwise",blockSize:64});var y=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_7_arg0_=Math.max(_inline_7_arg1_*_inline_7_arg0_,_inline_7_arg0_)}",args:[{name:"_inline_7_arg0_",lvalue:!0,rvalue:!0,count:3},{name:"_inline_7_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"leakyReluCwise",blockSize:64});var m=e("cwise/lib/wrapper")({args:["array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_10_arg0_=(Math.exp(2*_inline_10_arg0_)-1)/(Math.exp(2*_inline_10_arg0_)+1)}",args:[{name:"_inline_10_arg0_",lvalue:!0,rvalue:!0,count:3}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"tanhCwise",blockSize:64});function b(e){var t=e instanceof s?e.clone():s.new(e);return i.abseq(t.selection),t}function w(e){var t,r;for(arguments.length>1&&(e=[].slice.call(arguments)),t=0;t<e.length;t++)r=e[t],e[t]=r instanceof s?r.tolist():f.isNumber(r)?[r]:r;var n=e[0];for(t=1;t<e.length;t++){r=e[t];var i=f.getShape(n),a=f.getShape(r);if(i.length!==a.length)throw new l.ValueError("all the input arrays must have same number of dimensions");if(1===i.length&&1===a.length)n=n.concat(r);else if(2===i.length&&2===a.length&&i[0]===a[0]||1===i.length&&2===a.length&&i[0]===a[0]||2===i.length&&1===a.length&&i[0]===a[0])for(var o=0;o<i[0];o++)n[o]=n[o].concat(r[o]);else{if(!(3===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||2===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||3===i.length&&2===a.length&&i[0]===a[0]&&i[1]===a[1]))throw new l.ValueError('cannot concatenate  "'+i+'" with "'+a+'"');for(var u=0;u<i[0];u++){for(var c=new Array(i[1]),h=0;h<i[1];h++)c[h]=n[u][h].concat(r[u][h]);n[u]=c}}}return s.new(n,e[0].dtype)}function x(e,t){for(var r=g((e=s.new(e)).ndim).tolist(),n=t;n<0;)n+=e.ndim;if(void 0===r[n])throw new l.ValueError("axis="+t+"invalid for the "+e.ndim+"-dimensional input array");return r[n]=-1,e.step.apply(e,r)}t.exports={config:o,dtypes:u,NdArray:s,ndarray:n,array:s.new,arange:p,reshape:function(e,t){return s.new(e).reshape(t)},zeros:d,ones:g,empty:function(e,t){f.isNumber(e)&&e>=0&&(e=[e]);var r=f.shapeSize(e),n=f.getType(t);return new s(new n(r),e)},flatten:function(e){return s.new(e).flatten()},flip:x,random:function(e){if(0===arguments.length)return s.new(Math.random());e=1===arguments.length?f.isNumber(e)?[0|e]:e:[].slice.call(arguments);var t=f.shapeSize(e),r=new s(new Float64Array(t),e);return i.random(r.selection),r},softmax:function(e){var t=s.new(e).exp(),r=t.sum();return i.divseq(t.selection,r),t},sigmoid:function(e,t){return e=s.new(e).clone(),t=t||1,v(e.selection,t),e},leakyRelu:function(e,t){t=t||.001;var r=e instanceof s?e.clone():s.new(e);return y(r.selection,t),r},abs:b,arccos:function(e){var t=e instanceof s?e.clone():s.new(e);return i.acoseq(t.selection),t},arcsin:function(e){var t=e instanceof s?e.clone():s.new(e);return i.asineq(t.selection),t},arctan:function(e){var t=e instanceof s?e.clone():s.new(e);return i.ataneq(t.selection),t},cos:function(e){var t=e instanceof s?e.clone():s.new(e);return i.coseq(t.selection),t},sin:function(e){var t=e instanceof s?e.clone():s.new(e);return i.sineq(t.selection),t},tan:function(e){var t=e instanceof s?e.clone():s.new(e);return i.taneq(t.selection),t},tanh:function(e){var t=e instanceof s?e.clone():s.new(e);return m(t.selection),t},clip:function(e,t,r){1===arguments.length?(t=0,r=1):2===arguments.length&&(r=1);var n=e instanceof s?e.clone():s.new(e);return _(n.selection,t,r),n},exp:function(e){return s.new(e).exp()},log:function(e){return s.new(e).log()},sqrt:function(e){return s.new(e).sqrt()},power:function(e,t){return s.new(e).pow(t)},sum:function(e){return s.new(e).sum()},mean:function(e){return s.new(e).mean()},std:function(e,t){return s.new(e).std(t)},dot:function(e,t){return s.new(e).dot(t)},add:function(e,t){return s.new(e).add(t)},subtract:function(e,t){return s.new(e).subtract(t)},multiply:function(e,t){return s.new(e).multiply(t)},divide:function(e,t){return s.new(e).divide(t)},negative:function(e){return s.new(e).negative()},equal:function(e,t){return s.new(e).equal(t)},max:function(e){return s.new(e).max()},min:function(e){return s.new(e).min()},mod:c,remainder:c,concatenate:w,transpose:h,errors:l,broadcast:function(e,t){if(0!==e.length&&0!==t.length){for(var r=e.slice().reverse(),n=t.slice().reverse(),i=Math.max(e.length,t.length),a=new Array(i),o=0;o<i;o++)if(r[o]&&1!==r[o])if(n[o]&&1!==n[o]){if(r[o]!==n[o])return;a[o]=r[o]}else a[o]=r[o];else a[o]=n[o];return a.reverse()}},round:function(e){return s.new(e).round()},convolve:function(e,t){return s.new(e).convolve(t)},fftconvolve:function(e,t){return s.new(e).fftconvolve(t)},fft:function(e){var t=(e=e instanceof s?e.clone():s.new(e)).shape,r=t.length;if(2!==t[r-1])throw new l.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),i=new Array(r);return n[r-1]=0,i[r-1]=1,a(1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,i)),e},ifft:function(e){var t=(e=e instanceof s?e.clone():s.new(e)).shape,r=t.length;if(2!==t[r-1])throw new l.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),i=new Array(r);return n[r-1]=0,i[r-1]=1,a(-1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,i)),e},diag:function(e){return s.new(e).diag()},identity:function(e,t){for(var r=d([e,e],t),n=0;n<e;n++)r.set(n,n,1);return r},stack:function(e,t){if(t=t||0,!e||0===e.length)throw new l.ValueError("need at least one array to stack");for(var r,n=(e=e.map((function(e){return f.isNumber(e)?e:s.new(e)})))[0].shape||[],i=1;i<e.length;i++)for(var a=e[i].shape||[],o=Math.max(n.length,a.length),u=0;u<o;u++)if(n[u]!==a[u])throw new l.ValueError("all input arrays must have the same shape");if(0===n.length)r=w(e);else{r=d([e.length].concat(n));for(i=0;i<e.length;i++)r.pick(i).assign(e[i],!1)}if(t){t<0&&(t=r.ndim+t);var c=r.ndim,h=new Array(c);for(i=0;i<c;i++)h[i]=i<t?i+1:i===t?0:i;return r.transpose(h)}return r},rot90:function(e,t,r){for(t=t||1;t<0;)t+=4;if(t%=4,e=s.new(e),1!==(r=s.new(r||[0,1])).shape.length||2!==r.shape[0])throw new l.ValueError("len(axes) must be 2");if((r=r.tolist())[0]===r[1]||b(r[0]-r[1])===e.ndim)throw new l.ValueError("Axes must be different.");if(0===t)return e;if(2===t)return x(x(e,r[0]),r[1]);var n=p(e.ndim).tolist(),i=n[r[0]];return n[r[0]]=n[r[1]],n[r[1]]=i,1===t?h(x(e,r[1]),n):x(h(e,n),r[1])},int8:function(e){return s.new(e,"int8")},uint8:function(e){return s.new(e,"uint8")},int16:function(e){return s.new(e,"int16")},uint16:function(e){return s.new(e,"uint16")},int32:function(e){return s.new(e,"int32")},uint32:function(e){return s.new(e,"uint32")},float32:function(e){return s.new(e,"float32")},float64:function(e){return s.new(e,"float64")},images:e("./images")}},{"./config":27,"./dtypes":28,"./errors":29,"./images":34,"./ndarray":46,"./utils":47,"cwise/lib/wrapper":7,ndarray:26,"ndarray-fft":21,"ndarray-ops":25}],46:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("ndarray-ops"),a=e("ndarray-gemm"),o=e("ndarray-fft"),u=e("typedarray-pool"),s=e("./config"),f=e("./errors"),l=e("./utils"),c=function(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new f.ValueError("Required argument 'data' not found");this.selection=n.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(e){var t=l.getType(e);t!==l.getType(this.dtype)&&(this.selection=n(new t(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};c.prototype.get=function(){for(var e=arguments.length,t=0;t<e;t++)arguments[t]<0&&(arguments[t]+=this.shape[t]);return this.selection.get.apply(this.selection,arguments)},c.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},c.prototype.slice=function(){for(var e=this.ndim,t=new Array(e),r=new Array(e),n=new Array(e),i=this.shape,a=0;a<e;a++){var o=arguments[a];if(void 0===o)break;if(null!==o)if(l.isNumber(o))r[a]=o<0?o+i[a]:o,t[a]=null,n[a]=1;else if(4===o.length&&null===o[1]&&null===o[2]){var u=o[0]<0?o[0]+i[a]:o[0];r[a]=u,t[a]=null,n[a]=o[3]||1}else{var s=o[0]<0?o[0]+i[a]:o[0],f=o[1]<0?o[1]+i[a]:o[1];r[a]=f?s:0,t[a]=f?f-s:s,n[a]=o[2]||1}}var h=this.selection.lo.apply(this.selection,r),p=h.hi.apply(h,t),d=p.step.apply(p,n);return new c(d)},c.prototype.pick=function(e){return new c(this.selection.pick.apply(this.selection,arguments))},c.prototype.lo=function(){return new c(this.selection.lo.apply(this.selection,arguments))},c.prototype.hi=function(){return new c(this.selection.hi.apply(this.selection,arguments))},c.prototype.step=function(){return new c(this.selection.step.apply(this.selection,arguments))},c.prototype.flatten=function(){if(1===this.ndim)return new c(this.selection);var e=l.getType(this.dtype),t=l.flatten(this.tolist(),!0);return t instanceof e||(t=new e(t)),new c(t,[this.size])},c.prototype.reshape=function(e){if(0===arguments.length)throw new f.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&l.isNumber(e)&&-1===e&&(e=[l.shapeSize(this.shape)]),1===arguments.length&&l.isNumber(e)&&(e=[e]),arguments.length>1&&(e=[].slice.call(arguments)),e.filter((function(e){return-1===e})).length>1)throw new f.ValueError("can only specify one unknown dimension");var t=l.shapeSize(e);if(e=e.map(function(e){return-1===e?-1*this.size/t:e}.bind(this)),this.size!==l.shapeSize(e))throw new f.ValueError("total size of new array must be unchanged");var r,n,i,a,o=this.selection.shape,u=this.selection.offset,s=this.selection.stride,h=o.length,p=e.length;if(h===p){var d=!0;for(i=0;i<p;++i)if(o[i]!==e[i]){d=!1;break}if(d)return new c(this.selection.data,o,s,u)}else if(1===h){for(r=new Array(p),i=p-1,a=1;i>=0;--i)r[i]=a,a*=e[i];for(n=u,i=0;i<p;++i)r[i]<0&&(n-=(e[i]-1)*r[i]);return new c(this.selection.data,e,r,n)}var g=Math.min(h,p),v=!0;for(i=0;i<g;i++)if(o[i]!==e[i]){v=!1;break}if(v){for(r=new Array(p),i=0;i<p;i++)r[i]=s[i]||1;return n=u,new c(this.selection.data,e,r,n)}return this.flatten().reshape(e)},c.prototype.transpose=function(e){if(0===arguments.length){var t=this.ndim;e=new Array(t);for(var r=0;r<t;r++)e[r]=t-r-1}else arguments.length>1&&(e=arguments);return new c(this.selection.transpose.apply(this.selection,e))},c.prototype.dot=function(e){e=e instanceof c?e:g(e,this.dtype);var t=this.shape,r=e.shape;if(2===t.length&&2===r.length&&t[1]===r[0]){var n=l.getType(this.dtype),i=new c(new n(t[0]*r[1]),[t[0],r[1]]);return a(i.selection,this.selection,e.selection),i}if(1===t.length&&2===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e).reshape(r[1]);if(2===t.length&&1===r.length&&t[1]===r[0])return this.dot(e.reshape([r[0],1])).reshape(t[0]);if(1===t.length&&1===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e.reshape([r[0],1])).reshape([1]);throw new f.ValueError("cannot compute the matrix product of given arrays")},c.prototype.assign=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.assigns(r.selection,e),r):(e=g(e,this.dtype),i.assign(r.selection,e.selection),r)},c.prototype.add=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.addseq(r.selection,e),r):(e=g(e,this.dtype),i.addeq(r.selection,e.selection),r)},c.prototype.subtract=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.subseq(r.selection,e),r):(e=g(e,this.dtype),i.subeq(r.selection,e.selection),r)},c.prototype.multiply=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.mulseq(r.selection,e),r):(e=g(e,this.dtype),i.muleq(r.selection,e.selection),r)},c.prototype.divide=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.divseq(r.selection,e),r):(e=g(e,this.dtype),i.diveq(r.selection,e.selection),r)},c.prototype.pow=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.powseq(r.selection,e),r):(e=g(e,this.dtype),i.poweq(r.selection,e.selection),r)},c.prototype.exp=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.expeq(t.selection),t},c.prototype.log=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.logeq(t.selection),t},c.prototype.sqrt=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.sqrteq(t.selection),t},c.prototype.max=function(){return 0===this.selection.size?null:i.sup(this.selection)},c.prototype.min=function(){return 0===this.selection.size?null:i.inf(this.selection)},c.prototype.sum=function(){return i.sum(this.selection)},c.prototype.std=function(e){e=l.defaults(e,{ddof:0});var t=this.clone();i.powseq(t.selection,2);var r=this.mean(),n=l.shapeSize(this.shape),a=i.sum(t.selection)/(n-e.ddof)-r*r*n/(n-e.ddof);return a>0?Math.sqrt(Math.abs(a)):0},c.prototype.mean=function(){return i.sum(this.selection)/l.shapeSize(this.shape)},c.prototype.mod=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return l.isNumber(e)?(i.modseq(r.selection,e),r):(e=g(e,this.dtype),i.modeq(r.selection,e.selection),r)},c.prototype.tolist=function(){return _(this.selection)},c.prototype.valueOf=function(){return this.tolist()},c.prototype.toString=function(){var e=y(this.max()).length,t=/\[\s+\[/g;var r=JSON.stringify(this.tolist(),(function t(r,n){if(l.isString(n))return n;if(l.isNumber(n)){var i=y(n);return new Array(Math.max(0,e-i.length+2)).join(" ")+i}var a;r=r||0;var o=s.printThreshold,u=o/2|0;return a=n.length>o?[].concat(n.slice(0,u),[" ..."],n.slice(n.length-u)):n,new Array(r+1).join(" ")+"["+a.map((function(e,n){return t(0===n&&0===r?1:r+1,e)})).join(",")+"]"})).replace(/\]\,(\s*)\[/g,"],\n$1      [").replace(t,"[[").replace(t,"[[").replace(/\]\,(\s+)...\,(\s+)\[/g,"],\n$2       ...\n$2      [").slice(2,-1);switch(this.dtype){case"array":return"array(["+r+")";default:return"array(["+r+", dtype="+this.dtype+")"}},c.prototype.inspect=c.prototype.toString,c.prototype.toJSON=function(){return JSON.stringify(this.tolist())},c.prototype.clone=function(){var e=this.selection;return void 0===e.data.slice?new c(n([].slice.apply(e.data),e.shape,e.stride,e.offset)):new c(n(e.data.slice(),e.shape,e.stride,e.offset))},c.prototype.equal=function(e){if(e=g(e),this.size!==e.size||this.ndim!==e.ndim)return!1;for(var t=this.ndim,r=0;r<t;r++)if(this.shape[r]!==e.shape[r])return!1;return i.equals(this.selection,e.selection)},c.prototype.round=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.roundeq(t.selection),t},c.prototype.negative=function(){var e=this.clone();return i.neg(e.selection,this.selection),e},c.prototype.diag=function(){var e=this.ndim;if(1===e){var t=l.getType(this.dtype),r=[this.shape[0],this.shape[0]],n=new c(new t(l.shapeSize(r)),r);"array"===n.dtype&&i.assigns(n.selection,0);for(var a=0;a<this.shape[0];a++)n.set(a,a,this.get(a));return n}var o=this.shape,u=this.selection.stride,s=1<<30,f=0;for(a=0;a<e;++a)s=0|Math.min(s,o[a]),f+=u[a];return new c(this.selection.data,[s],[f],this.selection.offset)},c.prototype.iteraxis=function(e,t){var r=this.shape;if(-1===e&&(e=r.length-1),e<0||e>r.length-1)throw new f.ValueError("invalid axis");for(var n=0;n<r[e];n++){for(var i=new Array(e+1),a=0;a<e+1;a++)i[a]=a===e?n:null;t(g(_(this.selection.pick.apply(this.selection,i)),this.dtype),n)}};var h=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_13_c=_inline_13_arg2_,_inline_13_f=_inline_13_arg3_,_inline_13_i=_inline_13_arg0_,_inline_13_o=_inline_13_arg1_,_inline_13_t=_inline_13_i*(_inline_13_c+_inline_13_f);_inline_13_arg0_=_inline_13_t-_inline_13_f*(_inline_13_i+_inline_13_o),_inline_13_arg1_=_inline_13_t+_inline_13_c*(_inline_13_o-_inline_13_i)}",args:[{name:"_inline_13_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_13_c","_inline_13_f","_inline_13_i","_inline_13_o","_inline_13_t"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),p=e("cwise/lib/wrapper")({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_16_arg0_=_inline_16_arg11_*_inline_16_arg10_+_inline_16_arg12_*_inline_16_arg9_+_inline_16_arg13_*_inline_16_arg8_+_inline_16_arg14_*_inline_16_arg7_+_inline_16_arg1_*_inline_16_arg6_+_inline_16_arg15_*_inline_16_arg5_+_inline_16_arg16_*_inline_16_arg4_+_inline_16_arg17_*_inline_16_arg3_+_inline_16_arg18_*_inline_16_arg2_}",args:[{name:"_inline_16_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_16_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg18_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),d=e("cwise/lib/wrapper")({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_19_arg1_=_inline_19_arg0_[0]<2||_inline_19_arg0_[1]<2?0:_inline_19_arg28_*_inline_19_arg27_+_inline_19_arg29_*_inline_19_arg26_+_inline_19_arg30_*_inline_19_arg25_+_inline_19_arg31_*_inline_19_arg24_+_inline_19_arg32_*_inline_19_arg23_+_inline_19_arg33_*_inline_19_arg22_+_inline_19_arg34_*_inline_19_arg21_+_inline_19_arg35_*_inline_19_arg20_+_inline_19_arg36_*_inline_19_arg19_+_inline_19_arg37_*_inline_19_arg18_+_inline_19_arg38_*_inline_19_arg17_+_inline_19_arg39_*_inline_19_arg16_+_inline_19_arg2_*_inline_19_arg15_+_inline_19_arg40_*_inline_19_arg14_+_inline_19_arg41_*_inline_19_arg13_+_inline_19_arg42_*_inline_19_arg12_+_inline_19_arg43_*_inline_19_arg11_+_inline_19_arg44_*_inline_19_arg10_+_inline_19_arg45_*_inline_19_arg9_+_inline_19_arg46_*_inline_19_arg8_+_inline_19_arg47_*_inline_19_arg7_+_inline_19_arg48_*_inline_19_arg6_+_inline_19_arg49_*_inline_19_arg5_+_inline_19_arg50_*_inline_19_arg4_+_inline_19_arg51_*_inline_19_arg3_}",args:[{name:"_inline_19_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_19_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_19_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg18_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg19_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg20_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg21_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg22_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg23_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg24_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg25_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg26_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg27_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg28_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg29_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg30_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg31_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg32_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg33_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg34_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg35_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg36_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg37_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg38_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg39_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg40_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg41_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg42_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg43_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg44_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg45_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg46_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg47_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg48_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg49_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg50_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg51_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function g(e,t){if(e instanceof c)return e;var r=l.getType(t);if(l.isNumber(e))return new c(r!==Array?new r([e]):[e],[1]);var n=l.getShape(e);return n.length>1&&(e=l.flatten(e,!0)),e instanceof r||(e=new r(e)),new c(e,n)}c.prototype.convolve=function(e){e=c.new(e);var t=this.ndim;if(t!==e.ndim)throw new f.ValueError("arrays must have the same dimensions");for(var r=new Array(t),n=new Array(t),i=this.selection,a=this.shape,o=e.selection,u=e.shape,s=0;s<t;s++){var h=a[s]-u[s]+1;if(h<0)throw new f.ValueError("filter cannot be greater than the array");r[s]=h,n[s]=-1}if(2===t&&3===u[0]&&3===u[1]){var g=new c(new Float32Array(l.shapeSize(a)),a);return p(g.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(1,0),o.get(1,1),o.get(1,2),o.get(2,0),o.get(2,1),o.get(2,2)),g.lo(1,1).hi(r[0],r[1])}if(3===t&&1===u[2]&&1===a[2]&&3===u[0]&&3===u[1]){var v=new c(new Float32Array(l.shapeSize(a)),a);return p(v.selection.pick(null,null,0),i.pick(null,null,0),o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0)),v.lo(1,1).hi(r[0],r[1])}if(2===t&&5===u[0]&&5===u[1]){var _=new c(new Float32Array(l.shapeSize(a)),a);return d(_.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(0,3),o.get(0,4),o.get(1,0),o.get(1,1),o.get(1,2),o.get(1,3),o.get(1,4),o.get(2,0),o.get(2,1),o.get(2,2),o.get(2,3),o.get(2,4),o.get(3,0),o.get(3,1),o.get(3,2),o.get(3,3),o.get(3,4),o.get(4,0),o.get(4,1),o.get(4,2),o.get(4,3),o.get(4,4)),_.lo(2,2).hi(r[0],r[1])}if(3===t&&1===u[2]&&1===a[2]&&5===u[0]&&5===u[1]){var y=new c(new Float32Array(l.shapeSize(a)),a);return d(y.selection,i,o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(0,3,0),o.get(0,4,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(1,3,0),o.get(1,4,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0),o.get(2,3,0),o.get(2,4,0),o.get(3,0,0),o.get(3,1,0),o.get(3,2,0),o.get(3,3,0),o.get(3,4,0),o.get(4,0,0),o.get(4,1,0),o.get(4,2,0),o.get(4,3,0),o.get(4,4,0)),y.lo(2,2).hi(r[0],r[1])}return this.fftconvolve(e)},c.prototype.fftconvolve=function(e){if(e=c.new(e),this.ndim!==e.ndim)throw new f.ValueError("arrays must have the same dimensions");var t,r=this.selection,a=e.selection,s=this.ndim,p=1,d=new Array(s),g=new Array(s),v=new Array(s);for(t=s-1;t>=0;--t)g[t]=r.shape[t],d[t]=p,p*=g[t],v[t]=r.shape[t]-a.shape[t]+1;var _=l.getType(r.dtype),y=new c(new _(l.shapeSize(v)),v),m=y.selection,b=u.mallocDouble(p),w=n(b,g,d,0);i.assigns(w,0),i.assign(w.hi.apply(w,r.shape),r);var x=u.mallocDouble(p),A=n(x,g,d,0);i.assigns(A,0),o(1,w,A);var j=u.mallocDouble(p),E=n(j,g,d,0);i.assigns(E,0),i.assign(E.hi.apply(E,a.shape),a);var k=u.mallocDouble(p),V=n(k,g,d,0);i.assigns(V,0),o(1,E,V),h(w,A,E,V),o(-1,w,A);var T,O=new Array(s),S=new Array(s),I=!1;for(t=0;t<s;++t)m.shape[t]>g[t]&&(I=!0),S[t]=a.shape[t]-1,O[t]=Math.min(m.shape[t],g[t]-S[t]);return I&&i.assign(m,0),T=(T=w.lo.apply(w,S)).hi.apply(T,O),i.assign(m.hi.apply(m,O),T),u.freeDouble(b),u.freeDouble(x),u.freeDouble(j),u.freeDouble(k),y},c.new=g,t.exports=c;var v=e("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_22_a,_inline_22_e=_inline_22_arg1_;for(_inline_22_a=0;_inline_22_a<_inline_22_arg2_.length-1;++_inline_22_a)_inline_22_e=_inline_22_e[_inline_22_arg2_[_inline_22_a]];_inline_22_e[_inline_22_arg2_[_inline_22_arg2_.length-1]]=_inline_22_arg0_}",args:[{name:"_inline_22_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_22_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_22_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_22_a","_inline_22_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});function _(e){var t=function e(t,r){var n=0|t[r=r||0];if(n<=0)return[];var i,a=new Array(n);if(r===t.length-1)for(i=0;i<n;++i)a[i]=0;else for(i=0;i<n;++i)a[i]=e(t,r+1);return a}(e.shape,0);return v(e,t),t}function y(e){return String(Number((e||0).toFixed(s.nFloatingValues)))}},{"./config":27,"./errors":29,"./utils":47,"cwise/lib/wrapper":7,ndarray:26,"ndarray-fft":21,"ndarray-gemm":23,"ndarray-ops":25,"typedarray-pool":54}],47:[function(e,t,r){"use strict";var n=e("./dtypes"),i=e("lodash");function a(e){return"number"==typeof e}function o(e){return"function"==typeof e}t.exports={isNumber:a,isString:function(e){return"string"==typeof e},isFunction:o,flatten:function e(t,r,n){n=n||[];for(var i=-1,o=t.length;++i<o;){var u=t[i];a(u)?n[n.length]=u:r?e(u,r,n):n.push(u)}return n},shapeSize:function(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t},getType:function(e){return o(e)?e:n[e]||Array},getShape:function(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t}(e):[e.length,t.length]:[e.length]:[]},defaults:i.defaults}},{"./dtypes":28,lodash:17}],48:[function(e,t,r){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var r=parseFloat(e,10);return t[0]=r,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],49:[function(e,t,r){(function(e){(function(){"use strict";function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,a=-1,o=0,u=0;u<=e.length;++u){if(u<e.length)r=e.charCodeAt(u);else{if(47===r)break;r=47}if(47===r){if(a===u-1||1===o);else if(a!==u-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",i=0):i=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),a=u,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=u,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),i=u-a-1;a=u,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var i={resolve:function(){for(var t,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var u;o>=0?u=arguments[o]:(void 0===t&&(t=e.cwd()),u=t),r(u),0!==u.length&&(i=u+"/"+i,a=47===u.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,u=1;u<t.length&&47===t.charCodeAt(u);++u);for(var s=t.length-u,f=o<s?o:s,l=-1,c=0;c<=f;++c){if(c===f){if(s>f){if(47===t.charCodeAt(u+c))return t.slice(u+c+1);if(0===c)return t.slice(u+c)}else o>f&&(47===e.charCodeAt(n+c)?l=c:0===c&&(l=0));break}var h=e.charCodeAt(n+c);if(h!==t.charCodeAt(u+c))break;47===h&&(l=c)}var p="";for(c=n+l+1;c<=a;++c)c!==a&&47!==e.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(u+l):(u+=l,47===t.charCodeAt(u)&&++u,t.slice(u))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var u=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){var f=e.charCodeAt(n);if(47===f){if(!o){i=n+1;break}}else-1===s&&(o=!1,s=n+1),u>=0&&(f===t.charCodeAt(u)?-1==--u&&(a=n):(u=-1,a=s))}return i===a?a=s:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,u=e.length-1;u>=0;--u){var s=e.charCodeAt(u);if(47!==s)-1===i&&(a=!1,i=u+1),46===s?-1===t?t=u:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=u+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var o=-1,u=0,s=-1,f=!0,l=e.length-1,c=0;l>=n;--l)if(47!==(i=e.charCodeAt(l)))-1===s&&(f=!1,s=l+1),46===i?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);else if(!f){u=l+1;break}return-1===o||-1===s||0===c||1===c&&o===s-1&&o===u+1?-1!==s&&(t.base=t.name=0===u&&a?e.slice(1,s):e.slice(u,s)):(0===u&&a?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(u,o),t.base=e.slice(u,s)),t.ext=e.slice(o,s)),u>0?t.dir=e.slice(0,u-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this)}).call(this,e("_process"))},{_process:50}],50:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:u}catch(e){i=u}}();var f,l=[],c=!1,h=-1;function p(){c&&f&&(c=!1,f.length?l=f.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=s(p);c=!0;for(var t=l.length;t;){for(f=l,l=[];++h<t;)f&&f[h].run();h=-1,t=l.length}f=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||c||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],51:[function(e,t,r){var n=e("mouse-change"),i=e("mouse-wheel"),a=e("gl-mat4/identity"),o=e("gl-mat4/perspective"),u=e("gl-mat4/lookAt");t.exports=function(e,t){var r=t||{};void 0===r.noScroll&&(r.noScroll=r.preventDefault);var f={view:a(new Float32Array(16)),projection:a(new Float32Array(16)),center:new Float32Array(r.center||3),theta:r.theta||0,phi:r.phi||0,distance:Math.log(r.distance||10),eye:new Float32Array(3),up:new Float32Array(r.up||[0,1,0]),fovy:r.fovy||Math.PI/4,near:void 0!==r.near?r.near:.01,far:void 0!==r.far?r.far:1e3,noScroll:void 0!==r.noScroll&&r.noScroll,flipY:!!r.flipY,dtheta:0,dphi:0,rotationSpeed:void 0!==r.rotationSpeed?r.rotationSpeed:1,zoomSpeed:void 0!==r.zoomSpeed?r.zoomSpeed:1,renderOnDirty:void 0!==typeof r.renderOnDirty&&!!r.renderOnDirty},l=r.element,c=void 0!==r.damping?r.damping:.9,h=new Float32Array([1,0,0]),p=new Float32Array([0,0,1]),d=Math.log("minDistance"in r?r.minDistance:.1),g=Math.log("maxDistance"in r?r.maxDistance:1e3),v=0,_=0,y=0;if(s&&!1!==r.mouse){var m=l||e._gl.canvas;function b(){return l?l.offsetHeight:window.innerHeight}n(m,(function(e,t,r){if(1&e){var n=(t-_)/(l?l.offsetWidth:window.innerWidth),i=(r-y)/b();f.dtheta+=4*f.rotationSpeed*n,f.dphi+=4*f.rotationSpeed*i,f.dirty=!0}_=t,y=r})),i(m,(function(e,t){v+=t/b()*f.zoomSpeed,f.dirty=!0}),r.noScroll)}function w(e){var t=e*c;return Math.abs(t)<.1?0:(f.dirty=!0,t)}function x(e,t,r){return Math.min(Math.max(e,t),r)}f.dirty=!0;var A=e({context:Object.assign({},f,{dirty:function(){return f.dirty},projection:function(e){return o(f.projection,f.fovy,e.viewportWidth/e.viewportHeight,f.near,f.far),f.flipY&&(f.projection[5]*=-1),f.projection}}),uniforms:Object.keys(f).reduce((function(t,r){return t[r]=e.context(r),t}),{})});function j(e,t){void 0!==j.dirty&&(f.dirty=j.dirty||f.dirty,j.dirty=void 0),e&&t&&(f.dirty=!0),f.renderOnDirty&&!f.dirty||(t||(t=e,e={}),function(e){Object.keys(e).forEach((function(t){f[t]=e[t]}));var t=f.center,r=f.eye,n=f.up,i=f.dtheta,a=f.dphi;f.theta+=i,f.phi=x(f.phi+a,-Math.PI/2,Math.PI/2),f.distance=x(f.distance+v,d,g),f.dtheta=w(i),f.dphi=w(a),v=w(v);for(var o=f.theta,s=f.phi,l=Math.exp(f.distance),c=l*Math.sin(o)*Math.cos(s),_=l*Math.cos(o)*Math.cos(s),y=l*Math.sin(s),m=0;m<3;++m)r[m]=t[m]+c*p[m]+_*h[m]+y*n[m];u(f.view,r,t,n)}(e),A(t),f.dirty=!1)}return Object.keys(f).forEach((function(e){j[e]=f[e]})),j};var s="undefined"!=typeof window},{"gl-mat4/identity":9,"gl-mat4/lookAt":10,"gl-mat4/perspective":11,"mouse-change":18,"mouse-wheel":20}],52:[function(e,t,r){!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.createREGL=n()}(this,(function(){function e(e,t){this.id=R++,this.type=e,this.data=t}function t(e){return"["+function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(1<t.length&&r===n&&('"'===r||"'"===r))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,r.index)).concat(e(r[1])).concat(e(t.substr(r.index+r[0].length)));if(1===(r=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],n=0;n<r.length;++n)t=t.concat(e(r[n]));return t}(e).join("][")+"]"}function r(e){return"string"==typeof e?e.split():e}function n(e){return"string"==typeof e?document.querySelector(e):e}function i(e){var t,i,a,o,u=e||{};e={};var s=[],f=[],l="undefined"==typeof window?1:window.devicePixelRatio,c=!1,h=function(e){},p=function(){};if("string"==typeof u?t=document.querySelector(u):"object"==typeof u&&("string"==typeof u.nodeName&&"function"==typeof u.appendChild&&"function"==typeof u.getBoundingClientRect?t=u:"function"==typeof u.drawArrays||"function"==typeof u.drawElements?a=(o=u).canvas:("gl"in u?o=u.gl:"canvas"in u?a=n(u.canvas):"container"in u&&(i=n(u.container)),"attributes"in u&&(e=u.attributes),"extensions"in u&&(s=r(u.extensions)),"optionalExtensions"in u&&(f=r(u.optionalExtensions)),"onDone"in u&&(h=u.onDone),"profile"in u&&(c=!!u.profile),"pixelRatio"in u&&(l=+u.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?a=t:i=t),!o){if(!a){if(!(t=function(e,t,r){function n(){var t=window.innerWidth,n=window.innerHeight;e!==document.body&&(t=(n=a.getBoundingClientRect()).right-n.left,n=n.bottom-n.top),a.width=r*t,a.height=r*n}var i,a=document.createElement("canvas");return U(a.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(a),e===document.body&&(a.style.position="absolute",U(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(n)}))).observe(e):window.addEventListener("resize",n,!1),n(),{canvas:a,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",n),e.removeChild(a)}}}(i||document.body,0,l)))return null;a=t.canvas,p=t.onDestroy}void 0===e.premultipliedAlpha&&(e.premultipliedAlpha=!0),o=function(e,t){function r(r){try{return e.getContext(r,t)}catch(e){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(a,e)}return o?{gl:o,canvas:a,container:i,extensions:s,optionalExtensions:f,pixelRatio:l,profile:c,onDone:h,onDestroy:p}:(p(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function a(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}function o(e){var t,r;return t=(65535<e)<<4,t|=r=(255<(e>>>=t))<<3,(t|=r=(15<(e>>>=r))<<2)|(r=(3<(e>>>=r))<<1)|e>>>r>>1}function u(){function e(e){e:{for(var t=16;268435456>=t;t*=16)if(e<=t){e=t;break e}e=0}return 0<(t=r[o(e)>>2]).length?t.pop():new ArrayBuffer(e)}function t(e){r[o(e.byteLength)>>2].push(e)}var r=a(8,(function(){return[]}));return{alloc:e,free:t,allocType:function(t,r){var n=null;switch(t){case 5120:n=new Int8Array(e(r),0,r);break;case 5121:n=new Uint8Array(e(r),0,r);break;case 5122:n=new Int16Array(e(2*r),0,r);break;case 5123:n=new Uint16Array(e(2*r),0,r);break;case 5124:n=new Int32Array(e(4*r),0,r);break;case 5125:n=new Uint32Array(e(4*r),0,r);break;case 5126:n=new Float32Array(e(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(e){t(e.buffer)}}}function s(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||Y(e.data))}function f(e,t,r,n,i,a){for(var o=0;o<t;++o)for(var u=e[o],s=0;s<r;++s)for(var f=u[s],l=0;l<n;++l)i[a++]=f[l]}function l(e){return 0|K[Object.prototype.toString.call(e)]}function c(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function h(e,t,r,n,i,a,o){for(var u=0,s=0;s<r;++s)for(var f=0;f<n;++f)e[u++]=t[i*s+a*f+o]}function p(e,t,r,n){function i(t){this.id=f++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}function a(t,r,n){t.byteLength=r.byteLength,e.bufferData(t.type,r,n)}function o(e,t,r,n,i,o){if(e.usage=r,Array.isArray(t)){if(e.dtype=n||5126,0<t.length)if(Array.isArray(t[0])){i=ee(t);for(var u=n=1;u<i.length;++u)n*=i[u];e.dimension=n,a(e,t=J(t,i,e.dtype),r),o?e.persistentData=t:H.freeType(t)}else"number"==typeof t[0]?(e.dimension=i,c(i=H.allocType(e.dtype,t.length),t),a(e,i,r),o?e.persistentData=i:H.freeType(i)):Y(t[0])&&(e.dimension=t[0].length,e.dtype=n||l(t[0])||5126,a(e,t=J(t,[t.length,t[0].length],e.dtype),r),o?e.persistentData=t:H.freeType(t))}else if(Y(t))e.dtype=n||l(t),e.dimension=i,a(e,t,r),o&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(s(t)){i=t.shape;var f=t.stride,p=(u=t.offset,0),d=0,g=0,v=0;1===i.length?(p=i[0],d=1,g=f[0],v=0):2===i.length&&(p=i[0],d=i[1],g=f[0],v=f[1]),e.dtype=n||l(t.data)||5126,e.dimension=d,h(i=H.allocType(e.dtype,p*d),t.data,p,d,g,v,u),a(e,i,r),o?e.persistentData=i:H.freeType(i)}else t instanceof ArrayBuffer&&(e.dtype=5121,e.dimension=i,a(e,t,r),o&&(e.persistentData=new Uint8Array(new Uint8Array(t))))}function u(r){t.bufferCount--,n(r),e.deleteBuffer(r.buffer),r.buffer=null,delete p[r.id]}var f=0,p={};i.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){u(this)};var d=[];return r.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(p).forEach((function(t){e+=p[t].stats.size})),e}),{create:function(n,a,f,d){function g(t){var n=35044,i=null,a=0,u=0,f=1;return Array.isArray(t)||Y(t)||s(t)||t instanceof ArrayBuffer?i=t:"number"==typeof t?a=0|t:t&&("data"in t&&(i=t.data),"usage"in t&&(n=X[t.usage]),"type"in t&&(u=Z[t.type]),"dimension"in t&&(f=0|t.dimension),"length"in t&&(a=0|t.length)),v.bind(),i?o(v,i,n,u,f,d):(a&&e.bufferData(v.type,a,n),v.dtype=u||5121,v.usage=n,v.dimension=f,v.byteLength=a),r.profile&&(v.stats.size=v.byteLength*te[v.dtype]),g}t.bufferCount++;var v=new i(a);return p[v.id]=v,f||g(n),g._reglType="buffer",g._buffer=v,g.subdata=function(t,r){var n,i=0|(r||0);if(v.bind(),Y(t)||t instanceof ArrayBuffer)e.bufferSubData(v.type,i,t);else if(Array.isArray(t)){if(0<t.length)if("number"==typeof t[0]){var a=H.allocType(v.dtype,t.length);c(a,t),e.bufferSubData(v.type,i,a),H.freeType(a)}else(Array.isArray(t[0])||Y(t[0]))&&(n=ee(t),a=J(t,n,v.dtype),e.bufferSubData(v.type,i,a),H.freeType(a))}else if(s(t)){n=t.shape;var o=t.stride,u=a=0,f=0,p=0;1===n.length?(a=n[0],u=1,f=o[0],p=0):2===n.length&&(a=n[0],u=n[1],f=o[0],p=o[1]),n=Array.isArray(t.data)?v.dtype:l(t.data),h(n=H.allocType(n,a*u),t.data,a,u,f,p,t.offset),e.bufferSubData(v.type,i,n),H.freeType(n)}return g},r.profile&&(g.stats=v.stats),g.destroy=function(){u(v)},g},createStream:function(e,t){var r=d.pop();return r||(r=new i(e)),r.bind(),o(r,t,35040,0,1,!1),r},destroyStream:function(e){d.push(e)},clear:function(){$(p).forEach(u),d.forEach(u)},getBuffer:function(e){return e&&e._buffer instanceof i?e._buffer:null},restore:function(){$(p).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:o}}function d(e,t,r,n){function i(e){this.id=f++,u[this.id]=this,this.buffer=e,this.primType=4,this.type=this.vertCount=0}function a(n,i,a,o,u,f,l){var c;if(n.buffer.bind(),i?((c=l)||Y(i)&&(!s(i)||Y(i.data))||(c=t.oes_element_index_uint?5125:5123),r._initBuffer(n.buffer,i,a,c,3)):(e.bufferData(34963,f,a),n.buffer.dtype=c||5121,n.buffer.usage=a,n.buffer.dimension=3,n.buffer.byteLength=f),c=l,!l){switch(n.buffer.dtype){case 5121:case 5120:c=5121;break;case 5123:case 5122:c=5123;break;case 5125:case 5124:c=5125}n.buffer.dtype=c}n.type=c,0>(i=u)&&(i=n.buffer.byteLength,5123===c?i>>=1:5125===c&&(i>>=2)),n.vertCount=i,i=o,0>o&&(i=4,1===(o=n.buffer.dimension)&&(i=0),2===o&&(i=1),3===o&&(i=4)),n.primType=i}function o(e){n.elementsCount--,delete u[e.id],e.buffer.destroy(),e.buffer=null}var u={},f=0,l={uint8:5121,uint16:5123};t.oes_element_index_uint&&(l.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var c=[];return{create:function(e,t){function u(e){if(e)if("number"==typeof e)f(e),c.primType=4,c.vertCount=0|e,c.type=5121;else{var t=null,r=35044,n=-1,i=-1,o=0,h=0;Array.isArray(e)||Y(e)||s(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(r=X[e.usage]),"primitive"in e&&(n=re[e.primitive]),"count"in e&&(i=0|e.count),"type"in e&&(h=l[e.type]),"length"in e?o=0|e.length:(o=i,5123===h||5122===h?o*=2:5125!==h&&5124!==h||(o*=4))),a(c,t,r,n,i,o,h)}else f(),c.primType=4,c.vertCount=0,c.type=5121;return u}var f=r.create(null,34963,!0),c=new i(f._buffer);return n.elementsCount++,u(e),u._reglType="elements",u._elements=c,u.subdata=function(e,t){return f.subdata(e,t),u},u.destroy=function(){o(c)},u},createStream:function(e){var t=c.pop();return t||(t=new i(r.create(null,34963,!0,!1)._buffer)),a(t,e,35040,-1,-1,0,0),t},destroyStream:function(e){c.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof i?e._elements:null},clear:function(){$(u).forEach(o)}}}function g(e){for(var t=H.allocType(5123,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(1/0===e[r])t[r]=31744;else if(-1/0===e[r])t[r]=64512;else{ne[0]=e[r];var n=(a=ie[0])>>>31<<15,i=(a<<1>>>24)-127,a=a>>13&1023;t[r]=-24>i?n:-14>i?n+(a+1024>>-14-i):15<i?n+31744:n+(i+15<<10)+a}return t}function v(e){return Array.isArray(e)||Y(e)}function _(e){return"[object "+e+"]"}function y(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function m(e){return!(!Array.isArray(e)||0===e.length||!v(e[0]))}function b(e){return Object.prototype.toString.call(e)}function w(e){if(!e)return!1;var t=b(e);return 0<=de.indexOf(t)||(y(e)||m(e)||s(e))}function x(e,t){36193===e.type?(e.data=g(t),H.freeType(t)):e.data=t}function A(e,t,r,n,i,a){if(e=void 0!==ve[e]?ve[e]:ue[e]*ge[t],a&&(e*=6),i){for(n=0;1<=r;)n+=e*r*r,r/=2;return n}return e*r*n}function j(e,t,r,n,i,a,o){function u(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function f(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function l(e,t){if("object"==typeof t&&t){"premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=q[t.colorSpace]),"type"in t&&(e.type=W[t.type]);var r=e.width,n=e.height,i=e.channels,a=!1;"shape"in t?(r=t.shape[0],n=t.shape[1],3===t.shape.length&&(i=t.shape[2],a=!0)):("radius"in t&&(r=n=t.radius),"width"in t&&(r=t.width),"height"in t&&(n=t.height),"channels"in t&&(i=t.channels,a=!0)),e.width=0|r,e.height=0|n,e.channels=0|i,r=!1,"format"in t&&(r=t.format,n=e.internalformat=G[r],e.format=de[n],r in W&&!("type"in t)&&(e.type=W[r]),r in Z&&(e.compressed=!0),r=!0),!a&&r?e.channels=ue[e.format]:a&&!r&&e.channels!==oe[e.format]&&(e.format=e.internalformat=oe[e.channels])}}function c(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function h(){u.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function p(e,t){var r=null;if(w(t)?r=t:t&&(l(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),w(t.data)&&(r=t.data)),t.copy){var n=i.viewportWidth,a=i.viewportHeight;e.width=e.width||n-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0}else if(r){if(Y(r))e.channels=e.channels||4,e.data=r,"type"in t||5121!==e.type||(e.type=0|K[Object.prototype.toString.call(r)]);else if(y(r)){switch(e.channels=e.channels||4,a=(n=r).length,e.type){case 5121:case 5123:case 5125:case 5126:(a=H.allocType(e.type,a)).set(n),e.data=a;break;case 36193:e.data=g(n)}e.alignment=1,e.needsFree=!0}else if(s(r)){n=r.data,Array.isArray(n)||5121!==e.type||(e.type=0|K[Object.prototype.toString.call(n)]);a=r.shape;var o,u,f,c,h=r.stride;3===a.length?(f=a[2],c=h[2]):c=f=1,o=a[0],u=a[1],a=h[0],h=h[1],e.alignment=1,e.width=o,e.height=u,e.channels=f,e.format=e.internalformat=oe[f],e.needsFree=!0,o=c,r=r.offset,f=e.width,c=e.height,u=e.channels;for(var p=H.allocType(36193===e.type?5126:e.type,f*c*u),d=0,_=0;_<c;++_)for(var A=0;A<f;++A)for(var j=0;j<u;++j)p[d++]=n[a*A+h*_+o*j+r];x(e,p)}else if(b(r)===se||b(r)===fe||b(r)===le)b(r)===se||b(r)===fe?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(b(r)===ce)e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(b(r)===he)e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(b(r)===pe)e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(m(r)){for(n=e.width||r[0].length,a=e.height||r.length,h=e.channels,h=v(r[0][0])?h||r[0][0].length:h||1,o=Q.shape(r),f=1,c=0;c<o.length;++c)f*=o[c];f=H.allocType(36193===e.type?5126:e.type,f),Q.flatten(r,o,"",f),x(e,f),e.alignment=1,e.width=n,e.height=a,e.channels=h,e.format=e.internalformat=oe[h],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4}function d(t,r,i,a,o){var u=t.element,s=t.data,f=t.internalformat,l=t.format,h=t.type,p=t.width,d=t.height;c(t),u?e.texSubImage2D(r,o,i,a,l,h,u):t.compressed?e.compressedTexSubImage2D(r,o,i,a,f,p,d,s):t.needsCopy?(n(),e.copyTexSubImage2D(r,o,i,a,t.xOffset,t.yOffset,p,d)):e.texSubImage2D(r,o,i,a,p,d,l,h,s)}function _(){return ge.pop()||new h}function j(e){e.needsFree&&H.freeType(e.data),h.call(e),ge.push(e)}function E(){u.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function k(e,t,r){var n=e.images[0]=_();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function V(e,t){var r=null;if(w(t))f(r=e.images[0]=_(),e),p(r,t),e.mipmask=1;else if(l(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,i=0;i<n.length;++i)f(r=e.images[i]=_(),e),r.width>>=i,r.height>>=i,p(r,n[i]),e.mipmask|=1<<i;else f(r=e.images[0]=_(),e),p(r,t),e.mipmask=1;f(e,e.images[0])}function T(t,r){for(var i=t.images,a=0;a<i.length&&i[a];++a){var o=i[a],u=r,s=a,f=o.element,l=o.data,h=o.internalformat,p=o.format,d=o.type,g=o.width,v=o.height;c(o),f?e.texImage2D(u,s,p,p,d,f):o.compressed?e.compressedTexImage2D(u,s,h,g,v,0,l):o.needsCopy?(n(),e.copyTexImage2D(u,s,p,o.xOffset,o.yOffset,g,v,0)):e.texImage2D(u,s,p,g,v,0,p,d,l||null)}}function O(){var e=ve.pop()||new E;u.call(e);for(var t=e.mipmask=0;16>t;++t)e.images[t]=null;return e}function S(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&j(t[r]),t[r]=null;ve.push(e)}function I(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function C(e,t){"min"in t&&(e.minFilter=P[t.min],0<=ae.indexOf(e.minFilter)&&!("faces"in t)&&(e.genMipmaps=!0)),"mag"in t&&(e.magFilter=R[t.mag]);var r=e.wrapS,n=e.wrapT;if("wrap"in t){var i=t.wrap;"string"==typeof i?r=n=F[i]:Array.isArray(i)&&(r=F[i[0]],n=F[i[1]])}else"wrapS"in t&&(r=F[t.wrapS]),"wrapT"in t&&(n=F[t.wrapT]);if(e.wrapS=r,e.wrapT=n,"anisotropic"in t&&(e.anisotropic=t.anisotropic),"mipmap"in t){switch(r=!1,typeof t.mipmap){case"string":e.mipmapHint=N[t.mipmap],r=e.genMipmaps=!0;break;case"boolean":r=e.genMipmaps=t.mipmap;break;case"object":e.genMipmaps=!1,r=!0}!r||"min"in t||(e.minFilter=9984)}}function B(r,n){e.texParameteri(n,10241,r.minFilter),e.texParameteri(n,10240,r.magFilter),e.texParameteri(n,10242,r.wrapS),e.texParameteri(n,10243,r.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(n,34046,r.anisotropic),r.genMipmaps&&(e.hint(33170,r.mipmapHint),e.generateMipmap(n))}function D(t){u.call(this),this.mipmask=0,this.internalformat=6408,this.id=_e++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new I,o.profile&&(this.stats={size:0})}function z(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function M(){var t=be[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function L(t){var r=t.texture,n=t.unit,i=t.target;0<=n&&(e.activeTexture(33984+n),e.bindTexture(i,null),be[n]=null),e.deleteTexture(r),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete ye[t.id],a.textureCount--}var N={"don't care":4352,"dont care":4352,nice:4354,fast:4353},F={repeat:10497,clamp:33071,mirror:33648},R={nearest:9728,linear:9729},P=U({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},R),q={none:0,browser:37444},W={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},G={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Z={};t.ext_srgb&&(G.srgb=35904,G.srgba=35906),t.oes_texture_float&&(W.float32=W.float=5126),t.oes_texture_half_float&&(W.float16=W["half float"]=36193),t.webgl_depth_texture&&(U(G,{depth:6402,"depth stencil":34041}),U(W,{uint16:5123,uint32:5125,"depth stencil":34042})),t.webgl_compressed_texture_s3tc&&U(Z,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),t.webgl_compressed_texture_atc&&U(Z,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),t.webgl_compressed_texture_pvrtc&&U(Z,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),t.webgl_compressed_texture_etc1&&(Z["rgb etc1"]=36196);var X=Array.prototype.slice.call(e.getParameter(34467));Object.keys(Z).forEach((function(e){var t=Z[e];0<=X.indexOf(t)&&(G[e]=t)}));var J=Object.keys(G);r.textureFormats=J;var ee=[];Object.keys(G).forEach((function(e){ee[G[e]]=e}));var te=[];Object.keys(W).forEach((function(e){te[W[e]]=e}));var re=[];Object.keys(R).forEach((function(e){re[R[e]]=e}));var ne=[];Object.keys(P).forEach((function(e){ne[P[e]]=e}));var ie=[];Object.keys(F).forEach((function(e){ie[F[e]]=e}));var de=J.reduce((function(e,r){var n=G[r];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||t.ext_srgb&&(35904===n||35906===n)?e[n]=n:32855===n||0<=r.indexOf("rgba")?e[n]=6408:e[n]=6407,e}),{}),ge=[],ve=[],_e=0,ye={},me=r.maxTextureUnits,be=Array(me).map((function(){return null}));return U(D.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(0>t){for(var r=0;r<me;++r){var n=be[r];if(n){if(0<n.bindCount)continue;n.unit=-1}be[r]=this,t=r;break}o.profile&&a.maxTextureUnits<t+1&&(a.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&L(this)}}),o.profile&&(a.getTotalTextureSize=function(){var e=0;return Object.keys(ye).forEach((function(t){e+=ye[t].stats.size})),e}),{create2D:function(t,r){function n(e,t){var r=i.texInfo;I.call(r);var a=O();return"number"==typeof e?k(a,0|e,"number"==typeof t?0|t:0|e):e?(C(r,e),V(a,e)):k(a,1,1),r.genMipmaps&&(a.mipmask=(a.width<<1)-1),i.mipmask=a.mipmask,f(i,a),i.internalformat=a.internalformat,n.width=a.width,n.height=a.height,z(i),T(a,3553),B(r,3553),M(),S(a),o.profile&&(i.stats.size=A(i.internalformat,i.type,a.width,a.height,r.genMipmaps,!1)),n.format=ee[i.internalformat],n.type=te[i.type],n.mag=re[r.magFilter],n.min=ne[r.minFilter],n.wrapS=ie[r.wrapS],n.wrapT=ie[r.wrapT],n}var i=new D(3553);return ye[i.id]=i,a.textureCount++,n(t,r),n.subimage=function(e,t,r,a){t|=0,r|=0,a|=0;var o=_();return f(o,i),o.width=0,o.height=0,p(o,e),o.width=o.width||(i.width>>a)-t,o.height=o.height||(i.height>>a)-r,z(i),d(o,3553,t,r,a),M(),j(o),n},n.resize=function(t,r){var a=0|t,u=0|r||a;if(a===i.width&&u===i.height)return n;n.width=i.width=a,n.height=i.height=u,z(i);for(var s=0;i.mipmask>>s;++s){var f=a>>s,l=u>>s;if(!f||!l)break;e.texImage2D(3553,s,i.format,f,l,0,i.format,i.type,null)}return M(),o.profile&&(i.stats.size=A(i.internalformat,i.type,a,u,!1,!1)),n},n._reglType="texture2d",n._texture=i,o.profile&&(n.stats=i.stats),n.destroy=function(){i.decRef()},n},createCube:function(t,r,n,i,u,s){function c(e,t,r,n,i,a){var u,s=h.texInfo;for(I.call(s),u=0;6>u;++u)g[u]=O();if("number"!=typeof e&&e){if("object"==typeof e)if(t)V(g[0],e),V(g[1],t),V(g[2],r),V(g[3],n),V(g[4],i),V(g[5],a);else if(C(s,e),l(h,e),"faces"in e)for(e=e.faces,u=0;6>u;++u)f(g[u],h),V(g[u],e[u]);else for(u=0;6>u;++u)V(g[u],e)}else for(e=0|e||1,u=0;6>u;++u)k(g[u],e,e);for(f(h,g[0]),h.mipmask=s.genMipmaps?(g[0].width<<1)-1:g[0].mipmask,h.internalformat=g[0].internalformat,c.width=g[0].width,c.height=g[0].height,z(h),u=0;6>u;++u)T(g[u],34069+u);for(B(s,34067),M(),o.profile&&(h.stats.size=A(h.internalformat,h.type,c.width,c.height,s.genMipmaps,!0)),c.format=ee[h.internalformat],c.type=te[h.type],c.mag=re[s.magFilter],c.min=ne[s.minFilter],c.wrapS=ie[s.wrapS],c.wrapT=ie[s.wrapT],u=0;6>u;++u)S(g[u]);return c}var h=new D(34067);ye[h.id]=h,a.cubeCount++;var g=Array(6);return c(t,r,n,i,u,s),c.subimage=function(e,t,r,n,i){r|=0,n|=0,i|=0;var a=_();return f(a,h),a.width=0,a.height=0,p(a,t),a.width=a.width||(h.width>>i)-r,a.height=a.height||(h.height>>i)-n,z(h),d(a,34069+e,r,n,i),M(),j(a),c},c.resize=function(t){if((t|=0)!==h.width){c.width=h.width=t,c.height=h.height=t,z(h);for(var r=0;6>r;++r)for(var n=0;h.mipmask>>n;++n)e.texImage2D(34069+r,n,h.format,t>>n,t>>n,0,h.format,h.type,null);return M(),o.profile&&(h.stats.size=A(h.internalformat,h.type,c.width,c.height,!1,!0)),c}},c._reglType="textureCube",c._texture=h,o.profile&&(c.stats=h.stats),c.destroy=function(){h.decRef()},c},clear:function(){for(var t=0;t<me;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),be[t]=null;$(ye).forEach(L),a.cubeCount=0,a.textureCount=0},getTexture:function(e){return null},restore:function(){for(var t=0;t<me;++t){var r=be[t];r&&(r.bindCount=0,r.unit=-1,be[t]=null)}$(ye).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var r=0;32>r;++r)if(0!=(t.mipmask&1<<r))if(3553===t.target)e.texImage2D(3553,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);else for(var n=0;6>n;++n)e.texImage2D(34069+n,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);B(t.texInfo,t.target)}))},refresh:function(){for(var t=0;t<me;++t){var r=be[t];r&&(r.bindCount=0,r.unit=-1,be[t]=null),e.activeTexture(33984+t),e.bindTexture(3553,null),e.bindTexture(34067,null)}}}}function E(e,t,r,n,i,a){function o(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=e=0;t?(e=t.width,n=t.height):r&&(e=r.width,n=r.height),this.width=e,this.height=n}function u(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function s(e,t,r){e&&(e.texture?e.texture._texture.refCount+=1:e.renderbuffer._renderbuffer.refCount+=1)}function f(t,r){r&&(r.texture?e.framebufferTexture2D(36160,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,r.renderbuffer._renderbuffer.renderbuffer))}function l(e){var t=3553,r=null,n=null,i=e;return"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),"texture2d"===(e=i._reglType)||"textureCube"===e?r=i:"renderbuffer"===e&&(n=i,t=36161),new o(t,r,n)}function c(e,t,r,a,u){return r?((e=n.create2D({width:e,height:t,format:a,type:u}))._texture.refCount=0,new o(3553,e,null)):((e=i.create({width:e,height:t,format:a}))._renderbuffer.refCount=0,new o(36161,null,e))}function h(e){return e&&(e.texture||e.renderbuffer)}function p(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}function d(){this.id=A++,j[this.id]=this,this.framebuffer=e.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function g(e){e.colorAttachments.forEach(u),u(e.depthAttachment),u(e.stencilAttachment),u(e.depthStencilAttachment)}function v(t){e.deleteFramebuffer(t.framebuffer),t.framebuffer=null,a.framebufferCount--,delete j[t.id]}function _(t){var n;e.bindFramebuffer(36160,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)f(36064+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(36160,36064+n,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),f(36096,t.depthAttachment),f(36128,t.stencilAttachment),f(33306,t.depthStencilAttachment),e.checkFramebufferStatus(36160),e.isContextLost(),e.bindFramebuffer(36160,m.next?m.next.framebuffer:null),m.cur=m.next,e.getError()}function y(e,t){function r(e,t){var i,a=0,o=0,u=!0,f=!0;i=null;var p=!0,d="rgba",v="uint8",y=1,m=null,x=null,A=null,j=!1;"number"==typeof e?(a=0|e,o=0|t||a):e?("shape"in e?(a=(o=e.shape)[0],o=o[1]):("radius"in e&&(a=o=e.radius),"width"in e&&(a=e.width),"height"in e&&(o=e.height)),("color"in e||"colors"in e)&&(i=e.color||e.colors,Array.isArray(i)),i||("colorCount"in e&&(y=0|e.colorCount),"colorTexture"in e&&(p=!!e.colorTexture,d="rgba4"),"colorType"in e&&(v=e.colorType,!p)&&("half float"===v||"float16"===v?d="rgba16f":"float"!==v&&"float32"!==v||(d="rgba32f")),"colorFormat"in e&&(d=e.colorFormat,0<=b.indexOf(d)?p=!0:0<=w.indexOf(d)&&(p=!1))),("depthTexture"in e||"depthStencilTexture"in e)&&(j=!(!e.depthTexture&&!e.depthStencilTexture)),"depth"in e&&("boolean"==typeof e.depth?u=e.depth:(m=e.depth,f=!1)),"stencil"in e&&("boolean"==typeof e.stencil?f=e.stencil:(x=e.stencil,u=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?u=f=e.depthStencil:(A=e.depthStencil,f=u=!1))):a=o=1;var E=null,k=null,V=null,T=null;if(Array.isArray(i))E=i.map(l);else if(i)E=[l(i)];else for(E=Array(y),i=0;i<y;++i)E[i]=c(a,o,p,d,v);for(a=a||E[0].width,o=o||E[0].height,m?k=l(m):u&&!f&&(k=c(a,o,j,"depth","uint32")),x?V=l(x):f&&!u&&(V=c(a,o,!1,"stencil","uint8")),A?T=l(A):!m&&!x&&f&&u&&(T=c(a,o,j,"depth stencil","depth stencil")),u=null,i=0;i<E.length;++i)s(E[i]),E[i]&&E[i].texture&&(f=me[E[i].texture._texture.format]*be[E[i].texture._texture.type],null===u&&(u=f));return s(k),s(V),s(T),g(n),n.width=a,n.height=o,n.colorAttachments=E,n.depthAttachment=k,n.stencilAttachment=V,n.depthStencilAttachment=T,r.color=E.map(h),r.depth=h(k),r.stencil=h(V),r.depthStencil=h(T),r.width=n.width,r.height=n.height,_(n),r}var n=new d;return a.framebufferCount++,r(e,t),U(r,{resize:function(e,t){var i=Math.max(0|e,1),a=Math.max(0|t||i,1);if(i===n.width&&a===n.height)return r;for(var o=n.colorAttachments,u=0;u<o.length;++u)p(o[u],i,a);return p(n.depthAttachment,i,a),p(n.stencilAttachment,i,a),p(n.depthStencilAttachment,i,a),n.width=r.width=i,n.height=r.height=a,_(n),r},_reglType:"framebuffer",_framebuffer:n,destroy:function(){v(n),g(n)},use:function(e){m.setFBO({framebuffer:r},e)}})}var m={cur:null,next:null,dirty:!1,setFBO:null},b=["rgba"],w=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&w.push("srgba"),t.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&w.push("rgba32f");var x=["uint8"];t.oes_texture_half_float&&x.push("half float","float16"),t.oes_texture_float&&x.push("float","float32");var A=0,j={};return U(m,{getFramebuffer:function(e){return"function"==typeof e&&"framebuffer"===e._reglType&&(e=e._framebuffer)instanceof d?e:null},create:y,createCube:function(e){function t(e){var i,a={color:null},o=0,u=null;i="rgba";var s="uint8",f=1;if("number"==typeof e?o=0|e:e?("shape"in e?o=e.shape[0]:("radius"in e&&(o=0|e.radius),"width"in e?o=0|e.width:"height"in e&&(o=0|e.height)),("color"in e||"colors"in e)&&(u=e.color||e.colors,Array.isArray(u)),u||("colorCount"in e&&(f=0|e.colorCount),"colorType"in e&&(s=e.colorType),"colorFormat"in e&&(i=e.colorFormat)),"depth"in e&&(a.depth=e.depth),"stencil"in e&&(a.stencil=e.stencil),"depthStencil"in e&&(a.depthStencil=e.depthStencil)):o=1,u)if(Array.isArray(u))for(e=[],i=0;i<u.length;++i)e[i]=u[i];else e=[u];else for(e=Array(f),u={radius:o,format:i,type:s},i=0;i<f;++i)e[i]=n.createCube(u);for(a.color=Array(e.length),i=0;i<e.length;++i)f=e[i],o=o||f.width,a.color[i]={target:34069,data:e[i]};for(i=0;6>i;++i){for(f=0;f<e.length;++f)a.color[f].target=34069+i;0<i&&(a.depth=r[0].depth,a.stencil=r[0].stencil,a.depthStencil=r[0].depthStencil),r[i]?r[i](a):r[i]=y(a)}return U(t,{width:o,height:o,color:e})}var r=Array(6);return t(e),U(t,{faces:r,resize:function(e){var n=0|e;if(n===t.width)return t;var i=t.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;6>e;++e)r[e].resize(n);return t.width=t.height=n,t},_reglType:"framebufferCube",destroy:function(){r.forEach((function(e){e.destroy()}))}})},clear:function(){$(j).forEach(v)},restore:function(){m.cur=null,m.next=null,m.dirty=!0,$(j).forEach((function(t){t.framebuffer=e.createFramebuffer(),_(t)}))}})}function k(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function V(e,t,r,n,i,a,o){function u(){this.id=++c,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var e=t.oes_vertex_array_object;this.vao=e?e.createVertexArrayOES():null,h[this.id]=this,this.buffers=[]}var f=r.maxAttributes,l=Array(f);for(r=0;r<f;++r)l[r]=new k;var c=0,h={},p={Record:k,scope:{},state:l,currentVAO:null,targetVAO:null,restore:t.oes_vertex_array_object?function(){t.oes_vertex_array_object&&$(h).forEach((function(e){e.refresh()}))}:function(){},createVAO:function(e){function t(e){var n;Array.isArray(e)?(n=e,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4):(e.elements?(n=e.elements,r.ownsElements?("function"==typeof n&&"elements"===n._reglType?r.elements.destroy():r.elements(n),r.ownsElements=!1):a.getElements(e.elements)?(r.elements=e.elements,r.ownsElements=!1):(r.elements=a.create(e.elements),r.ownsElements=!0)):(r.elements=null,r.ownsElements=!1),n=e.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in e&&(r.offset=0|e.offset),"count"in e&&(r.count=0|e.count),"instances"in e&&(r.instances=0|e.instances),"primitive"in e&&(r.primitive=re[e.primitive])),e={};var o=r.attributes;o.length=n.length;for(var u=0;u<n.length;++u){var f,l=n[u],c=o[u]=new k,h=l.data||l;if(Array.isArray(h)||Y(h)||s(h))r.buffers[u]&&(f=r.buffers[u],Y(h)&&f._buffer.byteLength>=h.byteLength?f.subdata(h):(f.destroy(),r.buffers[u]=null)),r.buffers[u]||(f=r.buffers[u]=i.create(l,34962,!1,!0)),c.buffer=i.getBuffer(f),c.size=0|c.buffer.dimension,c.normalized=!1,c.type=c.buffer.dtype,c.offset=0,c.stride=0,c.divisor=0,c.state=1,e[u]=1;else i.getBuffer(l)?(c.buffer=i.getBuffer(l),c.size=0|c.buffer.dimension,c.normalized=!1,c.type=c.buffer.dtype,c.offset=0,c.stride=0,c.divisor=0,c.state=1):i.getBuffer(l.buffer)?(c.buffer=i.getBuffer(l.buffer),c.size=0|(+l.size||c.buffer.dimension),c.normalized=!!l.normalized||!1,c.type="type"in l?Z[l.type]:c.buffer.dtype,c.offset=0|(l.offset||0),c.stride=0|(l.stride||0),c.divisor=0|(l.divisor||0),c.state=1):"x"in l&&(c.x=+l.x||0,c.y=+l.y||0,c.z=+l.z||0,c.w=+l.w||0,c.state=2)}for(f=0;f<r.buffers.length;++f)!e[f]&&r.buffers[f]&&(r.buffers[f].destroy(),r.buffers[f]=null);return r.refresh(),t}var r=new u;return n.vaoCount+=1,t.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},t._vao=r,t._reglType="vao",t(e)},getVAO:function(e){return"function"==typeof e&&e._vao?e._vao:null},destroyBuffer:function(t){for(var r=0;r<l.length;++r){var n=l[r];n.buffer===t&&(e.disableVertexAttribArray(r),n.buffer=null)}},setVAO:t.oes_vertex_array_object?function(e){if(e!==p.currentVAO){var r=t.oes_vertex_array_object;e?r.bindVertexArrayOES(e.vao):r.bindVertexArrayOES(null),p.currentVAO=e}}:function(r){if(r!==p.currentVAO){if(r)r.bindAttrs();else{for(var n=t.angle_instanced_arrays,i=0;i<l.length;++i){var a=l[i];a.buffer?(e.enableVertexAttribArray(i),a.buffer.bind(),e.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offfset),n&&a.divisor&&n.vertexAttribDivisorANGLE(i,a.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}o.elements?e.bindBuffer(34963,o.elements.buffer.buffer):e.bindBuffer(34963,null)}p.currentVAO=r}},clear:t.oes_vertex_array_object?function(){$(h).forEach((function(e){e.destroy()}))}:function(){}};return u.prototype.bindAttrs=function(){for(var r=t.angle_instanced_arrays,n=this.attributes,i=0;i<n.length;++i){var o=n[i];o.buffer?(e.enableVertexAttribArray(i),e.bindBuffer(34962,o.buffer.buffer),e.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offset),r&&o.divisor&&r.vertexAttribDivisorANGLE(i,o.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}for(r=n.length;r<f;++r)e.disableVertexAttribArray(r);(r=a.getElements(this.elements))?e.bindBuffer(34963,r.buffer.buffer):e.bindBuffer(34963,null)},u.prototype.refresh=function(){var e=t.oes_vertex_array_object;e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),p.currentVAO=null,e.bindVertexArrayOES(null))},u.prototype.destroy=function(){if(this.vao){var e=t.oes_vertex_array_object;this===p.currentVAO&&(p.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),h[this.id]&&(delete h[this.id],--n.vaoCount)},p}function T(e,t,r,n){function i(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function a(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function o(r,n,i){if(!(o=(i=35632===r?f:l)[n])){var a=t.str(n),o=e.createShader(r);e.shaderSource(o,a),e.compileShader(o),i[n]=o}return o}function u(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function s(r,u,s){var f;f=o(35632,r.fragId);var l=o(35633,r.vertId);if(u=r.program=e.createProgram(),e.attachShader(u,f),e.attachShader(u,l),s)for(f=0;f<s.length;++f)l=s[f],e.bindAttribLocation(u,l[0],l[1]);e.linkProgram(u),l=e.getProgramParameter(u,35718),n.profile&&(r.stats.uniformsCount=l);var c=r.uniforms;for(f=0;f<l;++f)if(s=e.getActiveUniform(u,f)){if(1<s.size)for(var h=0;h<s.size;++h){var p=s.name.replace("[0]","["+h+"]");a(c,new i(p,t.id(p),e.getUniformLocation(u,p),s))}h=s.name,1<s.size&&(h=h.replace("[0]","")),a(c,new i(h,t.id(h),e.getUniformLocation(u,h),s))}for(l=e.getProgramParameter(u,35721),n.profile&&(r.stats.attributesCount=l),r=r.attributes,f=0;f<l;++f)(s=e.getActiveAttrib(u,f))&&a(r,new i(s.name,t.id(s.name),e.getAttribLocation(u,s.name),s))}var f={},l={},c={},h=[],p=0;return n.profile&&(r.getMaxUniformsCount=function(){var e=0;return h.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return h.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);$(f).forEach(t),f={},$(l).forEach(t),l={},h.forEach((function(t){e.deleteProgram(t.program)})),h.length=0,c={},r.shaderCount=0},program:function(t,n,i,a){var o=c[n];o||(o=c[n]={});var p=o[t];if(p&&(p.refCount++,!a))return p;var d=new u(n,t);return r.shaderCount++,s(d,i,a),p||(o[t]=d),h.push(d),U(d,{destroy:function(){if(d.refCount--,0>=d.refCount){e.deleteProgram(d.program);var t=h.indexOf(d);h.splice(t,1),r.shaderCount--}0>=o[d.vertId].refCount&&(e.deleteShader(l[d.vertId]),delete l[d.vertId],delete c[d.fragId][d.vertId]),Object.keys(c[d.fragId]).length||(e.deleteShader(f[d.fragId]),delete f[d.fragId],delete c[d.fragId])}})},restore:function(){f={},l={};for(var e=0;e<h.length;++e)s(h[e],null,h[e].attributes.map((function(e){return[e.location,e.name]})))},shader:o,frag:-1,vert:-1}}function O(e,t,r,n,i,a,o){function u(i){var a;a=null===t.next?5121:t.next.colorAttachments[0].texture._texture.type;var o=0,u=0,s=n.framebufferWidth,f=n.framebufferHeight,l=null;return Y(i)?l=i:i&&(o=0|i.x,u=0|i.y,s=0|(i.width||n.framebufferWidth-o),f=0|(i.height||n.framebufferHeight-u),l=i.data||null),r(),i=s*f*4,l||(5121===a?l=new Uint8Array(i):5126===a&&(l=l||new Float32Array(i))),e.pixelStorei(3333,4),e.readPixels(o,u,s,f,6408,a,l),l}return function(e){return e&&"framebuffer"in e?function(e){var r;return t.setFBO({framebuffer:e.framebuffer},(function(){r=u(e)})),r}(e):u(e)}}function S(e){return Array.prototype.slice.call(e)}function I(e){return S(e).join("")}function C(e){return Array.isArray(e)||Y(e)||s(e)}function B(e){return e.sort((function(e,t){return"viewport"===e?-1:"viewport"===t?1:e<t?-1:1}))}function D(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function z(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function M(e){return new D(!1,!1,!1,e)}function L(e,t){var r=e.type;if(0===r)return new D(!0,1<=(r=e.data.length),2<=r,t);if(4===r)return new D((r=e.data).thisDep,r.contextDep,r.propDep,t);if(5===r)return new D(!1,!1,!1,t);if(6===r){for(var n=r=!1,i=!1,a=0;a<e.data.length;++a){var o=e.data[a];1===o.type?i=!0:2===o.type?n=!0:3===o.type?r=!0:0===o.type?(r=!0,1<=(o=o.data)&&(n=!0),2<=o&&(i=!0)):4===o.type&&(r=r||o.data.thisDep,n=n||o.data.contextDep,i=i||o.data.propDep)}return new D(r,n,i,t)}return new D(3===r,2===r,1===r,t)}function N(e,t,r,n,i,o,u,s,f,l,c,h,p,d,g){function _(e){return e.replace(".","_")}function y(e,t,r){var n=_(e);oe.push(e),ae[n]=ie[n]=!!r,ue[n]=t}function m(e,t,r){var n=_(e);oe.push(e),Array.isArray(r)?(ie[n]=r.slice(),ae[n]=r.slice()):ie[n]=ae[n]=r,se[n]=t}function b(){var e=function(){function e(){var e=[],t=[];return U((function(){e.push.apply(e,S(arguments))}),{def:function(){var n="v"+r++;return t.push(n),0<arguments.length&&(e.push(n,"="),e.push.apply(e,S(arguments)),e.push(";")),n},toString:function(){return I([0<t.length?"var "+t.join(",")+";":"",I(e)])}})}function t(){function t(e,t){n(e,t,"=",r.def(e,t),";")}var r=e(),n=e(),i=r.toString,a=n.toString;return U((function(){r.apply(r,S(arguments))}),{def:r.def,entry:r,exit:n,save:t,set:function(e,n,i){t(e,n),r(e,n,"=",i,";")},toString:function(){return i()+a()}})}var r=0,n=[],i=[],a=e(),o={};return{global:a,link:function(e){for(var t=0;t<i.length;++t)if(i[t]===e)return n[t];return t="g"+r++,n.push(t),i.push(e),t},block:e,proc:function(e,r){function n(){var e="a"+i.length;return i.push(e),e}var i=[];r=r||0;for(var a=0;a<r;++a)n();var u=(a=t()).toString;return o[e]=U(a,{arg:n,toString:function(){return I(["function(",i.join(),"){",u(),"}"])}})},scope:t,cond:function(){var e=I(arguments),r=t(),n=t(),i=r.toString,a=n.toString;return U(r,{then:function(){return r.apply(r,S(arguments)),this},else:function(){return n.apply(n,S(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),I(["if(",e,"){",i(),"}",t])}})},compile:function(){var e=['"use strict";',a,"return {"];Object.keys(o).forEach((function(t){e.push('"',t,'":',o[t].toString(),",")})),e.push("}");var t=I(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,i)}}}(),r=e.link,n=e.global;e.id=ce++,e.batchId="0";var i=r(fe),a=e.shared={props:"a0"};Object.keys(fe).forEach((function(e){a[e]=n.def(i,".",e)}));var o=e.next={},u=e.current={};Object.keys(se).forEach((function(e){Array.isArray(ie[e])&&(o[e]=n.def(a.next,".",e),u[e]=n.def(a.current,".",e))}));var s=e.constants={};Object.keys(le).forEach((function(e){s[e]=n.def(JSON.stringify(le[e]))})),e.invoke=function(t,n){switch(n.type){case 0:var i=["this",a.context,a.props,e.batchId];return t.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case 1:return t.def(a.props,n.data);case 2:return t.def(a.context,n.data);case 3:return t.def("this",n.data);case 4:return n.data.append(e,t),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(r){return e.invoke(t,r)}))}},e.attribCache={};var f={};return e.scopeAttrib=function(e){if((e=t.id(e))in f)return f[e];var n=l.scope[e];return n||(n=l.scope[e]=new X),f[e]=r(n)},e}function w(e,t){var r=e.static,n=e.dynamic;if("framebuffer"in r){var i=r.framebuffer;return i?(i=s.getFramebuffer(i),M((function(e,t){var r=e.link(i),n=e.shared;return t.set(n.framebuffer,".next",r),n=n.context,t.set(n,".framebufferWidth",r+".width"),t.set(n,".framebufferHeight",r+".height"),r}))):M((function(e,t){var r=e.shared;return t.set(r.framebuffer,".next","null"),r=r.context,t.set(r,".framebufferWidth",r+".drawingBufferWidth"),t.set(r,".framebufferHeight",r+".drawingBufferHeight"),"null"}))}if("framebuffer"in n){var a=n.framebuffer;return L(a,(function(e,t){var r=e.invoke(t,a),n=e.shared,i=n.framebuffer;r=t.def(i,".getFramebuffer(",r,")");return t.set(i,".next",r),n=n.context,t.set(n,".framebufferWidth",r+"?"+r+".width:"+n+".drawingBufferWidth"),t.set(n,".framebufferHeight",r+"?"+r+".height:"+n+".drawingBufferHeight"),r}))}return null}function x(e,r,n){function i(e){if(e in a){var r=t.id(a[e]);return(e=M((function(){return r}))).id=r,e}if(e in o){var n=o[e];return L(n,(function(e,t){var r=e.invoke(t,n);return t.def(e.shared.strings,".id(",r,")")}))}return null}var a=e.static,o=e.dynamic,u=i("frag"),s=i("vert"),f=null;return z(u)&&z(s)?(f=c.program(s.id,u.id,null,n),e=M((function(e,t){return e.link(f)}))):e=new D(u&&u.thisDep||s&&s.thisDep,u&&u.contextDep||s&&s.contextDep,u&&u.propDep||s&&s.propDep,(function(e,t){var r,n,i=e.shared.shader;return r=u?u.append(e,t):t.def(i,".","frag"),n=s?s.append(e,t):t.def(i,".","vert"),t.def(i+".program("+n+","+r+")")})),{frag:u,vert:s,progVar:e,program:f}}function A(e,t){function r(e,t){if(e in n){var r=0|n[e];return t?a.offset=r:a.instances=r,M((function(e,n){return t&&(e.OFFSET=r),r}))}if(e in i){var o=i[e];return L(o,(function(e,r){var n=e.invoke(r,o);return t&&(e.OFFSET=n),n}))}if(t){if(f)return M((function(e,t){return e.OFFSET=0}));if(u)return new D(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(u)return new D(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var n=e.static,i=e.dynamic,a={},u=!1,s=function(){if("vao"in n){var e=n.vao;return null!==e&&null===l.getVAO(e)&&(e=l.createVAO(e)),u=!0,a.vao=e,M((function(t){var r=l.getVAO(e);return r?t.link(r):"null"}))}if("vao"in i){u=!0;var t=i.vao;return L(t,(function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")}))}return null}(),f=!1,c=function(){if("elements"in n){var e=n.elements;if(a.elements=e,C(e)){var t=a.elements=o.create(e,!0);e=o.getElements(t);f=!0}else e&&(e=o.getElements(e),f=!0);return(t=M((function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n}return t.ELEMENTS=null}))).value=e,t}if("elements"in i){f=!0;var r=i.elements;return L(r,(function(e,t){var n=(i=e.shared).isBufferArgs,i=i.elements,a=e.invoke(t,r),o=t.def("null");n=t.def(n,"(",a,")"),a=e.cond(n).then(o,"=",i,".createStream(",a,");").else(o,"=",i,".getElements(",a,");");return t.entry(a),t.exit(e.cond(n).then(i,".destroyStream(",o,");")),e.ELEMENTS=o}))}return u?new D(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}(),h=r("offset",!0),p=function(){if("primitive"in n){var e=n.primitive;return a.primitive=e,M((function(t,r){return re[e]}))}if("primitive"in i){var t=i.primitive;return L(t,(function(e,r){var n=e.constants.primTypes,i=e.invoke(r,t);return r.def(n,"[",i,"]")}))}return f?z(c)?c.value?M((function(e,t){return t.def(e.ELEMENTS,".primType")})):M((function(){return 4})):new D(c.thisDep,c.contextDep,c.propDep,(function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",4)})):u?new D(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:4")})):null}(),d=function(){if("count"in n){var e=0|n.count;return a.count=e,M((function(){return e}))}if("count"in i){var t=i.count;return L(t,(function(e,r){return e.invoke(r,t)}))}return f?z(c)?c?h?new D(h.thisDep,h.contextDep,h.propDep,(function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)})):M((function(e,t){return t.def(e.ELEMENTS,".vertCount")})):M((function(){return-1})):new D(c.thisDep||h.thisDep,c.contextDep||h.contextDep,c.propDep||h.propDep,(function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")})):u?new D(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}(),g=r("instances",!1);return{elements:c,primitive:p,count:d,instances:g,offset:h,vao:s,vaoActive:u,elementsActive:f,static:a}}function j(e,r){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach((function(e){var r=n[e],a=t.id(e),u=new X;if(C(r))u.state=1,u.buffer=i.getBuffer(i.create(r,34962,!1,!0)),u.type=0;else if(f=i.getBuffer(r))u.state=1,u.buffer=f,u.type=0;else if("constant"in r){var s=r.constant;u.buffer="null",u.state=2,"number"==typeof s?u.x=s:we.forEach((function(e,t){t<s.length&&(u[e]=s[t])}))}else{var f=C(r.buffer)?i.getBuffer(i.create(r.buffer,34962,!1,!0)):i.getBuffer(r.buffer),l=0|r.offset,c=0|r.stride,h=0|r.size,p=!!r.normalized,d=0;"type"in r&&(d=Z[r.type]),r=0|r.divisor,u.buffer=f,u.state=1,u.size=h,u.normalized=p,u.type=d||f.dtype,u.offset=l,u.stride=c,u.divisor=r}o[e]=M((function(e,t){var r=e.attribCache;if(a in r)return r[a];var n={isStream:!1};return Object.keys(u).forEach((function(e){n[e]=u[e]})),u.buffer&&(n.buffer=e.link(u.buffer),n.type=n.type||n.buffer+".dtype"),r[a]=n}))})),Object.keys(a).forEach((function(e){var t=a[e];o[e]=L(t,(function(e,r){function n(e){r(s[e],"=",i,".",e,"|0;")}var i=e.invoke(r,t),a=e.shared,o=e.constants,u=a.isBufferArgs,s=(a=a.buffer,{isStream:r.def(!1)}),f=new X;f.state=1,Object.keys(f).forEach((function(e){s[e]=r.def(""+f[e])}));var l=s.buffer,c=s.type;return r("if(",u,"(",i,")){",s.isStream,"=true;",l,"=",a,".createStream(",34962,",",i,");",c,"=",l,".dtype;","}else{",l,"=",a,".getBuffer(",i,");","if(",l,"){",c,"=",l,".dtype;",'}else if("constant" in ',i,"){",s.state,"=",2,";","if(typeof "+i+'.constant === "number"){',s[we[0]],"=",i,".constant;",we.slice(1).map((function(e){return s[e]})).join("="),"=0;","}else{",we.map((function(e,t){return s[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",l,"=",a,".createStream(",34962,",",i,".buffer);","}else{",l,"=",a,".getBuffer(",i,".buffer);","}",c,'="type" in ',i,"?",o.glTypes,"[",i,".type]:",l,".dtype;",s.normalized,"=!!",i,".normalized;"),n("size"),n("offset"),n("stride"),n("divisor"),r("}}"),r.exit("if(",s.isStream,"){",a,".destroyStream(",l,");","}"),s}))})),o}function E(e,t,n,i,o){function u(e){var t=f[e];t&&(h[e]=t)}var s=function(e,t){if("string"==typeof(r=e.static).frag&&"string"==typeof r.vert){if(0<Object.keys(t.dynamic).length)return null;var r=t.static,n=Object.keys(r);if(0<n.length&&"number"==typeof r[n[0]]){for(var i=[],a=0;a<n.length;++a)i.push([0|r[n[a]],n[a]]);return i}}return null}(e,t),f=function(e,t,r){function n(e){if(e in i){var r=i[e];e=!0;var n,o,u=0|r.x,s=0|r.y;return"width"in r?n=0|r.width:e=!1,"height"in r?o=0|r.height:e=!1,new D(!e&&t&&t.thisDep,!e&&t&&t.contextDep,!e&&t&&t.propDep,(function(e,t){var i=e.shared.context,a=n;"width"in r||(a=t.def(i,".","framebufferWidth","-",u));var f=o;return"height"in r||(f=t.def(i,".","framebufferHeight","-",s)),[u,s,a,f]}))}if(e in a){var f=a[e];return e=L(f,(function(e,t){var r=e.invoke(t,f),n=e.shared.context,i=t.def(r,".x|0"),a=t.def(r,".y|0");return[i,a,t.def('"width" in ',r,"?",r,".width|0:","(",n,".","framebufferWidth","-",i,")"),r=t.def('"height" in ',r,"?",r,".height|0:","(",n,".","framebufferHeight","-",a,")")]})),t&&(e.thisDep=e.thisDep||t.thisDep,e.contextDep=e.contextDep||t.contextDep,e.propDep=e.propDep||t.propDep),e}return t?new D(t.thisDep,t.contextDep,t.propDep,(function(e,t){var r=e.shared.context;return[0,0,t.def(r,".","framebufferWidth"),t.def(r,".","framebufferHeight")]})):null}var i=e.static,a=e.dynamic;if(e=n("viewport")){var o=e;e=new D(e.thisDep,e.contextDep,e.propDep,(function(e,t){var r=o.append(e,t),n=e.shared.context;return t.set(n,".viewportWidth",r[2]),t.set(n,".viewportHeight",r[3]),r}))}return{viewport:e,scissor_box:n("scissor.box")}}(e,d=w(e)),c=A(e),h=function(e,t){var r=e.static,n=e.dynamic,i={};return oe.forEach((function(e){function t(t,a){if(e in r){var u=t(r[e]);i[o]=M((function(){return u}))}else if(e in n){var s=n[e];i[o]=L(s,(function(e,t){return a(e,t,e.invoke(t,s))}))}}var o=_(e);switch(e){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return t((function(e){return e}),(function(e,t,r){return r}));case"depth.func":return t((function(e){return je[e]}),(function(e,t,r){return t.def(e.constants.compareFuncs,"[",r,"]")}));case"depth.range":return t((function(e){return e}),(function(e,t,r){return[t.def("+",r,"[0]"),t=t.def("+",r,"[1]")]}));case"blend.func":return t((function(e){return[Ae["srcRGB"in e?e.srcRGB:e.src],Ae["dstRGB"in e?e.dstRGB:e.dst],Ae["srcAlpha"in e?e.srcAlpha:e.src],Ae["dstAlpha"in e?e.dstAlpha:e.dst]]}),(function(e,t,r){function n(e,n){return t.def('"',e,n,'" in ',r,"?",r,".",e,n,":",r,".",e)}e=e.constants.blendFuncs;var i=n("src","RGB"),a=n("dst","RGB"),o=(i=t.def(e,"[",i,"]"),t.def(e,"[",n("src","Alpha"),"]"));return[i,a=t.def(e,"[",a,"]"),o,e=t.def(e,"[",n("dst","Alpha"),"]")]}));case"blend.equation":return t((function(e){return"string"==typeof e?[J[e],J[e]]:"object"==typeof e?[J[e.rgb],J[e.alpha]]:void 0}),(function(e,t,r){var n=e.constants.blendEquations,i=t.def(),a=t.def();return(e=e.cond("typeof ",r,'==="string"')).then(i,"=",a,"=",n,"[",r,"];"),e.else(i,"=",n,"[",r,".rgb];",a,"=",n,"[",r,".alpha];"),t(e),[i,a]}));case"blend.color":return t((function(e){return a(4,(function(t){return+e[t]}))}),(function(e,t,r){return a(4,(function(e){return t.def("+",r,"[",e,"]")}))}));case"stencil.mask":return t((function(e){return 0|e}),(function(e,t,r){return t.def(r,"|0")}));case"stencil.func":return t((function(e){return[je[e.cmp||"keep"],e.ref||0,"mask"in e?e.mask:-1]}),(function(e,t,r){return[e=t.def('"cmp" in ',r,"?",e.constants.compareFuncs,"[",r,".cmp]",":",7680),t.def(r,".ref|0"),t=t.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return t((function(t){return["stencil.opBack"===e?1029:1028,Ee[t.fail||"keep"],Ee[t.zfail||"keep"],Ee[t.zpass||"keep"]]}),(function(t,r,n){function i(e){return r.def('"',e,'" in ',n,"?",a,"[",n,".",e,"]:",7680)}var a=t.constants.stencilOps;return["stencil.opBack"===e?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return t((function(e){return[0|e.factor,0|e.units]}),(function(e,t,r){return[t.def(r,".factor|0"),t=t.def(r,".units|0")]}));case"cull.face":return t((function(e){var t=0;return"front"===e?t=1028:"back"===e&&(t=1029),t}),(function(e,t,r){return t.def(r,'==="front"?',1028,":",1029)}));case"lineWidth":return t((function(e){return e}),(function(e,t,r){return r}));case"frontFace":return t((function(e){return ke[e]}),(function(e,t,r){return t.def(r+'==="cw"?2304:2305')}));case"colorMask":return t((function(e){return e.map((function(e){return!!e}))}),(function(e,t,r){return a(4,(function(e){return"!!"+r+"["+e+"]"}))}));case"sample.coverage":return t((function(e){return["value"in e?e.value:1,!!e.invert]}),(function(e,t,r){return[t.def('"value" in ',r,"?+",r,".value:1"),t=t.def("!!",r,".invert")]}))}})),i}(e),p=x(e,0,s);u("viewport"),u(_("scissor.box"));var d,g=0<Object.keys(h).length;if((d={framebuffer:d,draw:c,shader:p,state:h,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(e){var t,r=e.static;if(e=e.dynamic,"profile"in r){var n=!!r.profile;(t=M((function(e,t){return n}))).enable=n}else if("profile"in e){var i=e.profile;t=L(i,(function(e,t){return e.invoke(t,i)}))}return t}(e),d.uniforms=function(e,t){var r=e.static,n=e.dynamic,i={};return Object.keys(r).forEach((function(e){var t,n=r[e];if("number"==typeof n||"boolean"==typeof n)t=M((function(){return n}));else if("function"==typeof n){var o=n._reglType;"texture2d"===o||"textureCube"===o?t=M((function(e){return e.link(n)})):"framebuffer"!==o&&"framebufferCube"!==o||(t=M((function(e){return e.link(n.color[0])})))}else v(n)&&(t=M((function(e){return e.global.def("[",a(n.length,(function(e){return n[e]})),"]")})));t.value=n,i[e]=t})),Object.keys(n).forEach((function(e){var t=n[e];i[e]=L(t,(function(e,r){return e.invoke(r,t)}))})),i}(n),d.drawVAO=d.scopeVAO=c.vao,!d.drawVAO&&p.program&&!s&&r.angle_instanced_arrays&&c.static.elements){var y=!0;if(e=p.program.attributes.map((function(e){return e=t.static[e],y=y&&!!e,e})),y&&0<e.length){var m=l.getVAO(l.createVAO({attributes:e,elements:c.static.elements}));d.drawVAO=new D(null,null,null,(function(e,t){return e.link(m)})),d.useVAO=!0}}return s?d.useVAO=!0:d.attributes=j(t),d.context=function(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach((function(e){var r=t[e];n[e]=M((function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)}))})),Object.keys(r).forEach((function(e){var t=r[e];n[e]=L(t,(function(e,r){return e.invoke(r,t)}))})),n}(i),d}function k(e,t,r){var n=e.shared.context,i=e.scope();Object.keys(r).forEach((function(a){t.save(n,"."+a);var o=r[a].append(e,t);Array.isArray(o)?i(n,".",a,"=[",o.join(),"];"):i(n,".",a,"=",o,";")})),t(i)}function V(e,t,r,n){var i,a=(u=e.shared).gl,o=u.framebuffer;te&&(i=t.def(u.extensions,".webgl_draw_buffers"));var u=(s=e.constants).drawBuffer,s=s.backBuffer;e=r?r.append(e,t):t.def(o,".next"),n||t("if(",e,"!==",o,".cur){"),t("if(",e,"){",a,".bindFramebuffer(",36160,",",e,".framebuffer);"),te&&t(i,".drawBuffersWEBGL(",u,"[",e,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",36160,",null);"),te&&t(i,".drawBuffersWEBGL(",s,");"),t("}",o,".cur=",e,";"),n||t("}")}function T(e,t,r){var n=e.shared,i=n.gl,o=e.current,u=e.next,s=n.current,f=n.next,l=e.cond(s,".dirty");oe.forEach((function(t){var n,c;if(!((t=_(t))in r.state))if(t in u){n=u[t],c=o[t];var h=a(ie[t].length,(function(e){return l.def(n,"[",e,"]")}));l(e.cond(h.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",se[t],"(",h,");",h.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else n=l.def(f,".",t),h=e.cond(n,"!==",s,".",t),l(h),t in ue?h(e.cond(n).then(i,".enable(",ue[t],");").else(i,".disable(",ue[t],");"),s,".",t,"=",n,";"):h(i,".",se[t],"(",n,");",s,".",t,"=",n,";")})),0===Object.keys(r.state).length&&l(s,".dirty=false;"),t(l)}function O(e,t,r,n){var i=e.shared,a=e.current,o=i.current,u=i.gl;B(Object.keys(r)).forEach((function(i){var s=r[i];if(!n||n(s)){var f=s.append(e,t);if(ue[i]){var l=ue[i];z(s)?t(u,f?".enable(":".disable(",l,");"):t(e.cond(f).then(u,".enable(",l,");").else(u,".disable(",l,");")),t(o,".",i,"=",f,";")}else if(v(f)){var c=a[i];t(u,".",se[i],"(",f,");",f.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";")}else t(u,".",se[i],"(",f,");",o,".",i,"=",f,";")}}))}function N(e,t){ee&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function F(e,t,r,n,i){function a(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function o(e){e(f=t.def(),"=",a(),";"),"string"==typeof i?e(h,".count+=",i,";"):e(h,".count++;"),d&&(n?e(l=t.def(),"=",g,".getNumPendingQueries();"):e(g,".beginQuery(",h,");"))}function u(e){e(h,".cpuTime+=",a(),"-",f,";"),d&&(n?e(g,".pushScopeStats(",l,",",g,".getNumPendingQueries(),",h,");"):e(g,".endQuery();"))}function s(e){var r=t.def(p,".profile");t(p,".profile=",e,";"),t.exit(p,".profile=",r,";")}var f,l,c=e.shared,h=e.stats,p=c.current,g=c.timer;if(r=r.profile){if(z(r))return void(r.enable?(o(t),u(t.exit),s("true")):s("false"));s(r=r.append(e,t))}else r=t.def(p,".profile");o(c=e.block()),t("if(",r,"){",c,"}"),u(e=e.block()),t.exit("if(",r,"){",e,"}")}function R(e,t,r,n,i){function a(r,n,i){function a(){t("if(!",l,".buffer){",s,".enableVertexAttribArray(",f,");}");var r,a=i.type;r=i.size?t.def(i.size,"||",n):n,t("if(",l,".type!==",a,"||",l,".size!==",r,"||",p.map((function(e){return l+"."+e+"!=="+i[e]})).join("||"),"){",s,".bindBuffer(",34962,",",c,".buffer);",s,".vertexAttribPointer(",[f,r,a,i.normalized,i.stride,i.offset],");",l,".type=",a,";",l,".size=",r,";",p.map((function(e){return l+"."+e+"="+i[e]+";"})).join(""),"}"),ee&&(a=i.divisor,t("if(",l,".divisor!==",a,"){",e.instancing,".vertexAttribDivisorANGLE(",[f,a],");",l,".divisor=",a,";}"))}function u(){t("if(",l,".buffer){",s,".disableVertexAttribArray(",f,");",l,".buffer=null;","}if(",we.map((function(e,t){return l+"."+e+"!=="+h[t]})).join("||"),"){",s,".vertexAttrib4f(",f,",",h,");",we.map((function(e,t){return l+"."+e+"="+h[t]+";"})).join(""),"}")}var s=o.gl,f=t.def(r,".location"),l=t.def(o.attributes,"[",f,"]");r=i.state;var c=i.buffer,h=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];1===r?a():2===r?u():(t("if(",r,"===",1,"){"),a(),t("}else{"),u(),t("}"))}var o=e.shared;n.forEach((function(n){var o,u=n.name,s=r.attributes[u];if(s){if(!i(s))return;o=s.append(e,t)}else{if(!i(Ve))return;var f=e.scopeAttrib(u);o={},Object.keys(new X).forEach((function(e){o[e]=t.def(f,".",e)}))}a(e.link(n),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(n.info.type),o)}))}function q(e,r,n,i,o,u){for(var s,f=e.shared,l=f.gl,c={},h=0;h<i.length;++h){var p=(b=i[h]).name,d=b.info.type,g=b.info.size,_=n.uniforms[p];if(1<g){if(!_)continue;var y=p.replace("[0]","");if(c[y])continue;c[y]=1}var m,b=e.link(b)+".location";if(_){if(!o(_))continue;if(z(_)){if(p=_.value,35678===d||35680===d)r(l,".uniform1i(",b,",",(d=e.link(p._texture||p.color[0]._texture))+".bind());"),r.exit(d,".unbind();");else if(35674===d||35675===d||35676===d)g=e.global.def("new Float32Array(["+Array.prototype.slice.call(p)+"])"),p=2,35675===d?p=3:35676===d&&(p=4),r(l,".uniformMatrix",p,"fv(",b,",false,",g,");");else{switch(d){case 5126:s="1f";break;case 35664:s="2f";break;case 35665:s="3f";break;case 35666:s="4f";break;case 35670:case 5124:s="1i";break;case 35671:case 35667:s="2i";break;case 35672:case 35668:s="3i";break;case 35673:s="4i";break;case 35669:s="4i"}1<g?(s+="v",p=e.global.def("["+Array.prototype.slice.call(p)+"]")):p=v(p)?Array.prototype.slice.call(p):p,r(l,".uniform",s,"(",b,",",p,");")}continue}m=_.append(e,r)}else{if(!o(Ve))continue;m=r.def(f.uniforms,"[",t.id(p),"]")}switch(35678===d?r("if(",m,"&&",m,'._reglType==="framebuffer"){',m,"=",m,".color[0];","}"):35680===d&&r("if(",m,"&&",m,'._reglType==="framebufferCube"){',m,"=",m,".color[0];","}"),p=1,d){case 35678:case 35680:d=r.def(m,"._texture"),r(l,".uniform1i(",b,",",d,".bind());"),r.exit(d,".unbind();");continue;case 5124:case 35670:s="1i";break;case 35667:case 35671:s="2i",p=2;break;case 35668:case 35672:s="3i",p=3;break;case 35669:case 35673:s="4i",p=4;break;case 5126:s="1f";break;case 35664:s="2f",p=2;break;case 35665:s="3f",p=3;break;case 35666:s="4f",p=4;break;case 35674:s="Matrix2fv";break;case 35675:s="Matrix3fv";break;case 35676:s="Matrix4fv"}if(-1===s.indexOf("Matrix")&&1<g&&(s+="v",p=1),"M"===s.charAt(0)){r(l,".uniform",s,"(",b,",");b=Math.pow(d-35674+2,2);var w=e.global.def("new Float32Array(",b,")");Array.isArray(m)?r("false,(",a(b,(function(e){return w+"["+e+"]="+m[e]})),",",w,")"):r("false,(Array.isArray(",m,")||",m," instanceof Float32Array)?",m,":(",a(b,(function(e){return w+"["+e+"]="+m+"["+e+"]"})),",",w,")"),r(");")}else{if(1<p){d=[];var x=[];for(g=0;g<p;++g)Array.isArray(m)?x.push(m[g]):x.push(r.def(m+"["+g+"]")),u&&d.push(r.def());u&&r("if(!",e.batchId,"||",d.map((function(e,t){return e+"!=="+x[t]})).join("||"),"){",d.map((function(e,t){return e+"="+x[t]+";"})).join("")),r(l,".uniform",s,"(",b,",",x.join(","),");")}else u&&(d=r.def(),r("if(!",e.batchId,"||",d,"!==",m,"){",d,"=",m,";")),r(l,".uniform",s,"(",b,",",m,");");u&&r("}")}}}function W(e,t,r,n){function i(i){var a=h[i];return a?a.contextDep&&n.contextDynamic||a.propDep?a.append(e,r):a.append(e,t):t.def(c,".",i)}function a(){function e(){r(s,".drawElementsInstancedANGLE(",[d,v,_,g+"<<(("+_+"-5121)>>1)",u],");")}function t(){r(s,".drawArraysInstancedANGLE(",[d,g,v,u],");")}p&&"null"!==p?y?e():(r("if(",p,"){"),e(),r("}else{"),t(),r("}")):t()}function o(){function e(){r(l+".drawElements("+[d,v,_,g+"<<(("+_+"-5121)>>1)"]+");")}function t(){r(l+".drawArrays("+[d,g,v]+");")}p&&"null"!==p?y?e():(r("if(",p,"){"),e(),r("}else{"),t(),r("}")):t()}var u,s,f=e.shared,l=f.gl,c=f.draw,h=n.draw,p=function(){var i=h.elements,a=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(a=r),i=i.append(e,a),h.elementsActive&&a("if("+i+")"+l+".bindBuffer(34963,"+i+".buffer.buffer);")):(i=a.def(),a(i,"=",c,".","elements",";","if(",i,"){",l,".bindBuffer(",34963,",",i,".buffer.buffer);}","else if(",f.vao,".currentVAO){",i,"=",e.shared.elements+".getElements("+f.vao,".currentVAO.elements);",ne?"":"if("+i+")"+l+".bindBuffer(34963,"+i+".buffer.buffer);","}")),i}(),d=i("primitive"),g=i("offset"),v=function(){var i=h.count,a=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(a=r),i=i.append(e,a)):i=a.def(c,".","count"),i}();if("number"==typeof v){if(0===v)return}else r("if(",v,"){"),r.exit("}");ee&&(u=i("instances"),s=e.instancing);var _=p+".type",y=h.elements&&z(h.elements)&&!h.vaoActive;ee&&("number"!=typeof u||0<=u)?"string"==typeof u?(r("if(",u,">0){"),a(),r("}else if(",u,"<0){"),o(),r("}")):a():o()}function H(e,t,r,n,i){return i=(t=b()).proc("body",i),ee&&(t.instancing=i.def(t.shared.extensions,".angle_instanced_arrays")),e(t,i,r,n),t.compile().body}function G(e,t,r,n){N(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),R(e,t,r,n.attributes,(function(){return!0}))),q(e,t,r,n.uniforms,(function(){return!0}),!1),W(e,t,t,r)}function Y(e,t,r,n){function i(){return!0}e.batchId="a1",N(e,t),R(e,t,r,n.attributes,i),q(e,t,r,n.uniforms,i,!1),W(e,t,t,r)}function $(e,t,r,n){function i(e){return e.contextDep&&o||e.propDep}function a(e){return!i(e)}N(e,t);var o=r.contextDep,u=t.def(),s=t.def();e.shared.props=s,e.batchId=u;var f=e.scope(),l=e.scope();t(f.entry,"for(",u,"=0;",u,"<","a1",";++",u,"){",s,"=","a0","[",u,"];",l,"}",f.exit),r.needsContext&&k(e,l,r.context),r.needsFramebuffer&&V(e,l,r.framebuffer),O(e,l,r.state,i),r.profile&&i(r.profile)&&F(e,l,r,!1,!0),n?(r.useVAO?r.drawVAO?i(r.drawVAO)?l(e.shared.vao,".setVAO(",r.drawVAO.append(e,l),");"):f(e.shared.vao,".setVAO(",r.drawVAO.append(e,f),");"):f(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(f(e.shared.vao,".setVAO(null);"),R(e,f,r,n.attributes,a),R(e,l,r,n.attributes,i)),q(e,f,r,n.uniforms,a,!1),q(e,l,r,n.uniforms,i,!0),W(e,f,l,r)):(t=e.global.def("{}"),n=r.shader.progVar.append(e,l),s=l.def(n,".id"),f=l.def(t,"[",s,"]"),l(e.shared.gl,".useProgram(",n,".program);","if(!",f,"){",f,"=",t,"[",s,"]=",e.link((function(t){return H(Y,e,r,t,2)})),"(",n,");}",f,".call(this,a0[",u,"],",u,");"))}function Q(e,r){function n(t){var n=r.shader[t];n&&i.set(a.shader,"."+t,n.append(e,i))}var i=e.proc("scope",3);e.batchId="a2";var a=e.shared,o=a.current;k(e,i,r.context),r.framebuffer&&r.framebuffer.append(e,i),B(Object.keys(r.state)).forEach((function(t){var n=r.state[t].append(e,i);v(n)?n.forEach((function(r,n){i.set(e.next[t],"["+n+"]",r)})):i.set(a.next,"."+t,n)})),F(e,i,r,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(t){var n=r.draw[t];n&&i.set(a.draw,"."+t,""+n.append(e,i))})),Object.keys(r.uniforms).forEach((function(n){var o=r.uniforms[n].append(e,i);Array.isArray(o)&&(o="["+o.join()+"]"),i.set(a.uniforms,"["+t.id(n)+"]",o)})),Object.keys(r.attributes).forEach((function(t){var n=r.attributes[t].append(e,i),a=e.scopeAttrib(t);Object.keys(new X).forEach((function(e){i.set(a,"."+e,n[e])}))})),r.scopeVAO&&i.set(a.vao,".targetVAO",r.scopeVAO.append(e,i)),n("vert"),n("frag"),0<Object.keys(r.state).length&&(i(o,".dirty=true;"),i.exit(o,".dirty=true;")),i("a1(",e.shared.context,",a0,",e.batchId,");")}function K(e,t,r){var n=t.static[r];if(n&&function(e){if("object"==typeof e&&!v(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(P.isDynamic(e[t[r]]))return!0;return!1}}(n)){var i=e.global,a=Object.keys(n),o=!1,u=!1,s=!1,f=e.global.def("{}");a.forEach((function(t){var r=n[t];if(P.isDynamic(r))"function"==typeof r&&(r=n[t]=P.unbox(r)),t=L(r,null),o=o||t.thisDep,s=s||t.propDep,u=u||t.contextDep;else{switch(i(f,".",t,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(e.link(r))}i(";")}})),t.dynamic[r]=new P.DynamicVariable(4,{thisDep:o,contextDep:u,propDep:s,ref:f,append:function(e,t){a.forEach((function(r){var i=n[r];P.isDynamic(i)&&(i=e.invoke(t,i),t(f,".",r,"=",i,";"))}))}}),delete t.static[r]}}var X=l.Record,J={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(J.min=32775,J.max=32776);var ee=r.angle_instanced_arrays,te=r.webgl_draw_buffers,ne=r.oes_vertex_array_object,ie={dirty:!0,profile:g.profile},ae={},oe=[],ue={},se={};y("dither",3024),y("blend.enable",3042),m("blend.color","blendColor",[0,0,0,0]),m("blend.equation","blendEquationSeparate",[32774,32774]),m("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),m("depth.func","depthFunc",513),m("depth.range","depthRange",[0,1]),m("depth.mask","depthMask",!0),m("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),m("cull.face","cullFace",1029),m("frontFace","frontFace",2305),m("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),m("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),m("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),m("stencil.mask","stencilMask",-1),m("stencil.func","stencilFunc",[519,0,-1]),m("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),m("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),m("scissor.box","scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),m("viewport","viewport",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var fe={gl:e,context:p,strings:t,next:ae,current:ie,draw:h,elements:o,buffer:i,shader:c,attributes:l.state,vao:l,uniforms:f,framebuffer:s,extensions:r,timer:d,isBufferArgs:C},le={primTypes:re,compareFuncs:je,blendFuncs:Ae,blendEquations:J,stencilOps:Ee,glTypes:Z,orientationType:ke};te&&(le.backBuffer=[1029],le.drawBuffer=a(n.maxDrawbuffers,(function(e){return 0===e?[0]:a(e,(function(e){return 36064+e}))})));var ce=0;return{next:ae,current:ie,procs:function(){var e=b(),t=e.proc("poll"),i=e.proc("refresh"),o=e.block();t(o),i(o);var u,s=e.shared,f=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),V(e,t),V(e,i,null,!0),ee&&(u=e.link(ee)),r.oes_vertex_array_object&&i(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var h=0;h<n.maxAttributes;++h){var p=i.def(s.attributes,"[",h,"]"),d=e.cond(p,".buffer");d.then(f,".enableVertexAttribArray(",h,");",f,".bindBuffer(",34962,",",p,".buffer.buffer);",f,".vertexAttribPointer(",h,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);").else(f,".disableVertexAttribArray(",h,");",f,".vertexAttrib4f(",h,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),i(d),ee&&i(u,".vertexAttribDivisorANGLE(",h,",",p,".divisor);")}return i(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(ue).forEach((function(r){var n=ue[r],a=o.def(l,".",r),u=e.block();u("if(",a,"){",f,".enable(",n,")}else{",f,".disable(",n,")}",c,".",r,"=",a,";"),i(u),t("if(",a,"!==",c,".",r,"){",u,"}")})),Object.keys(se).forEach((function(r){var n,u,s=se[r],h=ie[r],p=e.block();p(f,".",s,"("),v(h)?(s=h.length,n=e.global.def(l,".",r),u=e.global.def(c,".",r),p(a(s,(function(e){return n+"["+e+"]"})),");",a(s,(function(e){return u+"["+e+"]="+n+"["+e+"];"})).join("")),t("if(",a(s,(function(e){return n+"["+e+"]!=="+u+"["+e+"]"})).join("||"),"){",p,"}")):(n=o.def(l,".",r),u=o.def(c,".",r),p(n,");",c,".",r,"=",n,";"),t("if(",n,"!==",u,"){",p,"}")),i(p)})),e.compile()}(),compile:function(e,t,r,n,i){var a=b();a.stats=a.link(i),Object.keys(t.static).forEach((function(e){K(a,t,e)})),xe.forEach((function(t){K(a,e,t)}));var o=E(e,t,r,n);return function(e,t){var r=e.proc("draw",1);N(e,r),k(e,r,t.context),V(e,r,t.framebuffer),T(e,r,t),O(e,r,t.state),F(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)G(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=r.def(n,".id"),o=r.def(i,"[",a,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link((function(r){return H(G,e,t,r,1)})),"(",n,");",o,".call(this,a0);"))}0<Object.keys(t.state).length&&r(e.shared.current,".dirty=true;"),e.shared.vao&&r(e.shared.vao,".setVAO(null);")}(a,o),Q(a,o),function(e,t){function r(e){return e.contextDep&&i||e.propDep}var n=e.proc("batch",2);e.batchId="0",N(e,n);var i=!1,a=!0;Object.keys(t.context).forEach((function(e){i=i||t.context[e].propDep})),i||(k(e,n,t.context),a=!1);var o=!1;if((u=t.framebuffer)?(u.propDep?i=o=!0:u.contextDep&&i&&(o=!0),o||V(e,n,u)):V(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(i=!0),T(e,n,t),O(e,n,t.state,(function(e){return!r(e)})),t.profile&&r(t.profile)||F(e,n,t,!1,"a1"),t.contextDep=i,t.needsContext=a,t.needsFramebuffer=o,(a=t.shader.progVar).contextDep&&i||a.propDep)$(e,n,t,null);else if(a=a.append(e,n),n(e.shared.gl,".useProgram(",a,".program);"),t.shader.program)$(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var u=e.global.def("{}"),s=(o=n.def(a,".id"),n.def(u,"[",o,"]"));n(e.cond(s).then(s,".call(this,a0,a1);").else(s,"=",u,"[",o,"]=",e.link((function(r){return H($,e,t,r,2)})),"(",a,");",s,".call(this,a0,a1);"))}0<Object.keys(t.state).length&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}(a,o),U(a.compile(),{destroy:function(){o.shader.program.destroy()}})}}}function F(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}var U=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},R=0,P={DynamicVariable:e,define:function(r,n){return new e(r,t(n+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof e},unbox:function t(r,n){return"function"==typeof r?new e(0,r):"number"==typeof r||"boolean"==typeof r?new e(5,r):Array.isArray(r)?new e(6,r.map((function(e,r){return t(e,n+"["+r+"]")}))):r instanceof e?r:void 0},accessor:t},q={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},W="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},H=u();H.zero=u();var G=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,i=1;t.webgl_draw_buffers&&(n=e.getParameter(34852),i=e.getParameter(36063));var a=!!t.oes_texture_float;if(a){a=e.createTexture(),e.bindTexture(3553,a),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var o=e.createFramebuffer();if(e.bindFramebuffer(36160,o),e.framebufferTexture2D(36160,36064,3553,a,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var u=H.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,u),e.getError()?a=!1:(e.deleteFramebuffer(o),e.deleteTexture(a),a=1===u[0]),H.freeType(u)}}return u=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(u=e.createTexture(),o=H.allocType(5121,36),e.activeTexture(33984),e.bindTexture(34067,u),e.texImage2D(34069,0,6408,3,3,0,6408,5121,o),H.freeType(o),e.bindTexture(34067,null),e.deleteTexture(u),u=!e.getError()),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:a,npotTextureCube:u}},Y=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},$=function(e){return Object.keys(e).map((function(t){return e[t]}))},Q={shape:function(e){for(var t=[];e.length;e=e[0])t.push(e.length);return t},flatten:function(e,t,r,n){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;switch(r=n||H.allocType(r,i),t.length){case 0:break;case 1:for(n=t[0],t=0;t<n;++t)r[t]=e[t];break;case 2:for(n=t[0],t=t[1],a=i=0;a<n;++a)for(var o=e[a],u=0;u<t;++u)r[i++]=o[u];break;case 3:f(e,t[0],t[1],t[2],r,0);break;default:!function e(t,r,n,i,a){for(var o=1,u=n+1;u<r.length;++u)o*=r[u];var s=r[n];if(4==r.length-n){var l=r[n+1],c=r[n+2];for(r=r[n+3],u=0;u<s;++u)f(t[u],l,c,r,i,a),a+=o}else for(u=0;u<s;++u)e(t[u],r,n+1,i,a),a+=o}(e,t,0,r,0)}return r}},K={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Z={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},X={dynamic:35048,stream:35040,static:35044},J=Q.flatten,ee=Q.shape,te=[];te[5120]=1,te[5122]=2,te[5124]=4,te[5121]=1,te[5123]=2,te[5125]=4,te[5126]=4;var re={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ne=new Float32Array(1),ie=new Uint32Array(ne.buffer),ae=[9984,9986,9985,9987],oe=[0,6409,6410,6407,6408],ue={};ue[6409]=ue[6406]=ue[6402]=1,ue[34041]=ue[6410]=2,ue[6407]=ue[35904]=3,ue[6408]=ue[35906]=4;var se=_("HTMLCanvasElement"),fe=_("OffscreenCanvas"),le=_("CanvasRenderingContext2D"),ce=_("ImageBitmap"),he=_("HTMLImageElement"),pe=_("HTMLVideoElement"),de=Object.keys(K).concat([se,fe,le,ce,he,pe]),ge=[];ge[5121]=1,ge[5126]=4,ge[36193]=2,ge[5123]=2,ge[5125]=4;var ve=[];ve[32854]=2,ve[32855]=2,ve[36194]=2,ve[34041]=4,ve[33776]=.5,ve[33777]=.5,ve[33778]=1,ve[33779]=1,ve[35986]=.5,ve[35987]=1,ve[34798]=1,ve[35840]=.5,ve[35841]=.25,ve[35842]=.5,ve[35843]=.25,ve[36196]=.5;var _e=[];_e[32854]=2,_e[32855]=2,_e[36194]=2,_e[33189]=2,_e[36168]=1,_e[34041]=4,_e[35907]=4,_e[34836]=16,_e[34842]=8,_e[34843]=6;var ye=function(e,t,r,n,i){function a(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function o(t){var r=t.renderbuffer;e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete l[t.id],n.renderbufferCount--}var u={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(u.srgba=35907),t.ext_color_buffer_half_float&&(u.rgba16f=34842,u.rgb16f=34843),t.webgl_color_buffer_float&&(u.rgba32f=34836);var s=[];Object.keys(u).forEach((function(e){s[u[e]]=e}));var f=0,l={};return a.prototype.decRef=function(){0>=--this.refCount&&o(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(l).forEach((function(t){e+=l[t].stats.size})),e}),{create:function(t,r){function o(t,r){var n=0,a=0,l=32854;if("object"==typeof t&&t?("shape"in t?(n=0|(a=t.shape)[0],a=0|a[1]):("radius"in t&&(n=a=0|t.radius),"width"in t&&(n=0|t.width),"height"in t&&(a=0|t.height)),"format"in t&&(l=u[t.format])):"number"==typeof t?(n=0|t,a="number"==typeof r?0|r:n):t||(n=a=1),n!==f.width||a!==f.height||l!==f.format)return o.width=f.width=n,o.height=f.height=a,f.format=l,e.bindRenderbuffer(36161,f.renderbuffer),e.renderbufferStorage(36161,l,n,a),i.profile&&(f.stats.size=_e[f.format]*f.width*f.height),o.format=s[f.format],o}var f=new a(e.createRenderbuffer());return l[f.id]=f,n.renderbufferCount++,o(t,r),o.resize=function(t,r){var n=0|t,a=0|r||n;return n===f.width&&a===f.height||(o.width=f.width=n,o.height=f.height=a,e.bindRenderbuffer(36161,f.renderbuffer),e.renderbufferStorage(36161,f.format,n,a),i.profile&&(f.stats.size=_e[f.format]*f.width*f.height)),o},o._reglType="renderbuffer",o._renderbuffer=f,i.profile&&(o.stats=f.stats),o.destroy=function(){f.decRef()},o},clear:function(){$(l).forEach(o)},restore:function(){$(l).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height)})),e.bindRenderbuffer(36161,null)}}},me=[];me[6408]=4,me[6407]=3;var be=[];be[5121]=1,be[5126]=4,be[36193]=2;var we=["x","y","z","w"],xe="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ae={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},je={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ee={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ke={cw:2304,ccw:2305},Ve=new D(!1,!1,!1,(function(){}));return function(e){function t(){if(0===K.length)x&&x.update(),ee=null;else{ee=q.next(t),c();for(var e=K.length-1;0<=e;--e){var r=K[e];r&&r(I,null,0)}v.flush(),x&&x.update()}}function r(){!ee&&0<K.length&&(ee=q.next(t))}function n(){ee&&(q.cancel(t),ee=null)}function a(e){e.preventDefault(),n(),Z.forEach((function(e){e()}))}function o(e){v.getError(),y.restore(),M.restore(),B.restore(),L.restore(),R.restore(),H.restore(),z.restore(),x&&x.restore(),Y.procs.refresh(),r(),X.forEach((function(e){e()}))}function u(e){function t(e,t){var r={},n={};return Object.keys(e).forEach((function(i){var a=e[i];if(P.isDynamic(a))n[i]=P.unbox(a,i);else{if(t&&Array.isArray(a))for(var o=0;o<a.length;++o)if(P.isDynamic(a[o]))return void(n[i]=P.unbox(a,i));r[i]=a}})),{dynamic:n,static:r}}var r=t(e.context||{},!0),n=t(e.uniforms||{},!0),i=t(e.attributes||{},!1);e=t(function(e){function t(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach((function(n){r[e+"."+n]=t[n]}))}}var r=U({},e);return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),t("blend"),t("depth"),t("cull"),t("stencil"),t("polygonOffset"),t("scissor"),t("sample"),"vao"in e&&(r.vao=e.vao),r}(e),!1);var a={gpuTime:0,cpuTime:0,count:0},o=Y.compile(e,i,n,r,a),u=o.draw,s=o.batch,f=o.scope,l=[];return U((function(e,t){var r;if("function"==typeof e)return f.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(r=0;r<e;++r)f.call(this,null,t,r);else{if(!Array.isArray(e))return f.call(this,e,t,0);for(r=0;r<e.length;++r)f.call(this,e[r],t,r)}else if("number"==typeof e){if(0<e)return s.call(this,function(e){for(;l.length<e;)l.push(null);return l}(0|e),0|e)}else{if(!Array.isArray(e))return u.call(this,e);if(e.length)return s.call(this,e,e.length)}}),{stats:a,destroy:function(){o.destroy()}})}function s(e,t){var r=0;Y.procs.poll();var n=t.color;n&&(v.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=16384),"depth"in t&&(v.clearDepth(+t.depth),r|=256),"stencil"in t&&(v.clearStencil(0|t.stencil),r|=1024),v.clear(r)}function f(e){return K.push(e),r(),{cancel:function(){var t=F(K,e);K[t]=function e(){var t=F(K,e);K[t]=K[K.length-1],--K.length,0>=K.length&&n()}}}}function l(){var e=$.viewport,t=$.scissor_box;e[0]=e[1]=t[0]=t[1]=0,I.viewportWidth=I.framebufferWidth=I.drawingBufferWidth=e[2]=t[2]=v.drawingBufferWidth,I.viewportHeight=I.framebufferHeight=I.drawingBufferHeight=e[3]=t[3]=v.drawingBufferHeight}function c(){I.tick+=1,I.time=g(),l(),Y.procs.poll()}function h(){L.refresh(),l(),Y.procs.refresh(),x&&x.update()}function g(){return(W()-A)/1e3}if(!(e=i(e)))return null;var v=e.gl,_=v.getContextAttributes();v.isContextLost();var y=function(e,t){function r(t){var r;t=t.toLowerCase();try{r=n[t]=e.getExtension(t)}catch(e){}return!!r}for(var n={},i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw Error("(regl): error restoring extension "+e)}))}}}(v,e);if(!y)return null;var m=function(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}(),b={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},w=y.extensions,x=function(e,t){function r(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function n(e,t,n){var i=o.pop()||new r;i.startQueryIndex=e,i.endQueryIndex=t,i.sum=0,i.stats=n,u.push(i)}if(!t.ext_disjoint_timer_query)return null;var i=[],a=[],o=[],u=[],s=[],f=[];return{beginQuery:function(e){var r=i.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(35007,r),a.push(r),n(a.length-1,a.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var e,r;if(0!==(e=a.length)){f.length=Math.max(f.length,e+1),s.length=Math.max(s.length,e+1),s[0]=0;var n=f[0]=0;for(r=e=0;r<a.length;++r){var l=a[r];t.ext_disjoint_timer_query.getQueryObjectEXT(l,34919)?(n+=t.ext_disjoint_timer_query.getQueryObjectEXT(l,34918),i.push(l)):a[e++]=l,s[r+1]=n,f[r+1]=e}for(a.length=e,r=e=0;r<u.length;++r){var c=(n=u[r]).startQueryIndex;l=n.endQueryIndex;n.sum+=s[l]-s[c],c=f[c],(l=f[l])===c?(n.stats.gpuTime+=n.sum/1e6,o.push(n)):(n.startQueryIndex=c,n.endQueryIndex=l,u[e++]=n)}u.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){i.push.apply(i,a);for(var e=0;e<i.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(i[e]);a.length=0,i.length=0},restore:function(){a.length=0,i.length=0}}}(0,w),A=W(),k=v.drawingBufferWidth,S=v.drawingBufferHeight,I={tick:0,time:0,viewportWidth:k,viewportHeight:S,framebufferWidth:k,framebufferHeight:S,drawingBufferWidth:k,drawingBufferHeight:S,pixelRatio:e.pixelRatio},C=(k={elements:null,primitive:4,count:-1,offset:0,instances:-1},G(v,w)),B=p(v,b,e,(function(e){return z.destroyBuffer(e)})),D=d(v,w,B,b),z=V(v,w,C,b,B,D,k),M=T(v,m,b,e),L=j(v,w,C,(function(){Y.procs.poll()}),I,b,e),R=ye(v,w,0,b,e),H=E(v,w,C,L,R,b),Y=N(v,m,w,C,B,D,0,H,{},z,M,k,I,x,e),$=(m=O(v,H,Y.procs.poll,I),Y.next),Q=v.canvas,K=[],Z=[],X=[],J=[e.onDestroy],ee=null;Q&&(Q.addEventListener("webglcontextlost",a,!1),Q.addEventListener("webglcontextrestored",o,!1));var te=H.setFBO=u({framebuffer:P.define.call(null,1,"framebuffer")});return h(),_=U(u,{clear:function(e){if("framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;6>t;++t)te(U({framebuffer:e.framebuffer.faces[t]},e),s);else te(e,s);else s(0,e)},prop:P.define.bind(null,1),context:P.define.bind(null,2),this:P.define.bind(null,3),draw:u({}),buffer:function(e){return B.create(e,34962,!1,!1)},elements:function(e){return D.create(e,!1)},texture:L.create2D,cube:L.createCube,renderbuffer:R.create,framebuffer:H.create,framebufferCube:H.createCube,vao:z.createVAO,attributes:_,frame:f,on:function(e,t){var r;switch(e){case"frame":return f(t);case"lost":r=Z;break;case"restore":r=X;break;case"destroy":r=J}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t){r[e]=r[r.length-1],r.pop();break}}}},limits:C,hasExtension:function(e){return 0<=C.extensions.indexOf(e.toLowerCase())},read:m,destroy:function(){K.length=0,n(),Q&&(Q.removeEventListener("webglcontextlost",a),Q.removeEventListener("webglcontextrestored",o)),M.clear(),H.clear(),R.clear(),z.clear(),L.clear(),D.clear(),B.clear(),x&&x.clear(),J.forEach((function(e){e()}))},_gl:v,_refresh:h,poll:function(){c(),x&&x.update()},now:g,stats:b}),e.onDone(null,_),_}}))},{}],53:[function(e,t,r){"use strict";var n=e("parse-unit");t.exports=u;var i=o("in",document.body);function a(e,t){var r=n(getComputedStyle(e).getPropertyValue(t));return r[0]*u(r[1],e)}function o(e,t){var r=document.createElement("div");r.style.height="128"+e,t.appendChild(r);var n=a(r,"height")/128;return t.removeChild(r),n}function u(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return o(e,t);case"em":return a(t,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6;case"px":return 1}var r=n(e);if(!isNaN(r[0])&&r[1]){var s=u(r[1],t);return"number"==typeof s?r[0]*s:null}return null}},{"parse-unit":48}],54:[function(e,t,r){(function(t){(function(){"use strict";var n=e("bit-twiddle"),i=e("dup"),a=e("buffer").Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,u="undefined"!=typeof BigUint64Array,s="undefined"!=typeof BigInt64Array,f=t.__TYPEDARRAY_POOL;f.UINT8C||(f.UINT8C=i([32,0])),f.BIGUINT64||(f.BIGUINT64=i([32,0])),f.BIGINT64||(f.BIGINT64=i([32,0])),f.BUFFER||(f.BUFFER=i([32,0]));var l=f.DATA,c=f.BUFFER;function h(e){if(e){var t=e.length||e.byteLength,r=n.log2(t);l[r].push(e)}}function p(e){e=n.nextPow2(e);var t=n.log2(e),r=l[t];return r.length>0?r.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(p(e),0,e)}function g(e){return new Uint16Array(p(2*e),0,e)}function v(e){return new Uint32Array(p(4*e),0,e)}function _(e){return new Int8Array(p(e),0,e)}function y(e){return new Int16Array(p(2*e),0,e)}function m(e){return new Int32Array(p(4*e),0,e)}function b(e){return new Float32Array(p(4*e),0,e)}function w(e){return new Float64Array(p(8*e),0,e)}function x(e){return o?new Uint8ClampedArray(p(e),0,e):d(e)}function A(e){return u?new BigUint64Array(p(8*e),0,e):null}function j(e){return s?new BigInt64Array(p(8*e),0,e):null}function E(e){return new DataView(p(e),0,e)}function k(e){e=n.nextPow2(e);var t=n.log2(e),r=c[t];return r.length>0?r.pop():new a(e)}r.free=function(e){if(a.isBuffer(e))c[n.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|n.log2(t);l[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){h(e.buffer)},r.freeArrayBuffer=h,r.freeBuffer=function(e){c[n.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return p(e);switch(t){case"uint8":return d(e);case"uint16":return g(e);case"uint32":return v(e);case"int8":return _(e);case"int16":return y(e);case"int32":return m(e);case"float":case"float32":return b(e);case"double":case"float64":return w(e);case"uint8_clamped":return x(e);case"bigint64":return j(e);case"biguint64":return A(e);case"buffer":return k(e);case"data":case"dataview":return E(e);default:return null}return null},r.mallocArrayBuffer=p,r.mallocUint8=d,r.mallocUint16=g,r.mallocUint32=v,r.mallocInt8=_,r.mallocInt16=y,r.mallocInt32=m,r.mallocFloat32=r.mallocFloat=b,r.mallocFloat64=r.mallocDouble=w,r.mallocUint8Clamped=x,r.mallocBigUint64=A,r.mallocBigInt64=j,r.mallocDataView=E,r.mallocBuffer=k,r.clearCache=function(){for(var e=0;e<32;++e)f.UINT8[e].length=0,f.UINT16[e].length=0,f.UINT32[e].length=0,f.INT8[e].length=0,f.INT16[e].length=0,f.INT32[e].length=0,f.FLOAT[e].length=0,f.DOUBLE[e].length=0,f.BIGUINT64[e].length=0,f.BIGINT64[e].length=0,f.UINT8C[e].length=0,l[e].length=0,c[e].length=0}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":2,buffer:3,dup:8}],55:[function(e,t,r){"use strict";t.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],o=1;o<n;++o)if(a=i,t(i=e[o],a)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,(n=e[a])!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}(e))}},{}],56:[function(e,t,r){const n=e("numjs");t.exports=function(e){const t=e.u,r=e.v,i=t.y-t.x,a=r.y-r.x,o=Math.sqrt(i*a/e.numPoints),u=o,s=2*e.numPoints*2*3;for(var f=n.arange(s),l=[],c=0,h=t.x;h<t.y&&c<s;h+=o)for(var p=r.x;p<r.y&&c<s;p+=u){var d=[c];f.set(c++,[h,p]),d.push(c),f.set(c++,[h+o,p]),d.push(c),f.set(c++,[h,p+u]),l.push(d),d=[c],f.set(c++,[h+o,p]),d.push(c),f.set(c++,[h,p+u]),d.push(c),f.set(c++,[h+o,p+u]),l.push(d)}return{positions:f.tolist(),cells:l}}},{numjs:45}],57:[function(e,t,r){const n=e("./createMesh"),i=e("regl")({extensions:["oes_standard_derivatives"]}),a=e("glslify"),o=e("regl-camera")(i,{distance:3,theta:Math.PI/2}),u={u:{x:0,y:Math.PI},v:{x:0,y:Math.PI},numPoints:1e3},s=e("glsl-solid-wireframe")(n(u)),f=i({uniforms:{color:i.prop("color")},attributes:{position:s.positions,barycentric:s.barycentric,uInt:i.prop("uInt"),vInt:i.prop("vInt"),R:i.prop("R"),P:i.prop("P")},elements:s.cells,vert:"\n\tprecision mediump float;\n\tattribute vec2 position, barycentric;\n\tattribute float R, P;\n\tuniform mat4 projection, view;\n\n\tvarying vec2 uv, b;\n\n\tattribute vec2 uInt, vInt;\n\n\tvec3 parametricFunc(vec2 uv) {\n\t\t// will this overflow??\n\n\t\tfloat x = R * (cos(uv.x/2.0)*cos(uv.y) - sin(uv.x/2.0)*sin(2.0*uv.y));\n\t\tfloat y = R * (sin(uv.x/2.0)*cos(uv.y) - cos(uv.x/2.0)*sin(2.0*uv.y));\n\t\tfloat z = P*cos(uv.x);\n\t\treturn vec3(x, y, z);\n\t}\n\n\tvoid main() {\n\t\tuv = position;\n\t\tb = barycentric;\n\n\t\t// map our vector on the uv plane into xyz vector\n\t\tvec3 finalPos = vec3(position, 0);\n\n\t\tgl_Position = projection*view*vec4(finalPos, 1);\n\t}",frag:a(["\n\t#extension GL_OES_standard_derivatives : enable\n\tprecision mediump float;\n#define GLSLIFY 1\n#define GLSLIFY 1\n\n\tfloat gridFactor (vec2 vBC, float width, float feather) {\n  float w1 = width - feather * 0.5;\n  vec3 bary = vec3(vBC.x, vBC.y, 1.0 - vBC.x - vBC.y);\n  vec3 d = fwidth(bary);\n  vec3 a3 = smoothstep(d * w1, d * (w1 + feather), bary);\n  return min(min(a3.x, a3.y), a3.z);\n}\n\nfloat gridFactor (vec2 vBC, float width) {\n  vec3 bary = vec3(vBC.x, vBC.y, 1.0 - vBC.x - vBC.y);\n  vec3 d = fwidth(bary);\n  vec3 a3 = smoothstep(d * (width - 0.5), d * (width + 0.5), bary);\n  return min(min(a3.x, a3.y), a3.z);\n}\n\n\tvarying vec2 b;\n\tuniform vec3 color;\n\tvarying vec2 uv;\n\n\tvoid main() {\n\t\tvec3 col = 0.5*cos(uv.xyx+color);\n\t\tcol = mix(vec3(0.2), col, vec3(gridFactor(b, 0.2)));\n\t\tgl_FragColor = vec4(col, 1);\n\n\t}"])});i.frame(e=>{i.clear({color:[1,1,1,1],depth:1}),o(e=>{f({uInt:[u.u.x,u.u.y],vInt:[u.v.x,u.v.y],R:.2,P:.3,color:[.1,.5,.1]})})})},{"./createMesh":56,"glsl-solid-wireframe":12,glslify:13,regl:52,"regl-camera":51}]},{},[57]);